{"ast":null,"code":"import React from'react';import{Select,SelectContent,SelectItem,SelectTrigger}from'../ui/select';import{Loader2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const FormSelect=_ref=>{let{label,name,value,onValueChange,options,placeholder,loading,disabled,icon,required}=_ref;const selected=React.useMemo(()=>options.find(opt=>opt.value===value),[options,value]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:name,className:\"text-sm font-medium flex items-center\",children:[icon,/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[label,required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-destructive ml-1\",children:\"*\"})]}),loading&&/*#__PURE__*/_jsx(Loader2,{className:\"ml-2 h-4 w-4 animate-spin\"})]}),/*#__PURE__*/_jsxs(Select,{value:value,onValueChange:val=>onValueChange(name,val),disabled:disabled||loading,children:[/*#__PURE__*/_jsx(SelectTrigger,{id:name,className:\"w-full\",children:/*#__PURE__*/_jsx(\"span\",{className:selected?undefined:'text-muted-foreground',children:selected?selected.label:placeholder})}),/*#__PURE__*/_jsx(SelectContent,{children:loading?/*#__PURE__*/// IMPORTANT: no usar value=\"\" — Radix lo prohíbe\n_jsx(SelectItem,{value:\"__loading__\",disabled:true,children:\"Cargando...\"}):options.length>0?options.map(option=>{var _option$dropdownLabel;return/*#__PURE__*/_jsx(SelectItem,{value:option.value,children:(_option$dropdownLabel=option.dropdownLabel)!==null&&_option$dropdownLabel!==void 0?_option$dropdownLabel:option.label},option.value);}):/*#__PURE__*/_jsx(SelectItem,{value:\"__empty__\",disabled:true,children:\"Sin opciones\"})})]})]});};","map":{"version":3,"names":["React","Select","SelectContent","SelectItem","SelectTrigger","Loader2","jsx","_jsx","jsxs","_jsxs","FormSelect","_ref","label","name","value","onValueChange","options","placeholder","loading","disabled","icon","required","selected","useMemo","find","opt","className","children","htmlFor","val","id","undefined","length","map","option","_option$dropdownLabel","dropdownLabel"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/components/formulario/FormSelect.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger } from '../ui/select';\r\nimport { Loader2 } from 'lucide-react';\r\n\r\ntype Option = {\r\n  value: string;\r\n  /** Texto que se muestra en el trigger (lo que queda visible tras seleccionar). */\r\n  label: string;\r\n  /** Texto opcional solo para el dropdown; si no se provee, usa label. */\r\n  dropdownLabel?: string;\r\n};\r\n\r\ninterface FormSelectProps {\r\n  label: string;\r\n  name: string;\r\n  value: string;\r\n  onValueChange: (name: string, value: string) => void;\r\n  options: Option[];\r\n  placeholder: string;\r\n  loading: boolean;\r\n  disabled: boolean;\r\n  icon: React.ReactNode;\r\n  required?: boolean;\r\n}\r\n\r\nexport const FormSelect: React.FC<FormSelectProps> = ({\r\n  label,\r\n  name,\r\n  value,\r\n  onValueChange,\r\n  options,\r\n  placeholder,\r\n  loading,\r\n  disabled,\r\n  icon,\r\n  required,\r\n}) => {\r\n  const selected = React.useMemo(\r\n    () => options.find((opt) => opt.value === value),\r\n    [options, value]\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <label htmlFor={name} className=\"text-sm font-medium flex items-center\">\r\n        {icon}\r\n        <span className=\"ml-2\">\r\n          {label}\r\n          {required && <span className=\"text-destructive ml-1\">*</span>}\r\n        </span>\r\n        {loading && <Loader2 className=\"ml-2 h-4 w-4 animate-spin\" />}\r\n      </label>\r\n\r\n      <Select\r\n        value={value}\r\n        onValueChange={(val) => onValueChange(name, val)}\r\n        disabled={disabled || loading}\r\n      >\r\n        <SelectTrigger id={name} className=\"w-full\">\r\n          {/* Trigger: si hay seleccionado mostramos su label; si no, el placeholder */}\r\n          <span className={selected ? undefined : 'text-muted-foreground'}>\r\n            {selected ? selected.label : placeholder}\r\n          </span>\r\n        </SelectTrigger>\r\n\r\n        <SelectContent>\r\n          {loading ? (\r\n            // IMPORTANT: no usar value=\"\" — Radix lo prohíbe\r\n            <SelectItem value=\"__loading__\" disabled>\r\n              Cargando...\r\n            </SelectItem>\r\n          ) : options.length > 0 ? (\r\n            options.map((option) => (\r\n              <SelectItem key={option.value} value={option.value}>\r\n                {option.dropdownLabel ?? option.label}\r\n              </SelectItem>\r\n            ))\r\n          ) : (\r\n            <SelectItem value=\"__empty__\" disabled>\r\n              Sin opciones\r\n            </SelectItem>\r\n          )}\r\n        </SelectContent>\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,aAAa,CAAEC,UAAU,CAAEC,aAAa,KAAQ,cAAc,CAC/E,OAASC,OAAO,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAuBvC,MAAO,MAAM,CAAAC,UAAqC,CAAGC,IAAA,EAW/C,IAXgD,CACpDC,KAAK,CACLC,IAAI,CACJC,KAAK,CACLC,aAAa,CACbC,OAAO,CACPC,WAAW,CACXC,OAAO,CACPC,QAAQ,CACRC,IAAI,CACJC,QACF,CAAC,CAAAV,IAAA,CACC,KAAM,CAAAW,QAAQ,CAAGtB,KAAK,CAACuB,OAAO,CAC5B,IAAMP,OAAO,CAACQ,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACX,KAAK,GAAKA,KAAK,CAAC,CAChD,CAACE,OAAO,CAAEF,KAAK,CACjB,CAAC,CAED,mBACEL,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlB,KAAA,UAAOmB,OAAO,CAAEf,IAAK,CAACa,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EACpEP,IAAI,cACLX,KAAA,SAAMiB,SAAS,CAAC,MAAM,CAAAC,QAAA,EACnBf,KAAK,CACLS,QAAQ,eAAId,IAAA,SAAMmB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACzD,CAAC,CACNT,OAAO,eAAIX,IAAA,CAACF,OAAO,EAACqB,SAAS,CAAC,2BAA2B,CAAE,CAAC,EACxD,CAAC,cAERjB,KAAA,CAACR,MAAM,EACLa,KAAK,CAAEA,KAAM,CACbC,aAAa,CAAGc,GAAG,EAAKd,aAAa,CAACF,IAAI,CAAEgB,GAAG,CAAE,CACjDV,QAAQ,CAAEA,QAAQ,EAAID,OAAQ,CAAAS,QAAA,eAE9BpB,IAAA,CAACH,aAAa,EAAC0B,EAAE,CAAEjB,IAAK,CAACa,SAAS,CAAC,QAAQ,CAAAC,QAAA,cAEzCpB,IAAA,SAAMmB,SAAS,CAAEJ,QAAQ,CAAGS,SAAS,CAAG,uBAAwB,CAAAJ,QAAA,CAC7DL,QAAQ,CAAGA,QAAQ,CAACV,KAAK,CAAGK,WAAW,CACpC,CAAC,CACM,CAAC,cAEhBV,IAAA,CAACL,aAAa,EAAAyB,QAAA,CACXT,OAAO,cACN;AACAX,IAAA,CAACJ,UAAU,EAACW,KAAK,CAAC,aAAa,CAACK,QAAQ,MAAAQ,QAAA,CAAC,aAEzC,CAAY,CAAC,CACXX,OAAO,CAACgB,MAAM,CAAG,CAAC,CACpBhB,OAAO,CAACiB,GAAG,CAAEC,MAAM,OAAAC,qBAAA,oBACjB5B,IAAA,CAACJ,UAAU,EAAoBW,KAAK,CAAEoB,MAAM,CAACpB,KAAM,CAAAa,QAAA,EAAAQ,qBAAA,CAChDD,MAAM,CAACE,aAAa,UAAAD,qBAAA,UAAAA,qBAAA,CAAID,MAAM,CAACtB,KAAK,EADtBsB,MAAM,CAACpB,KAEZ,CAAC,EACd,CAAC,cAEFP,IAAA,CAACJ,UAAU,EAACW,KAAK,CAAC,WAAW,CAACK,QAAQ,MAAAQ,QAAA,CAAC,cAEvC,CAAY,CACb,CACY,CAAC,EACV,CAAC,EACN,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}