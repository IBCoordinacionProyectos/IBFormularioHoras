{"ast":null,"code":"var _jsxFileName = \"D:\\\\formulario de horas\\\\FormularioHoras Version 1\\\\frontend\\\\src\\\\components\\\\FormularioHoras.tsx\",\n  _s = $RefreshSig$();\n// src/components/FormularioHoras.tsx\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { toast } from 'sonner';\nimport { Calendar, Briefcase, Trash2, LogOut, Save, Pencil, ListChecks, ClipboardList, Clock, XCircle, PlusCircle, Loader2 } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Badge } from './ui/badge';\nimport { Progress } from './ui/progress';\nimport { Skeleton } from './ui/skeleton';\nimport { submitHours, getProjects, getProjectStages, getDisciplinesByStage, getActivitiesByDiscipline, getDailyActivities, deleteHour } from '../api/horasApi';\n\n// Interfaces\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFormData = employeeId => ({\n  employee_id: String(employeeId),\n  project_code: '',\n  phase: '',\n  discipline: '',\n  activity: '',\n  hours: '',\n  note: ''\n});\n\n// Main Component\nconst FormularioHoras = ({\n  onSuccess,\n  employeeId,\n  employeeName,\n  onLogout\n}) => {\n  _s();\n  // State Management\n  const [formData, setFormData] = useState(initialFormData(employeeId));\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [dailyActivities, setDailyActivities] = useState([]);\n  const [projects, setProjects] = useState([]);\n  const [stages, setStages] = useState([]);\n  const [disciplines, setDisciplines] = useState([]);\n  const [activities, setActivities] = useState([]);\n  const [editingActivityId, setEditingActivityId] = useState(null);\n\n  // Loading States\n  const [loading, setLoading] = useState({\n    submit: false,\n    projects: true,\n    stages: false,\n    disciplines: false,\n    activities: false,\n    dailyActivities: true\n  });\n\n  // Memoized Values\n  const totalHoursToday = useMemo(() => dailyActivities.reduce((sum, activity) => sum + activity.hours, 0), [dailyActivities]);\n  const selectedProjectName = useMemo(() => {\n    var _projects$find;\n    return ((_projects$find = projects.find(p => p.code === formData.project_code)) === null || _projects$find === void 0 ? void 0 : _projects$find.name) || '';\n  }, [formData.project_code, projects]);\n\n  // Data Fetching\n  const refreshDailyActivities = useCallback(async (date, employeeId) => {\n    setLoading(prev => ({\n      ...prev,\n      dailyActivities: true\n    }));\n    try {\n      const dateString = format(date, 'yyyy-MM-dd');\n      const activities = await getDailyActivities(dateString, Number(employeeId));\n      setDailyActivities(activities);\n    } catch (error) {\n      toast.error('Error al cargar las actividades del día.');\n      console.error('Error fetching daily activities:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        dailyActivities: false\n      }));\n    }\n  }, []);\n  useEffect(() => {\n    refreshDailyActivities(selectedDate, String(employeeId));\n  }, [selectedDate, employeeId, refreshDailyActivities]);\n  useEffect(() => {\n    const fetchProjects = async () => {\n      setLoading(prev => ({\n        ...prev,\n        projects: true\n      }));\n      try {\n        const data = await getProjects();\n        setProjects(data);\n      } catch (error) {\n        toast.error('Error al cargar los proyectos.');\n        console.error('Error fetching projects:', error);\n      } finally {\n        setLoading(prev => ({\n          ...prev,\n          projects: false\n        }));\n      }\n    };\n    fetchProjects();\n  }, []);\n  useEffect(() => {\n    if (!formData.project_code) {\n      setStages([]);\n      setDisciplines([]);\n      setActivities([]);\n      return;\n    }\n    const fetchStages = async () => {\n      setLoading(prev => ({\n        ...prev,\n        stages: true\n      }));\n      try {\n        const data = await getProjectStages(formData.project_code);\n        setStages(data.map(String));\n      } catch (error) {\n        toast.error('Error al cargar las etapas del proyecto.');\n      } finally {\n        setLoading(prev => ({\n          ...prev,\n          stages: false\n        }));\n      }\n    };\n    fetchStages();\n  }, [formData.project_code]);\n  useEffect(() => {\n    if (!formData.phase) {\n      setDisciplines([]);\n      setActivities([]);\n      return;\n    }\n    const fetchDisciplines = async () => {\n      setLoading(prev => ({\n        ...prev,\n        disciplines: true\n      }));\n      try {\n        const data = await getDisciplinesByStage(formData.project_code, formData.phase);\n        setDisciplines(data.map(String));\n      } catch (error) {\n        toast.error('Error al cargar las disciplinas.');\n      } finally {\n        setLoading(prev => ({\n          ...prev,\n          disciplines: false\n        }));\n      }\n    };\n    fetchDisciplines();\n  }, [formData.project_code, formData.phase]);\n  useEffect(() => {\n    if (!formData.discipline) {\n      setActivities([]);\n      return;\n    }\n    const fetchActivities = async () => {\n      setLoading(prev => ({\n        ...prev,\n        activities: true\n      }));\n      try {\n        const data = await getActivitiesByDiscipline(formData.project_code, formData.phase, formData.discipline);\n        setActivities(data.map(String));\n      } catch (error) {\n        toast.error('Error al cargar las actividades.');\n      } finally {\n        setLoading(prev => ({\n          ...prev,\n          activities: false\n        }));\n      }\n    };\n    fetchActivities();\n  }, [formData.project_code, formData.phase, formData.discipline]);\n\n  // Handlers\n  const handleDateChange = e => {\n    const dateValue = e.target.value;\n    if (dateValue) {\n      setSelectedDate(parseISO(dateValue));\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSelectChange = (name, value) => {\n    setFormData(prev => {\n      const newState = {\n        ...prev,\n        [name]: value\n      };\n      if (name === 'project_code') {\n        newState.phase = '';\n        newState.discipline = '';\n        newState.activity = '';\n      } else if (name === 'phase') {\n        newState.discipline = '';\n        newState.activity = '';\n      } else if (name === 'discipline') {\n        newState.activity = '';\n      }\n      return newState;\n    });\n  };\n  const resetForm = useCallback(() => {\n    setFormData(initialFormData(employeeId));\n    setEditingActivityId(null);\n  }, [employeeId]);\n  const handleEditActivity = activity => {\n    setFormData({\n      employee_id: String(activity.employee_id),\n      project_code: activity.project_code,\n      phase: activity.phase,\n      discipline: activity.discipline,\n      activity: activity.activity,\n      hours: String(activity.hours),\n      note: activity.note || ''\n    });\n    setEditingActivityId(activity.id);\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n  const handleDelete = async idToDelete => {\n    try {\n      await deleteHour(idToDelete);\n      toast.success('Actividad eliminada con éxito');\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      if (editingActivityId === idToDelete) {\n        resetForm();\n      }\n      onSuccess();\n    } catch (error) {\n      toast.error('Ocurrió un error al eliminar la actividad.');\n      console.error('Error deleting activity:', error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(prev => ({\n      ...prev,\n      submit: true\n    }));\n    try {\n      const dataToSubmit = {\n        ...formData,\n        date: format(selectedDate, 'yyyy-MM-dd'),\n        hours: parseFloat(formData.hours)\n      };\n      if (editingActivityId) {\n        await deleteHour(editingActivityId);\n      }\n      await submitHours(dataToSubmit);\n      toast.success(`Actividad ${editingActivityId ? 'actualizada' : 'registrada'} con éxito`);\n      resetForm();\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      onSuccess();\n    } catch (error) {\n      toast.error('Error al registrar las horas');\n      console.error('Error submitting hours:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        submit: false\n      }));\n    }\n  };\n  const isFormValid = useMemo(() => formData.project_code && formData.phase && formData.discipline && formData.activity && formData.hours && parseFloat(formData.hours) > 0, [formData]);\n\n  // Render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4 sm:p-6 lg:p-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-foreground mb-2 sm:mb-0\",\n        children: \"Registro de Horas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(Badge, {\n          variant: \"secondary\",\n          className: \"text-sm font-medium py-2 px-3\",\n          children: [/*#__PURE__*/_jsxDEV(Briefcase, {\n            className: \"mr-2 h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this), \" \", employeeName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"ghost\",\n          size: \"icon\",\n          onClick: onLogout,\n          children: [/*#__PURE__*/_jsxDEV(LogOut, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sr-only\",\n            children: \"Cerrar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-5 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"lg:col-span-3\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: /*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"flex items-center\",\n              children: [editingActivityId ? /*#__PURE__*/_jsxDEV(Pencil, {\n                className: \"mr-2 h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 54\n              }, this) : /*#__PURE__*/_jsxDEV(PlusCircle, {\n                className: \"mr-2 h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 92\n              }, this), editingActivityId ? 'Editar Actividad' : 'Registrar Actividad']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"date\",\n                  className: \"font-medium text-muted-foreground\",\n                  children: \"Fecha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                    className: \"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"date\",\n                    type: \"date\",\n                    value: format(selectedDate, 'yyyy-MM-dd'),\n                    onChange: handleDateChange,\n                    className: \"pl-10\",\n                    max: format(new Date(), 'yyyy-MM-dd')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(FormSelect, {\n                  label: \"C\\xF3digo de Proyecto\",\n                  name: \"project_code\",\n                  value: formData.project_code,\n                  onValueChange: handleSelectChange,\n                  options: projects.map(p => ({\n                    value: p.code,\n                    label: `${p.code} - ${p.name}`\n                  })),\n                  placeholder: \"Seleccione un proyecto\",\n                  loading: loading.projects,\n                  disabled: loading.projects,\n                  icon: /*#__PURE__*/_jsxDEV(Briefcase, {\n                    className: \"h-4 w-4 text-muted-foreground\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 47\n                  }, this),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"font-medium text-muted-foreground\",\n                    children: \"Nombre del Proyecto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    value: selectedProjectName,\n                    readOnly: true,\n                    className: \"bg-muted/50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                  label: \"Etapa\",\n                  name: \"phase\",\n                  value: formData.phase,\n                  onValueChange: handleSelectChange,\n                  options: stages.map(s => ({\n                    value: s,\n                    label: s\n                  })),\n                  placeholder: \"Seleccione una etapa\",\n                  loading: loading.stages,\n                  disabled: !formData.project_code || loading.stages,\n                  icon: /*#__PURE__*/_jsxDEV(ListChecks, {\n                    className: \"h-4 w-4 text-muted-foreground\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 47\n                  }, this),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                  label: \"Disciplina\",\n                  name: \"discipline\",\n                  value: formData.discipline,\n                  onValueChange: handleSelectChange,\n                  options: disciplines.map(d => ({\n                    value: d,\n                    label: d\n                  })),\n                  placeholder: \"Seleccione una disciplina\",\n                  loading: loading.disciplines,\n                  disabled: !formData.phase || loading.disciplines,\n                  icon: /*#__PURE__*/_jsxDEV(Pencil, {\n                    className: \"h-4 w-4 text-muted-foreground\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 47\n                  }, this),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                  label: \"Actividad\",\n                  name: \"activity\",\n                  value: formData.activity,\n                  onValueChange: handleSelectChange,\n                  options: activities.map(a => ({\n                    value: a,\n                    label: a\n                  })),\n                  placeholder: \"Seleccione una actividad\",\n                  loading: loading.activities,\n                  disabled: !formData.discipline || loading.activities,\n                  icon: /*#__PURE__*/_jsxDEV(ClipboardList, {\n                    className: \"h-4 w-4 text-muted-foreground\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 47\n                  }, this),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"hours\",\n                    className: \"font-medium text-muted-foreground\",\n                    children: [\"Horas \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-destructive\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 116\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"hours\",\n                    name: \"hours\",\n                    type: \"number\",\n                    value: formData.hours,\n                    onChange: handleChange,\n                    min: \"0.5\",\n                    step: \"0.5\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"note\",\n                  className: \"font-medium text-muted-foreground\",\n                  children: \"Nota (Opcional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"note\",\n                  name: \"note\",\n                  type: \"text\",\n                  value: formData.note,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-end space-x-2 pt-4\",\n                children: [editingActivityId && /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  variant: \"outline\",\n                  onClick: resetForm,\n                  children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                    className: \"mr-2 h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 45\n                  }, this), \"Cancelar Edici\\xF3n\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  disabled: !isFormValid || loading.submit,\n                  className: \"min-w-[150px]\",\n                  children: [loading.submit ? /*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"mr-2 h-4 w-4 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 45\n                  }, this) : /*#__PURE__*/_jsxDEV(Save, {\n                    className: \"mr-2 h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 45\n                  }, this), editingActivityId ? 'Actualizar' : 'Guardar']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"lg:col-span-2\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: /*#__PURE__*/_jsxDEV(CardTitle, {\n              children: \"Actividades del D\\xEDa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: loading.dailyActivities ? /*#__PURE__*/_jsxDEV(ActivityListSkeleton, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 37\n              }, this) : dailyActivities.length > 0 ? dailyActivities.map(activity => /*#__PURE__*/_jsxDEV(ActivityItem, {\n                activity: activity,\n                onEdit: handleEditActivity,\n                onDelete: handleDelete\n              }, activity.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 41\n              }, this)) : /*#__PURE__*/_jsxDEV(EmptyState, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6\",\n              children: /*#__PURE__*/_jsxDEV(TotalHoursProgress, {\n                totalHours: totalHoursToday\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 9\n  }, this);\n};\n\n// Sub-components\n_s(FormularioHoras, \"UnN6zyldKLMhyOwxJKzw/zKrasw=\");\n_c = FormularioHoras;\nconst FormSelect = ({\n  label,\n  name,\n  value,\n  onValueChange,\n  options,\n  placeholder,\n  loading,\n  disabled,\n  icon,\n  required\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"space-y-2\",\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    htmlFor: name,\n    className: \"font-medium text-muted-foreground\",\n    children: [label, \" \", required && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-destructive\",\n      children: \"*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 505,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Select, {\n    name: name,\n    value: value,\n    onValueChange: val => onValueChange(name, val),\n    disabled: disabled || loading,\n    required: required,\n    children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n      id: name,\n      className: \"w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [icon, /*#__PURE__*/_jsxDEV(SelectValue, {\n          placeholder: loading ? 'Cargando...' : placeholder\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n      children: options.map(option => /*#__PURE__*/_jsxDEV(SelectItem, {\n        value: option.value,\n        children: option.label\n      }, option.value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 508,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 504,\n  columnNumber: 5\n}, this);\n_c2 = FormSelect;\nconst ActivityItem = ({\n  activity,\n  onEdit,\n  onDelete\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex items-start justify-between p-4 border rounded-lg transition-colors hover:bg-muted/50\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 pr-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center flex-wrap gap-2 mb-1\",\n      children: [/*#__PURE__*/_jsxDEV(Badge, {\n        variant: \"secondary\",\n        children: activity.project_code\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm text-muted-foreground\",\n        children: [activity.phase, \" / \", activity.discipline]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-medium text-foreground\",\n      children: activity.activity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 13\n    }, this), activity.note && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-muted-foreground mt-1 italic\",\n      children: [\"\\\"\", activity.note, \"\\\"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 31\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 534,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center space-x-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-right mr-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-bold text-lg text-primary\",\n        children: activity.hours.toFixed(1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-muted-foreground -mt-1\",\n        children: \"hrs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"ghost\",\n      size: \"icon\",\n      onClick: () => onEdit(activity),\n      children: /*#__PURE__*/_jsxDEV(Pencil, {\n        className: \"h-4 w-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"ghost\",\n      size: \"icon\",\n      onClick: () => onDelete(activity.id),\n      children: /*#__PURE__*/_jsxDEV(Trash2, {\n        className: \"h-4 w-4 text-destructive\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 544,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 533,\n  columnNumber: 5\n}, this);\n_c3 = ActivityItem;\nconst ActivityListSkeleton = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"space-y-4\",\n  children: [...Array(3)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between p-4 border rounded-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 space-y-2\",\n      children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n        className: \"h-4 w-3/4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n        className: \"h-4 w-1/2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n      className: \"h-8 w-8 rounded-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 17\n    }, this)]\n  }, i, true, {\n    fileName: _jsxFileName,\n    lineNumber: 562,\n    columnNumber: 13\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 560,\n  columnNumber: 5\n}, this);\n_c4 = ActivityListSkeleton;\nconst EmptyState = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"text-center py-10 px-4 bg-muted/20 rounded-lg border-2 border-dashed\",\n  children: [/*#__PURE__*/_jsxDEV(Clock, {\n    className: \"h-12 w-12 mx-auto text-muted-foreground mb-3\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 575,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"font-medium text-muted-foreground\",\n    children: \"No hay actividades registradas para hoy\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 576,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-sm text-muted-foreground mt-1\",\n    children: \"Utilice el formulario para agregar su primera actividad.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 577,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 574,\n  columnNumber: 5\n}, this);\n_c5 = EmptyState;\nconst TotalHoursProgress = ({\n  totalHours\n}) => {\n  const progress = Math.min(totalHours / 8 * 100, 100);\n  const remainingHours = 8 - totalHours;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-primary/5 p-4 rounded-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm font-medium\",\n        children: \"Horas trabajadas hoy:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm font-semibold\",\n        children: [totalHours.toFixed(1), \" / 8.0 horas\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Progress, {\n      value: progress,\n      className: \"h-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-muted-foreground mt-2\",\n      children: totalHours < 8 ? `Faltan ${remainingHours.toFixed(1)} horas para completar la jornada.` : '¡Jornada completa! Buen trabajo.'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 586,\n    columnNumber: 9\n  }, this);\n};\n_c6 = TotalHoursProgress;\nexport default FormularioHoras;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"FormularioHoras\");\n$RefreshReg$(_c2, \"FormSelect\");\n$RefreshReg$(_c3, \"ActivityItem\");\n$RefreshReg$(_c4, \"ActivityListSkeleton\");\n$RefreshReg$(_c5, \"EmptyState\");\n$RefreshReg$(_c6, \"TotalHoursProgress\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","format","parseISO","toast","Calendar","Briefcase","Trash2","LogOut","Save","Pencil","ListChecks","ClipboardList","Clock","XCircle","PlusCircle","Loader2","Card","CardContent","CardHeader","CardTitle","Button","Input","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Badge","Progress","Skeleton","submitHours","getProjects","getProjectStages","getDisciplinesByStage","getActivitiesByDiscipline","getDailyActivities","deleteHour","jsxDEV","_jsxDEV","initialFormData","employeeId","employee_id","String","project_code","phase","discipline","activity","hours","note","FormularioHoras","onSuccess","employeeName","onLogout","_s","formData","setFormData","selectedDate","setSelectedDate","Date","dailyActivities","setDailyActivities","projects","setProjects","stages","setStages","disciplines","setDisciplines","activities","setActivities","editingActivityId","setEditingActivityId","loading","setLoading","submit","totalHoursToday","reduce","sum","selectedProjectName","_projects$find","find","p","code","name","refreshDailyActivities","date","prev","dateString","Number","error","console","fetchProjects","data","fetchStages","map","fetchDisciplines","fetchActivities","handleDateChange","e","dateValue","target","value","handleChange","handleSelectChange","newState","resetForm","handleEditActivity","id","window","scrollTo","top","behavior","handleDelete","idToDelete","success","handleSubmit","preventDefault","dataToSubmit","parseFloat","isFormValid","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","onClick","onSubmit","htmlFor","type","onChange","max","FormSelect","label","onValueChange","options","placeholder","disabled","icon","required","readOnly","s","d","a","min","step","ActivityListSkeleton","length","ActivityItem","onEdit","onDelete","EmptyState","TotalHoursProgress","totalHours","_c","val","option","_c2","toFixed","_c3","Array","_","i","_c4","_c5","progress","Math","remainingHours","_c6","$RefreshReg$"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/components/FormularioHoras.tsx"],"sourcesContent":["// src/components/FormularioHoras.tsx\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { toast } from 'sonner';\nimport {\n    Calendar,\n    Briefcase,\n    Trash2,\n    LogOut,\n    Save,\n    Pencil,\n    ListChecks,\n    ClipboardList,\n    Clock,\n    XCircle,\n    PlusCircle,\n    Loader2,\n} from 'lucide-react';\n\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Badge } from './ui/badge';\nimport { Progress } from './ui/progress';\nimport { Skeleton } from './ui/skeleton';\nimport {\n    submitHours,\n    getProjects,\n    getProjectStages,\n    getDisciplinesByStage,\n    getActivitiesByDiscipline,\n    getDailyActivities,\n    deleteHour,\n} from '../api/horasApi';\n\n// Interfaces\ninterface FormularioHorasProps {\n    onSuccess: () => void;\n    employeeId: number;\n    employeeName: string;\n    onLogout: () => void;\n}\n\ninterface Project {\n    code: string;\n    name: string;\n}\n\ninterface Activity {\n    id: number;\n    date: string;\n    employee_id: number;\n    project_code: string;\n    project_name: string;\n    phase: string;\n    discipline: string;\n    activity: string;\n    hours: number;\n    note: string;\n}\n\ninterface FormSelectProps {\n    label: string;\n    name: string;\n    value: string;\n    onValueChange: (name: string, value: string) => void;\n    options: { value: string; label: string }[];\n    placeholder: string;\n    loading: boolean;\n    disabled: boolean;\n    icon: React.ReactNode;\n    required?: boolean;\n}\n\ninterface ActivityItemProps {\n    activity: Activity;\n    onEdit: (activity: Activity) => void;\n    onDelete: (id: number) => void;\n}\n\ninterface TotalHoursProgressProps {\n    totalHours: number;\n}\n\nconst initialFormData = (employeeId: number) => ({\n    employee_id: String(employeeId),\n    project_code: '',\n    phase: '',\n    discipline: '',\n    activity: '',\n    hours: '',\n    note: '',\n});\n\n// Main Component\nconst FormularioHoras: React.FC<FormularioHorasProps> = ({ onSuccess, employeeId, employeeName, onLogout }) => {\n    // State Management\n    const [formData, setFormData] = useState(initialFormData(employeeId));\n    const [selectedDate, setSelectedDate] = useState(new Date());\n    const [dailyActivities, setDailyActivities] = useState<Activity[]>([]);\n    const [projects, setProjects] = useState<Project[]>([]);\n    const [stages, setStages] = useState<string[]>([]);\n    const [disciplines, setDisciplines] = useState<string[]>([]);\n    const [activities, setActivities] = useState<string[]>([]);\n    const [editingActivityId, setEditingActivityId] = useState<number | null>(null);\n\n    // Loading States\n    const [loading, setLoading] = useState({\n        submit: false,\n        projects: true,\n        stages: false,\n        disciplines: false,\n        activities: false,\n        dailyActivities: true,\n    });\n\n    // Memoized Values\n    const totalHoursToday = useMemo(() =>\n        dailyActivities.reduce((sum, activity) => sum + activity.hours, 0),\n        [dailyActivities]\n    );\n\n    const selectedProjectName = useMemo(() =>\n        projects.find(p => p.code === formData.project_code)?.name || '',\n        [formData.project_code, projects]\n    );\n\n    // Data Fetching\n    const refreshDailyActivities = useCallback(async (date: Date, employeeId: string) => {\n        setLoading(prev => ({ ...prev, dailyActivities: true }));\n        try {\n            const dateString = format(date, 'yyyy-MM-dd');\n            const activities = await getDailyActivities(dateString, Number(employeeId));\n            setDailyActivities(activities);\n        } catch (error) {\n            toast.error('Error al cargar las actividades del día.');\n            console.error('Error fetching daily activities:', error);\n        } finally {\n            setLoading(prev => ({ ...prev, dailyActivities: false }));\n        }\n    }, []);\n\n    useEffect(() => {\n        refreshDailyActivities(selectedDate, String(employeeId));\n    }, [selectedDate, employeeId, refreshDailyActivities]);\n\n    useEffect(() => {\n        const fetchProjects = async () => {\n            setLoading(prev => ({ ...prev, projects: true }));\n            try {\n                const data = await getProjects();\n                setProjects(data);\n            } catch (error) {\n                toast.error('Error al cargar los proyectos.');\n                console.error('Error fetching projects:', error);\n            } finally {\n                setLoading(prev => ({ ...prev, projects: false }));\n            }\n        };\n        fetchProjects();\n    }, []);\n\n    useEffect(() => {\n        if (!formData.project_code) {\n            setStages([]);\n            setDisciplines([]);\n            setActivities([]);\n            return;\n        }\n        const fetchStages = async () => {\n            setLoading(prev => ({ ...prev, stages: true }));\n            try {\n                const data = await getProjectStages(formData.project_code);\n                setStages(data.map(String));\n            } catch (error) {\n                toast.error('Error al cargar las etapas del proyecto.');\n            } finally {\n                setLoading(prev => ({ ...prev, stages: false }));\n            }\n        };\n        fetchStages();\n    }, [formData.project_code]);\n\n    useEffect(() => {\n        if (!formData.phase) {\n            setDisciplines([]);\n            setActivities([]);\n            return;\n        }\n        const fetchDisciplines = async () => {\n            setLoading(prev => ({ ...prev, disciplines: true }));\n            try {\n                const data = await getDisciplinesByStage(formData.project_code, formData.phase);\n                setDisciplines(data.map(String));\n            } catch (error) {\n                toast.error('Error al cargar las disciplinas.');\n            } finally {\n                setLoading(prev => ({ ...prev, disciplines: false }));\n            }\n        };\n        fetchDisciplines();\n    }, [formData.project_code, formData.phase]);\n\n    useEffect(() => {\n        if (!formData.discipline) {\n            setActivities([]);\n            return;\n        }\n        const fetchActivities = async () => {\n            setLoading(prev => ({ ...prev, activities: true }));\n            try {\n                const data = await getActivitiesByDiscipline(formData.project_code, formData.phase, formData.discipline);\n                setActivities(data.map(String));\n            } catch (error) {\n                toast.error('Error al cargar las actividades.');\n            } finally {\n                setLoading(prev => ({ ...prev, activities: false }));\n            }\n        };\n        fetchActivities();\n    }, [formData.project_code, formData.phase, formData.discipline]);\n\n    // Handlers\n    const handleDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const dateValue = e.target.value;\n        if (dateValue) {\n            setSelectedDate(parseISO(dateValue));\n        }\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleSelectChange = (name: string, value: string) => {\n        setFormData(prev => {\n            const newState = { ...prev, [name]: value };\n            if (name === 'project_code') {\n                newState.phase = '';\n                newState.discipline = '';\n                newState.activity = '';\n            } else if (name === 'phase') {\n                newState.discipline = '';\n                newState.activity = '';\n            } else if (name === 'discipline') {\n                newState.activity = '';\n            }\n            return newState;\n        });\n    };\n\n    const resetForm = useCallback(() => {\n        setFormData(initialFormData(employeeId));\n        setEditingActivityId(null);\n    }, [employeeId]);\n\n    const handleEditActivity = (activity: Activity) => {\n        setFormData({\n            employee_id: String(activity.employee_id),\n            project_code: activity.project_code,\n            phase: activity.phase,\n            discipline: activity.discipline,\n            activity: activity.activity,\n            hours: String(activity.hours),\n            note: activity.note || '',\n        });\n        setEditingActivityId(activity.id);\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    };\n\n    const handleDelete = async (idToDelete: number) => {\n        try {\n            await deleteHour(idToDelete);\n            toast.success('Actividad eliminada con éxito');\n            await refreshDailyActivities(selectedDate, String(employeeId));\n            if (editingActivityId === idToDelete) {\n                resetForm();\n            }\n            onSuccess();\n        } catch (error) {\n            toast.error('Ocurrió un error al eliminar la actividad.');\n            console.error('Error deleting activity:', error);\n        }\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(prev => ({ ...prev, submit: true }));\n\n        try {\n            const dataToSubmit = {\n                ...formData,\n                date: format(selectedDate, 'yyyy-MM-dd'),\n                hours: parseFloat(formData.hours),\n            };\n\n            if (editingActivityId) {\n                await deleteHour(editingActivityId);\n            }\n\n            await submitHours(dataToSubmit);\n            toast.success(`Actividad ${editingActivityId ? 'actualizada' : 'registrada'} con éxito`);\n\n            resetForm();\n            await refreshDailyActivities(selectedDate, String(employeeId));\n            onSuccess();\n        } catch (error) {\n            toast.error('Error al registrar las horas');\n            console.error('Error submitting hours:', error);\n        } finally {\n            setLoading(prev => ({ ...prev, submit: false }));\n        }\n    };\n\n    const isFormValid = useMemo(() =>\n        formData.project_code &&\n        formData.phase &&\n        formData.discipline &&\n        formData.activity &&\n        formData.hours &&\n        parseFloat(formData.hours) > 0,\n        [formData]\n    );\n\n    // Render\n    return (\n        <div className=\"container mx-auto p-4 sm:p-6 lg:p-8\">\n            <header className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6\">\n                <h1 className=\"text-3xl font-bold text-foreground mb-2 sm:mb-0\">Registro de Horas</h1>\n                <div className=\"flex items-center space-x-4\">\n                    <Badge variant=\"secondary\" className=\"text-sm font-medium py-2 px-3\">\n                        <Briefcase className=\"mr-2 h-4 w-4\" /> {employeeName}\n                    </Badge>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={onLogout}>\n                        <LogOut className=\"h-5 w-5\" />\n                        <span className=\"sr-only\">Cerrar Sesión</span>\n                    </Button>\n                </div>\n            </header>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-8\">\n                <main className=\"lg:col-span-3\">\n                    <Card>\n                        <CardHeader>\n                            <CardTitle className=\"flex items-center\">\n                                {editingActivityId ? <Pencil className=\"mr-2 h-5 w-5\" /> : <PlusCircle className=\"mr-2 h-5 w-5\" />}\n                                {editingActivityId ? 'Editar Actividad' : 'Registrar Actividad'}\n                            </CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                            <form onSubmit={handleSubmit} className=\"space-y-6\">\n                                <div className=\"space-y-2\">\n                                    <label htmlFor=\"date\" className=\"font-medium text-muted-foreground\">Fecha</label>\n                                    <div className=\"relative\">\n                                        <Calendar className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n                                        <Input\n                                            id=\"date\"\n                                            type=\"date\"\n                                            value={format(selectedDate, 'yyyy-MM-dd')}\n                                            onChange={handleDateChange}\n                                            className=\"pl-10\"\n                                            max={format(new Date(), 'yyyy-MM-dd')}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                    <FormSelect\n                                        label=\"Código de Proyecto\"\n                                        name=\"project_code\"\n                                        value={formData.project_code}\n                                        onValueChange={handleSelectChange}\n                                        options={projects.map(p => ({ value: p.code, label: `${p.code} - ${p.name}` }))}\n                                        placeholder=\"Seleccione un proyecto\"\n                                        loading={loading.projects}\n                                        disabled={loading.projects}\n                                        icon={<Briefcase className=\"h-4 w-4 text-muted-foreground\" />}\n                                        required\n                                    />\n                                    <div className=\"space-y-2\">\n                                        <label className=\"font-medium text-muted-foreground\">Nombre del Proyecto</label>\n                                        <Input value={selectedProjectName} readOnly className=\"bg-muted/50\" />\n                                    </div>\n                                    <FormSelect\n                                        label=\"Etapa\"\n                                        name=\"phase\"\n                                        value={formData.phase}\n                                        onValueChange={handleSelectChange}\n                                        options={stages.map(s => ({ value: s, label: s }))}\n                                        placeholder=\"Seleccione una etapa\"\n                                        loading={loading.stages}\n                                        disabled={!formData.project_code || loading.stages}\n                                        icon={<ListChecks className=\"h-4 w-4 text-muted-foreground\" />}\n                                        required\n                                    />\n                                    <FormSelect\n                                        label=\"Disciplina\"\n                                        name=\"discipline\"\n                                        value={formData.discipline}\n                                        onValueChange={handleSelectChange}\n                                        options={disciplines.map(d => ({ value: d, label: d }))}\n                                        placeholder=\"Seleccione una disciplina\"\n                                        loading={loading.disciplines}\n                                        disabled={!formData.phase || loading.disciplines}\n                                        icon={<Pencil className=\"h-4 w-4 text-muted-foreground\" />}\n                                        required\n                                    />\n                                    <FormSelect\n                                        label=\"Actividad\"\n                                        name=\"activity\"\n                                        value={formData.activity}\n                                        onValueChange={handleSelectChange}\n                                        options={activities.map(a => ({ value: a, label: a }))}\n                                        placeholder=\"Seleccione una actividad\"\n                                        loading={loading.activities}\n                                        disabled={!formData.discipline || loading.activities}\n                                        icon={<ClipboardList className=\"h-4 w-4 text-muted-foreground\" />}\n                                        required\n                                    />\n                                    <div className=\"space-y-2\">\n                                        <label htmlFor=\"hours\" className=\"font-medium text-muted-foreground\">Horas <span className=\"text-destructive\">*</span></label>\n                                        <Input\n                                            id=\"hours\"\n                                            name=\"hours\"\n                                            type=\"number\"\n                                            value={formData.hours}\n                                            onChange={handleChange}\n                                            min=\"0.5\"\n                                            step=\"0.5\"\n                                            required\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    <label htmlFor=\"note\" className=\"font-medium text-muted-foreground\">Nota (Opcional)</label>\n                                    <Input\n                                        id=\"note\"\n                                        name=\"note\"\n                                        type=\"text\"\n                                        value={formData.note}\n                                        onChange={handleChange}\n                                    />\n                                </div>\n\n                                <div className=\"flex justify-end space-x-2 pt-4\">\n                                    {editingActivityId && (\n                                        <Button type=\"button\" variant=\"outline\" onClick={resetForm}>\n                                            <XCircle className=\"mr-2 h-4 w-4\" />\n                                            Cancelar Edición\n                                        </Button>\n                                    )}\n                                    <Button type=\"submit\" disabled={!isFormValid || loading.submit} className=\"min-w-[150px]\">\n                                        {loading.submit ? (\n                                            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                                        ) : (\n                                            <Save className=\"mr-2 h-4 w-4\" />\n                                        )}\n                                        {editingActivityId ? 'Actualizar' : 'Guardar'}\n                                    </Button>\n                                </div>\n                            </form>\n                        </CardContent>\n                    </Card>\n                </main>\n\n                <aside className=\"lg:col-span-2\">\n                    <Card>\n                        <CardHeader>\n                            <CardTitle>Actividades del Día</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                            <div className=\"space-y-4\">\n                                {loading.dailyActivities ? (\n                                    <ActivityListSkeleton />\n                                ) : dailyActivities.length > 0 ? (\n                                    dailyActivities.map(activity => (\n                                        <ActivityItem\n                                            key={activity.id}\n                                            activity={activity}\n                                            onEdit={handleEditActivity}\n                                            onDelete={handleDelete}\n                                        />\n                                    ))\n                                ) : (\n                                    <EmptyState />\n                                )}\n                            </div>\n                            <div className=\"mt-6\">\n                                <TotalHoursProgress totalHours={totalHoursToday} />\n                            </div>\n                        </CardContent>\n                    </Card>\n                </aside>\n            </div>\n        </div>\n    );\n};\n\n// Sub-components\nconst FormSelect: React.FC<FormSelectProps> = ({ label, name, value, onValueChange, options, placeholder, loading, disabled, icon, required }) => (\n    <div className=\"space-y-2\">\n        <label htmlFor={name} className=\"font-medium text-muted-foreground\">\n            {label} {required && <span className=\"text-destructive\">*</span>}\n        </label>\n        <Select\n            name={name}\n            value={value}\n            onValueChange={(val) => onValueChange(name, val)}\n            disabled={disabled || loading}\n            required={required}\n        >\n            <SelectTrigger id={name} className=\"w-full\">\n                <div className=\"flex items-center gap-2\">\n                    {icon}\n                    <SelectValue placeholder={loading ? 'Cargando...' : placeholder} />\n                </div>\n            </SelectTrigger>\n            <SelectContent>\n                {options.map(option => (\n                    <SelectItem key={option.value} value={option.value}>\n                        {option.label}\n                    </SelectItem>\n                ))}\n            </SelectContent>\n        </Select>\n    </div>\n);\n\nconst ActivityItem: React.FC<ActivityItemProps> = ({ activity, onEdit, onDelete }) => (\n    <div className=\"flex items-start justify-between p-4 border rounded-lg transition-colors hover:bg-muted/50\">\n        <div className=\"flex-1 pr-4\">\n            <div className=\"flex items-center flex-wrap gap-2 mb-1\">\n                <Badge variant=\"secondary\">{activity.project_code}</Badge>\n                <span className=\"text-sm text-muted-foreground\">\n                    {activity.phase} / {activity.discipline}\n                </span>\n            </div>\n            <p className=\"font-medium text-foreground\">{activity.activity}</p>\n            {activity.note && <p className=\"text-sm text-muted-foreground mt-1 italic\">\"{activity.note}\"</p>}\n        </div>\n        <div className=\"flex items-center space-x-1\">\n            <div className=\"text-right mr-2\">\n                <div className=\"font-bold text-lg text-primary\">{activity.hours.toFixed(1)}</div>\n                <div className=\"text-xs text-muted-foreground -mt-1\">hrs</div>\n            </div>\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onEdit(activity)}>\n                <Pencil className=\"h-4 w-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onDelete(activity.id)}>\n                <Trash2 className=\"h-4 w-4 text-destructive\" />\n            </Button>\n        </div>\n    </div>\n);\n\nconst ActivityListSkeleton = () => (\n    <div className=\"space-y-4\">\n        {[...Array(3)].map((_, i) => (\n            <div key={i} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                <div className=\"flex-1 space-y-2\">\n                    <Skeleton className=\"h-4 w-3/4\" />\n                    <Skeleton className=\"h-4 w-1/2\" />\n                </div>\n                <Skeleton className=\"h-8 w-8 rounded-full\" />\n            </div>\n        ))}\n    </div>\n);\n\nconst EmptyState = () => (\n    <div className=\"text-center py-10 px-4 bg-muted/20 rounded-lg border-2 border-dashed\">\n        <Clock className=\"h-12 w-12 mx-auto text-muted-foreground mb-3\" />\n        <p className=\"font-medium text-muted-foreground\">No hay actividades registradas para hoy</p>\n        <p className=\"text-sm text-muted-foreground mt-1\">Utilice el formulario para agregar su primera actividad.</p>\n    </div>\n);\n\nconst TotalHoursProgress: React.FC<TotalHoursProgressProps> = ({ totalHours }) => {\n    const progress = Math.min((totalHours / 8) * 100, 100);\n    const remainingHours = 8 - totalHours;\n\n    return (\n        <div className=\"bg-primary/5 p-4 rounded-lg\">\n            <div className=\"flex items-center justify-between mb-1\">\n                <span className=\"text-sm font-medium\">Horas trabajadas hoy:</span>\n                <span className=\"text-sm font-semibold\">{totalHours.toFixed(1)} / 8.0 horas</span>\n            </div>\n            <Progress value={progress} className=\"h-2\" />\n            <p className=\"text-xs text-muted-foreground mt-2\">\n                {totalHours < 8\n                    ? `Faltan ${remainingHours.toFixed(1)} horas para completar la jornada.`\n                    : '¡Jornada completa! Buen trabajo.'}\n            </p>\n        </div>\n    );\n};\n\nexport default FormularioHoras;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}