{"ast":null,"code":"// src/api/horasApi.ts\nimport axios from 'axios';\nexport const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://backend.yeisonduque.top';\n\n/* =========================\r\n   Tipos base (ajusta si quieres)\r\n   ========================= */\n\n/* =========================\r\n   Helpers\r\n   ========================= */\nconst normalizeHours = h => typeof h === 'string' ? parseFloat(h.replace(',', '.')) : h !== null && h !== void 0 ? h : 0;\n\n// Para creación (POST) - incluye date\nconst sanitizeCreate = data => {\n  var _data$project_code, _data$phase, _data$discipline, _data$activity, _data$hours, _data$date;\n  return {\n    project_code: String((_data$project_code = data.project_code) !== null && _data$project_code !== void 0 ? _data$project_code : ''),\n    phase: String((_data$phase = data.phase) !== null && _data$phase !== void 0 ? _data$phase : ''),\n    discipline: String((_data$discipline = data.discipline) !== null && _data$discipline !== void 0 ? _data$discipline : ''),\n    activity: String((_data$activity = data.activity) !== null && _data$activity !== void 0 ? _data$activity : ''),\n    hours: typeof data.hours === 'string' ? parseFloat(data.hours.replace(',', '.')) : Number((_data$hours = data.hours) !== null && _data$hours !== void 0 ? _data$hours : 0),\n    date: String((_data$date = data.date) !== null && _data$date !== void 0 ? _data$date : ''),\n    // En POST sí va date\n    employee_id: typeof data.employee_id === 'string' ? parseInt(data.employee_id, 10) : Number(data.employee_id),\n    note: data.note ? String(data.note) : ''\n  };\n};\n\n// Para actualización (PUT) - sin date y sin campos no editables\nconst sanitizeUpdate = data => {\n  var _rest$project_code, _rest$phase, _rest$discipline, _rest$activity, _rest$hours;\n  // Extraer campos no permitidos en el update\n  const {\n    date,\n    id,\n    employee_id,\n    project_name,\n    ...rest\n  } = data;\n  return {\n    ...rest,\n    project_code: String((_rest$project_code = rest.project_code) !== null && _rest$project_code !== void 0 ? _rest$project_code : ''),\n    phase: String((_rest$phase = rest.phase) !== null && _rest$phase !== void 0 ? _rest$phase : ''),\n    discipline: String((_rest$discipline = rest.discipline) !== null && _rest$discipline !== void 0 ? _rest$discipline : ''),\n    activity: String((_rest$activity = rest.activity) !== null && _rest$activity !== void 0 ? _rest$activity : ''),\n    hours: typeof rest.hours === 'string' ? parseFloat(rest.hours.replace(',', '.')) : Number((_rest$hours = rest.hours) !== null && _rest$hours !== void 0 ? _rest$hours : 0),\n    note: rest.note ? String(rest.note) : ''\n  };\n};\nconst encodeId = id => encodeURIComponent(String(id));\n\n/* =========================\r\n   Crear/Actualizar (botón Guardar/Actualizar)\r\n   ========================= */\nexport const submitHours = async data => {\n  try {\n    if (data !== null && data !== void 0 && data.id) {\n      // UPDATE (PUT)\n      const id = encodeURIComponent(String(data.id));\n      const body = sanitizeUpdate(data);\n      console.log('Enviando datos de actualización:', {\n        hourId: id,\n        payload: body\n      });\n      const res = await axios.put(`${API_BASE_URL}/hours/${id}`, body);\n      return res.data;\n    } else {\n      // CREATE (POST)\n      const body = sanitizeCreate(data);\n      console.log('Creando nueva hora:', body);\n      const res = await axios.post(`${API_BASE_URL}/hours/`, body);\n      return res.data;\n    }\n  } catch (error) {\n    console.error('Error al enviar las horas:', error);\n    if (axios.isAxiosError(error) && error.response) {\n      var _detail, _error$response$data, _error$response$data2;\n      console.error('Detalles del error (submitHours):', error.response.data);\n      const detail = (_detail = (_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) !== null && _detail !== void 0 ? _detail : (_error$response$data2 = error.response.data) === null || _error$response$data2 === void 0 ? void 0 : _error$response$data2.message;\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\n    }\n    throw error;\n  }\n};\n\n/* =========================\r\n   Update/Delete directos (si los usas en otros lados)\r\n   ========================= */\nexport const updateHour = async (hourId, data) => {\n  try {\n    const id = encodeURIComponent(String(hourId));\n    // Quitar campos que el backend no acepta en PUT\n    const {\n      date: _dropDate,\n      id: _dropId,\n      employee_id: _dropEmp,\n      project_name: _dropPN,\n      ...rest\n    } = data !== null && data !== void 0 ? data : {};\n    const body = sanitizeUpdate(rest);\n    console.log('Enviando datos de actualización:', {\n      hourId: id,\n      payload: body\n    });\n    const res = await axios.put(`${API_BASE_URL}/hours/${id}`, body);\n    return res.data;\n  } catch (error) {\n    console.error(`Error al actualizar la hora ${hourId}:`, error);\n    if (axios.isAxiosError(error) && error.response) {\n      var _detail2, _error$response$data3, _error$response$data4;\n      console.error('Detalles del error (updateHour):', error.response.data);\n      const detail = (_detail2 = (_error$response$data3 = error.response.data) === null || _error$response$data3 === void 0 ? void 0 : _error$response$data3.detail) !== null && _detail2 !== void 0 ? _detail2 : (_error$response$data4 = error.response.data) === null || _error$response$data4 === void 0 ? void 0 : _error$response$data4.message;\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\n    }\n    throw error;\n  }\n};\nexport const deleteHour = async hourId => {\n  if (!hourId) throw new Error('hourId vacío para DELETE');\n  const id = encodeURIComponent(String(hourId)); // ← NUNCA Number(...)\n  console.log('DELETE /hours/', id);\n  try {\n    const res = await axios.delete(`${API_BASE_URL}/hours/${id}`);\n    return res.data;\n  } catch (error) {\n    console.error(`Error al eliminar el registro de horas ${hourId}:`, error);\n    if (axios.isAxiosError(error) && error.response) {\n      var _detail3, _error$response$data5, _error$response$data6;\n      console.error('Detalles del error (deleteHour):', error.response.data);\n      const detail = (_detail3 = (_error$response$data5 = error.response.data) === null || _error$response$data5 === void 0 ? void 0 : _error$response$data5.detail) !== null && _detail3 !== void 0 ? _detail3 : (_error$response$data6 = error.response.data) === null || _error$response$data6 === void 0 ? void 0 : _error$response$data6.message;\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\n    }\n    throw error;\n  }\n};\n\n/* =========================\r\n   Catálogos / dependencias\r\n   ========================= */\nexport const getProjects = async () => {\n  const res = await axios.get(`${API_BASE_URL}/projects/`);\n  return res.data;\n};\nexport const getEmployees = async () => {\n  const res = await axios.get(`${API_BASE_URL}/employees/`);\n  return res.data;\n};\nexport const getProjectStages = async projectCode => {\n  const res = await axios.get(`${API_BASE_URL}/activities/project/${encodeURIComponent(projectCode)}/stages`);\n  return res.data;\n};\nexport const getDisciplinesByStage = async (projectCode, stage) => {\n  const res = await axios.get(`${API_BASE_URL}/activities/${encodeURIComponent(projectCode)}::${encodeURIComponent(stage)}/disciplines`);\n  return res.data;\n};\nexport const getActivitiesByDiscipline = async (projectCode, stage, discipline) => {\n  const res = await axios.get(`${API_BASE_URL}/activities/${encodeURIComponent(projectCode)}::${encodeURIComponent(stage)}::${encodeURIComponent(discipline)}/activities`);\n  return res.data;\n};\n\n/* =========================\r\n   Consultas de horas\r\n   ========================= */\nexport const getDailyActivities = async (date, employeeId) => {\n  const dateStr = date instanceof Date ? date.toISOString().slice(0, 10) : String(date);\n  const empId = typeof employeeId === 'string' ? parseInt(employeeId, 10) : Number(employeeId);\n  const res = await axios.get(`${API_BASE_URL}/daily-activities`, {\n    params: {\n      date: dateStr,\n      employee_id: empId\n    },\n    validateStatus: s => s >= 200 && s < 300\n  });\n  return res.data || [];\n};\n\n/* =========================\r\n   Auth (si lo usas)\r\n   ========================= */\nexport const loginUser = async credentials => {\n  const res = await axios.post(`${API_BASE_URL}/auth/login`, credentials);\n  return res.data;\n};\n\n/* =========================\r\n   Reportes\r\n   ========================= */\n\nexport const getMonthlyHoursReport = async (year, month) => {\n  try {\n    const res = await axios.get(`${API_BASE_URL}/hours/monthly-report/${year}/${month}`);\n    return res.data || [];\n  } catch (error) {\n    console.error(`Error al obtener el reporte mensual de horas para ${year}-${month}:`, error);\n    if (axios.isAxiosError(error) && error.response) {\n      var _detail4, _error$response$data7, _error$response$data8;\n      console.error('Detalles del error (getMonthlyHoursReport):', error.response.data);\n      const detail = (_detail4 = (_error$response$data7 = error.response.data) === null || _error$response$data7 === void 0 ? void 0 : _error$response$data7.detail) !== null && _detail4 !== void 0 ? _detail4 : (_error$response$data8 = error.response.data) === null || _error$response$data8 === void 0 ? void 0 : _error$response$data8.message;\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\n    }\n    throw error;\n  }\n};\nexport const getMonthlyHoursMatrix = async (year, month) => {\n  try {\n    const res = await axios.get(`${API_BASE_URL}/hours/monthly-matrix/${year}/${month}`);\n    return res.data || {\n      employees: [],\n      days: [],\n      matrix: [],\n      totals: {\n        rows: [],\n        cols: []\n      }\n    };\n  } catch (error) {\n    console.error(`Error al obtener el reporte mensual de horas en formato matriz para ${year}-${month}:`, error);\n    if (axios.isAxiosError(error) && error.response) {\n      var _detail5, _error$response$data9, _error$response$data0;\n      console.error('Detalles del error (getMonthlyHoursMatrix):', error.response.data);\n      const detail = (_detail5 = (_error$response$data9 = error.response.data) === null || _error$response$data9 === void 0 ? void 0 : _error$response$data9.detail) !== null && _detail5 !== void 0 ? _detail5 : (_error$response$data0 = error.response.data) === null || _error$response$data0 === void 0 ? void 0 : _error$response$data0.message;\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\n    }\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","normalizeHours","h","parseFloat","replace","sanitizeCreate","data","_data$project_code","_data$phase","_data$discipline","_data$activity","_data$hours","_data$date","project_code","String","phase","discipline","activity","hours","Number","date","employee_id","parseInt","note","sanitizeUpdate","_rest$project_code","_rest$phase","_rest$discipline","_rest$activity","_rest$hours","id","project_name","rest","encodeId","encodeURIComponent","submitHours","body","console","log","hourId","payload","res","put","post","error","isAxiosError","response","_detail","_error$response$data","_error$response$data2","detail","message","Error","JSON","stringify","updateHour","_dropDate","_dropId","_dropEmp","_dropPN","_detail2","_error$response$data3","_error$response$data4","deleteHour","delete","_detail3","_error$response$data5","_error$response$data6","getProjects","get","getEmployees","getProjectStages","projectCode","getDisciplinesByStage","stage","getActivitiesByDiscipline","getDailyActivities","employeeId","dateStr","Date","toISOString","slice","empId","params","validateStatus","s","loginUser","credentials","getMonthlyHoursReport","year","month","_detail4","_error$response$data7","_error$response$data8","getMonthlyHoursMatrix","employees","days","matrix","totals","rows","cols","_detail5","_error$response$data9","_error$response$data0"],"sources":["d:/formulario de horas/FormularioHoras Version 1/frontend/src/api/horasApi.ts"],"sourcesContent":["// src/api/horasApi.ts\r\nimport axios from 'axios';\r\n\r\nexport const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://backend.yeisonduque.top';\r\n\r\n/* =========================\r\n   Tipos base (ajusta si quieres)\r\n   ========================= */\r\nexport interface DailyActivity {\r\n  id: string;\r\n  date: string;              // \"YYYY-MM-DD\"\r\n  employee_id: number;\r\n  project_code: string;\r\n  project_name: string;\r\n  phase: string;\r\n  discipline: string;\r\n  activity: string;\r\n  hours: number;\r\n  note?: string;\r\n}\r\n\r\nexport interface HourData {\r\n  id?: string;               // <- presente SOLO al editar\r\n  project_code: string;\r\n  phase: string;\r\n  discipline: string;\r\n  activity: string;\r\n  hours: number | string;\r\n  date: string;              // \"YYYY-MM-DD\"\r\n  employee_id?: number | string; // requerido en creación\r\n  note?: string;\r\n}\r\n\r\n/* =========================\r\n   Helpers\r\n   ========================= */\r\nconst normalizeHours = (h: number | string | undefined) =>\r\n  typeof h === 'string' ? parseFloat(h.replace(',', '.')) : (h ?? 0);\r\n\r\n// Para creación (POST) - incluye date\r\nconst sanitizeCreate = (data: any) => ({\r\n  project_code: String(data.project_code ?? ''),\r\n  phase: String(data.phase ?? ''),\r\n  discipline: String(data.discipline ?? ''),\r\n  activity: String(data.activity ?? ''),\r\n  hours: typeof data.hours === 'string' ? parseFloat(data.hours.replace(',', '.')) : Number(data.hours ?? 0),\r\n  date: String(data.date ?? ''), // En POST sí va date\r\n  employee_id: typeof data.employee_id === 'string' ? parseInt(data.employee_id, 10) : Number(data.employee_id),\r\n  note: data.note ? String(data.note) : '',\r\n});\r\n\r\n// Para actualización (PUT) - sin date y sin campos no editables\r\nconst sanitizeUpdate = (data: any) => {\r\n  // Extraer campos no permitidos en el update\r\n  const { date, id, employee_id, project_name, ...rest } = data;\r\n  return {\r\n    ...rest,\r\n    project_code: String(rest.project_code ?? ''),\r\n    phase: String(rest.phase ?? ''),\r\n    discipline: String(rest.discipline ?? ''),\r\n    activity: String(rest.activity ?? ''),\r\n    hours: typeof rest.hours === 'string' ? parseFloat(rest.hours.replace(',', '.')) : Number(rest.hours ?? 0),\r\n    note: rest.note ? String(rest.note) : '',\r\n  };\r\n};\r\n\r\nconst encodeId = (id: string | number) => encodeURIComponent(String(id));\r\n\r\n/* =========================\r\n   Crear/Actualizar (botón Guardar/Actualizar)\r\n   ========================= */\r\nexport const submitHours = async (data: any) => {\r\n  try {\r\n    if (data?.id) {\r\n      // UPDATE (PUT)\r\n      const id = encodeURIComponent(String(data.id));\r\n      const body = sanitizeUpdate(data);\r\n      console.log('Enviando datos de actualización:', { hourId: id, payload: body });\r\n      const res = await axios.put(`${API_BASE_URL}/hours/${id}`, body);\r\n      return res.data;\r\n    } else {\r\n      // CREATE (POST)\r\n      const body = sanitizeCreate(data);\r\n      console.log('Creando nueva hora:', body);\r\n      const res = await axios.post(`${API_BASE_URL}/hours/`, body);\r\n      return res.data;\r\n    }\r\n  } catch (error: any) {\r\n    console.error('Error al enviar las horas:', error);\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      console.error('Detalles del error (submitHours):', error.response.data);\r\n      const detail = (error.response.data as any)?.detail ?? (error.response.data as any)?.message;\r\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\n/* =========================\r\n   Update/Delete directos (si los usas en otros lados)\r\n   ========================= */\r\nexport const updateHour = async (hourId: string | number, data: any) => {\r\n  try {\r\n    const id = encodeURIComponent(String(hourId));\r\n    // Quitar campos que el backend no acepta en PUT\r\n    const { date: _dropDate, id: _dropId, employee_id: _dropEmp, project_name: _dropPN, ...rest } = data ?? {};\r\n    const body = sanitizeUpdate(rest);\r\n    console.log('Enviando datos de actualización:', { hourId: id, payload: body });\r\n    const res = await axios.put(`${API_BASE_URL}/hours/${id}`, body);\r\n    return res.data;\r\n  } catch (error: any) {\r\n    console.error(`Error al actualizar la hora ${hourId}:`, error);\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      console.error('Detalles del error (updateHour):', error.response.data);\r\n      const detail = (error.response.data as any)?.detail ?? (error.response.data as any)?.message;\r\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteHour = async (hourId: string | number) => {\r\n  if (!hourId) throw new Error('hourId vacío para DELETE');\r\n  const id = encodeURIComponent(String(hourId)); // ← NUNCA Number(...)\r\n  console.log('DELETE /hours/', id);\r\n  try {\r\n    const res = await axios.delete(`${API_BASE_URL}/hours/${id}`);\r\n    return res.data;\r\n  } catch (error: any) {\r\n    console.error(`Error al eliminar el registro de horas ${hourId}:`, error);\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      console.error('Detalles del error (deleteHour):', error.response.data);\r\n      const detail = (error.response.data as any)?.detail ?? (error.response.data as any)?.message;\r\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\n/* =========================\r\n   Catálogos / dependencias\r\n   ========================= */\r\nexport const getProjects = async () => {\r\n  const res = await axios.get(`${API_BASE_URL}/projects/`);\r\n  return res.data;\r\n};\r\n\r\nexport const getEmployees = async () => {\r\n  const res = await axios.get(`${API_BASE_URL}/employees/`);\r\n  return res.data;\r\n};\r\n\r\nexport const getProjectStages = async (projectCode: string) => {\r\n  const res = await axios.get(\r\n    `${API_BASE_URL}/activities/project/${encodeURIComponent(projectCode)}/stages`\r\n  );\r\n  return res.data;\r\n};\r\n\r\nexport const getDisciplinesByStage = async (projectCode: string, stage: string) => {\r\n  const res = await axios.get(\r\n    `${API_BASE_URL}/activities/${encodeURIComponent(projectCode)}::${encodeURIComponent(stage)}/disciplines`\r\n  );\r\n  return res.data;\r\n};\r\n\r\nexport const getActivitiesByDiscipline = async (\r\n  projectCode: string,\r\n  stage: string,\r\n  discipline: string\r\n) => {\r\n  const res = await axios.get(\r\n    `${API_BASE_URL}/activities/${encodeURIComponent(projectCode)}::${encodeURIComponent(stage)}::${encodeURIComponent(discipline)}/activities`\r\n  );\r\n  return res.data;\r\n};\r\n\r\n/* =========================\r\n   Consultas de horas\r\n   ========================= */\r\nexport const getDailyActivities = async (\r\n  date: Date | string,\r\n  employeeId: number | string\r\n): Promise<DailyActivity[]> => {\r\n  const dateStr = date instanceof Date ? date.toISOString().slice(0, 10) : String(date);\r\n  const empId =\r\n    typeof employeeId === 'string' ? parseInt(employeeId, 10) : Number(employeeId);\r\n\r\n  const res = await axios.get<DailyActivity[]>(`${API_BASE_URL}/daily-activities`, {\r\n    params: { date: dateStr, employee_id: empId },\r\n    validateStatus: (s) => s >= 200 && s < 300,\r\n  });\r\n  return res.data || [];\r\n};\r\n\r\n/* =========================\r\n   Auth (si lo usas)\r\n   ========================= */\r\nexport const loginUser = async (credentials: any) => {\r\n  const res = await axios.post(`${API_BASE_URL}/auth/login`, credentials);\r\n  return res.data;\r\n};\r\n\r\n/* =========================\r\n   Reportes\r\n   ========================= */\r\nexport interface MonthlyReportEntry {\r\n  id: string;\r\n  date: string;              // \"YYYY-MM-DD\"\r\n  employee_id: number;\r\n  employee_name: string;\r\n  employee_short_name: string;\r\n  project_code: string;\r\n  phase: string;\r\n  discipline: string;\r\n  activity: string;\r\n  hours: number;\r\n  note?: string;\r\n}\r\n\r\nexport const getMonthlyHoursReport = async (year: number, month: number): Promise<MonthlyReportEntry[]> => {\r\n  try {\r\n    const res = await axios.get<MonthlyReportEntry[]>(`${API_BASE_URL}/hours/monthly-report/${year}/${month}`);\r\n    return res.data || [];\r\n  } catch (error: any) {\r\n    console.error(`Error al obtener el reporte mensual de horas para ${year}-${month}:`, error);\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      console.error('Detalles del error (getMonthlyHoursReport):', error.response.data);\r\n      const detail = (error.response.data as any)?.detail ?? (error.response.data as any)?.message;\r\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport interface MonthlyMatrixData {\r\n  employees: Array<{\r\n    id: number;\r\n    name: string;\r\n    short_name: string;\r\n  }>;\r\n  days: string[];\r\n  matrix: number[][];\r\n  totals: {\r\n    rows: number[];\r\n    cols: number[];\r\n  };\r\n}\r\n\r\nexport const getMonthlyHoursMatrix = async (year: number, month: number): Promise<MonthlyMatrixData> => {\r\n  try {\r\n    const res = await axios.get<MonthlyMatrixData>(`${API_BASE_URL}/hours/monthly-matrix/${year}/${month}`);\r\n    return res.data || { employees: [], days: [], matrix: [], totals: { rows: [], cols: [] } };\r\n  } catch (error: any) {\r\n    console.error(`Error al obtener el reporte mensual de horas en formato matriz para ${year}-${month}:`, error);\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      console.error('Detalles del error (getMonthlyHoursMatrix):', error.response.data);\r\n      const detail = (error.response.data as any)?.detail ?? (error.response.data as any)?.message;\r\n      if (detail) throw new Error(typeof detail === 'string' ? detail : JSON.stringify(detail));\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}