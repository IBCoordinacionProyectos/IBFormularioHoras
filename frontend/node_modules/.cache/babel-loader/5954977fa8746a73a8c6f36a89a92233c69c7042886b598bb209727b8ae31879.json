{"ast":null,"code":"import axios from 'axios';\nimport { API_BASE_URL } from './horasApi';\n// Helper functions\nexport const getProjects = async () => {\n  const res = await axios.get(`${API_BASE_URL}/projects/`);\n  return res.data;\n};\nexport const getProjectStages = async projectCode => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages`);\n  return res.data;\n};\nexport const getDisciplinesByStage = async (projectCode, stage) => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages/${stage}/disciplines`);\n  return res.data;\n};\nexport const getActivitiesByDiscipline = async (projectCode, stage, discipline) => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages/${stage}/disciplines/${discipline}/activities`);\n  return res.data;\n};\n\n// Sort helpers\nexport const sortAZ = arr => [...arr].sort((a, b) => a.localeCompare(b, 'es', {\n  numeric: true,\n  sensitivity: 'base'\n}));\nexport const createPermission = async permission => {\n  const res = await axios.post(`${API_BASE_URL}/permissions/`, permission);\n  return res.data;\n};\nexport const updatePermission = async (id, permission) => {\n  const res = await axios.put(`${API_BASE_URL}/permissions/${id}`, permission);\n  return res.data;\n};\nexport const deletePermission = async id => {\n  await axios.delete(`${API_BASE_URL}/permissions/${id}`);\n};\nexport const getPermissions = async (employeeId, startDate, endDate) => {\n  const params = new URLSearchParams();\n  if (employeeId) params.append('employee_id', employeeId.toString());\n  if (startDate) params.append('start_date', startDate);\n  if (endDate) params.append('end_date', endDate);\n  const res = await axios.get(`${API_BASE_URL}/permissions/?${params.toString()}`);\n  return res.data;\n};","map":{"version":3,"names":["axios","API_BASE_URL","getProjects","res","get","data","getProjectStages","projectCode","getDisciplinesByStage","stage","getActivitiesByDiscipline","discipline","sortAZ","arr","sort","a","b","localeCompare","numeric","sensitivity","createPermission","permission","post","updatePermission","id","put","deletePermission","delete","getPermissions","employeeId","startDate","endDate","params","URLSearchParams","append","toString"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/api/permissionsApi.ts"],"sourcesContent":["import axios from 'axios';\nimport { API_BASE_URL } from './horasApi';\n\nexport interface Permission {\n  id: string;\n  date: string;\n  employee_id: number;\n  project_code: string;\n  phase: string;\n  discipline: string;\n  activity: string;\n  hours: number;\n  note?: string;\n  status: string;\n  response?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface PermissionCreate {\n  date: string;\n  employee_id: number;\n  project_code: string;\n  phase: string;\n  discipline: string;\n  activity: string;\n  hours: number;\n  note?: string;\n}\n\nexport interface Project {\n  code: string;\n  name: string;\n}\n\n// Helper functions\nexport const getProjects = async (): Promise<Project[]> => {\n  const res = await axios.get(`${API_BASE_URL}/projects/`);\n  return res.data;\n};\n\nexport const getProjectStages = async (projectCode: string): Promise<string[]> => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages`);\n  return res.data;\n};\n\nexport const getDisciplinesByStage = async (projectCode: string, stage: string): Promise<string[]> => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages/${stage}/disciplines`);\n  return res.data;\n};\n\nexport const getActivitiesByDiscipline = async (projectCode: string, stage: string, discipline: string): Promise<string[]> => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages/${stage}/disciplines/${discipline}/activities`);\n  return res.data;\n};\n\n// Sort helpers\nexport const sortAZ = (arr: string[]) =>\n  [...arr].sort((a, b) => a.localeCompare(b, 'es', { numeric: true, sensitivity: 'base' }));\n\nexport const createPermission = async (permission: PermissionCreate): Promise<Permission> => {\n  const res = await axios.post(`${API_BASE_URL}/permissions/`, permission);\n  return res.data;\n};\n\nexport const updatePermission = async (id: string, permission: Partial<PermissionCreate>): Promise<Permission> => {\n  const res = await axios.put(`${API_BASE_URL}/permissions/${id}`, permission);\n  return res.data;\n};\n\nexport const deletePermission = async (id: string): Promise<void> => {\n  await axios.delete(`${API_BASE_URL}/permissions/${id}`);\n};\n\nexport const getPermissions = async (employeeId: number, startDate?: string, endDate?: string): Promise<Permission[]> => {\n  const params = new URLSearchParams();\n  if (employeeId) params.append('employee_id', employeeId.toString());\n  if (startDate) params.append('start_date', startDate);\n  if (endDate) params.append('end_date', endDate);\n  \n  const res = await axios.get(`${API_BASE_URL}/permissions/?${params.toString()}`);\n  return res.data;\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,YAAY;AAkCzC;AACA,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAgC;EACzD,MAAMC,GAAG,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,YAAY,CAAC;EACxD,OAAOE,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,WAAmB,IAAwB;EAChF,MAAMJ,GAAG,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,aAAaM,WAAW,SAAS,CAAC;EAC7E,OAAOJ,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMG,qBAAqB,GAAG,MAAAA,CAAOD,WAAmB,EAAEE,KAAa,KAAwB;EACpG,MAAMN,GAAG,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,aAAaM,WAAW,WAAWE,KAAK,cAAc,CAAC;EAClG,OAAON,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMK,yBAAyB,GAAG,MAAAA,CAAOH,WAAmB,EAAEE,KAAa,EAAEE,UAAkB,KAAwB;EAC5H,MAAMR,GAAG,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,aAAaM,WAAW,WAAWE,KAAK,gBAAgBE,UAAU,aAAa,CAAC;EAC3H,OAAOR,GAAG,CAACE,IAAI;AACjB,CAAC;;AAED;AACA,OAAO,MAAMO,MAAM,GAAIC,GAAa,IAClC,CAAC,GAAGA,GAAG,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,aAAa,CAACD,CAAC,EAAE,IAAI,EAAE;EAAEE,OAAO,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAO,CAAC,CAAC,CAAC;AAE3F,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,UAA4B,IAA0B;EAC3F,MAAMlB,GAAG,GAAG,MAAMH,KAAK,CAACsB,IAAI,CAAC,GAAGrB,YAAY,eAAe,EAAEoB,UAAU,CAAC;EACxE,OAAOlB,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMkB,gBAAgB,GAAG,MAAAA,CAAOC,EAAU,EAAEH,UAAqC,KAA0B;EAChH,MAAMlB,GAAG,GAAG,MAAMH,KAAK,CAACyB,GAAG,CAAC,GAAGxB,YAAY,gBAAgBuB,EAAE,EAAE,EAAEH,UAAU,CAAC;EAC5E,OAAOlB,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMqB,gBAAgB,GAAG,MAAOF,EAAU,IAAoB;EACnE,MAAMxB,KAAK,CAAC2B,MAAM,CAAC,GAAG1B,YAAY,gBAAgBuB,EAAE,EAAE,CAAC;AACzD,CAAC;AAED,OAAO,MAAMI,cAAc,GAAG,MAAAA,CAAOC,UAAkB,EAAEC,SAAkB,EAAEC,OAAgB,KAA4B;EACvH,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;EACpC,IAAIJ,UAAU,EAAEG,MAAM,CAACE,MAAM,CAAC,aAAa,EAAEL,UAAU,CAACM,QAAQ,CAAC,CAAC,CAAC;EACnE,IAAIL,SAAS,EAAEE,MAAM,CAACE,MAAM,CAAC,YAAY,EAAEJ,SAAS,CAAC;EACrD,IAAIC,OAAO,EAAEC,MAAM,CAACE,MAAM,CAAC,UAAU,EAAEH,OAAO,CAAC;EAE/C,MAAM5B,GAAG,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,iBAAiB+B,MAAM,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC;EAChF,OAAOhC,GAAG,CAACE,IAAI;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}