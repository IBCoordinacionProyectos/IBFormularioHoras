{"ast":null,"code":"import React,{useState}from'react';import{Toaster}from'sonner';// Application components\nimport FormularioHoras from'./components/FormularioHoras';import LoginPage from'./components/LoginPage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[authenticatedUser,setAuthenticatedUser]=useState(()=>{// Comprueba la variable de entorno para saltar el login en modo de desarrollo.\nif(process.env.REACT_APP_SKIP_LOGIN==='true'){return{id:999,name:'Usuario de Desarrollo'};// Usuario de prueba\n}return null;});const handleLoginSuccess=userData=>{setAuthenticatedUser({id:userData.employee_id,name:userData.employee_name});};const handleLogout=()=>{setAuthenticatedUser(null);};const handleSuccess=()=>{console.log(\"Operation successful, summary update might be needed.\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-background text-foreground flex flex-col\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",richColors:true}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 w-full\",children:authenticatedUser?/*#__PURE__*/_jsx(FormularioHoras,{onSuccess:handleSuccess,employeeId:authenticatedUser.id,employeeName:authenticatedUser.name,onLogout:handleLogout}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md p-4\",children:/*#__PURE__*/_jsx(LoginPage,{onLoginSuccess:handleLoginSuccess})})})})]});}export default App;","map":{"version":3,"names":["React","useState","Toaster","FormularioHoras","LoginPage","jsx","_jsx","jsxs","_jsxs","App","authenticatedUser","setAuthenticatedUser","process","env","REACT_APP_SKIP_LOGIN","id","name","handleLoginSuccess","userData","employee_id","employee_name","handleLogout","handleSuccess","console","log","className","children","position","richColors","onSuccess","employeeId","employeeName","onLogout","onLoginSuccess"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Toaster } from 'sonner';\n\n// Application components\nimport FormularioHoras from './components/FormularioHoras';\nimport LoginPage from './components/LoginPage';\n\ninterface AuthenticatedUser {\n  id: number;\n  name: string;\n}\n\nfunction App() {\n  const [authenticatedUser, setAuthenticatedUser] = useState<AuthenticatedUser | null>(() => {\n    // Comprueba la variable de entorno para saltar el login en modo de desarrollo.\n    if (process.env.REACT_APP_SKIP_LOGIN === 'true') {\n      return { id: 999, name: 'Usuario de Desarrollo' }; // Usuario de prueba\n    }\n    return null;\n  });\n\n  const handleLoginSuccess = (userData: { employee_id: number; employee_name: string }) => {\n    setAuthenticatedUser({ \n      id: userData.employee_id, \n      name: userData.employee_name \n    });\n  };\n\n  const handleLogout = () => {\n    setAuthenticatedUser(null);\n  };\n\n  const handleSuccess = () => {\n    console.log(\"Operation successful, summary update might be needed.\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground flex flex-col\">\n      <Toaster position=\"top-right\" richColors />\n      \n      <main className=\"flex-1 w-full\">\n        {authenticatedUser ? (\n          <FormularioHoras \n            onSuccess={handleSuccess} \n            employeeId={authenticatedUser.id} \n            employeeName={authenticatedUser.name}\n            onLogout={handleLogout}\n          />\n        ) : (\n          <div className=\"flex items-center justify-center h-screen\">\n            <div className=\"w-full max-w-md p-4\">\n              <LoginPage onLoginSuccess={handleLoginSuccess} />\n            </div>\n          </div>\n        )}\n      </main>\n\n      {/* Footer can be added back if needed */}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,QAAQ,CAEhC;AACA,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAO/C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGV,QAAQ,CAA2B,IAAM,CACzF;AACA,GAAIW,OAAO,CAACC,GAAG,CAACC,oBAAoB,GAAK,MAAM,CAAE,CAC/C,MAAO,CAAEC,EAAE,CAAE,GAAG,CAAEC,IAAI,CAAE,uBAAwB,CAAC,CAAE;AACrD,CACA,MAAO,KAAI,CACb,CAAC,CAAC,CAEF,KAAM,CAAAC,kBAAkB,CAAIC,QAAwD,EAAK,CACvFP,oBAAoB,CAAC,CACnBI,EAAE,CAAEG,QAAQ,CAACC,WAAW,CACxBH,IAAI,CAAEE,QAAQ,CAACE,aACjB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBV,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAW,aAAa,CAAGA,CAAA,GAAM,CAC1BC,OAAO,CAACC,GAAG,CAAC,uDAAuD,CAAC,CACtE,CAAC,CAED,mBACEhB,KAAA,QAAKiB,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvEpB,IAAA,CAACJ,OAAO,EAACyB,QAAQ,CAAC,WAAW,CAACC,UAAU,MAAE,CAAC,cAE3CtB,IAAA,SAAMmB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC5BhB,iBAAiB,cAChBJ,IAAA,CAACH,eAAe,EACd0B,SAAS,CAAEP,aAAc,CACzBQ,UAAU,CAAEpB,iBAAiB,CAACK,EAAG,CACjCgB,YAAY,CAAErB,iBAAiB,CAACM,IAAK,CACrCgB,QAAQ,CAAEX,YAAa,CACxB,CAAC,cAEFf,IAAA,QAAKmB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxDpB,IAAA,QAAKmB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClCpB,IAAA,CAACF,SAAS,EAAC6B,cAAc,CAAEhB,kBAAmB,CAAE,CAAC,CAC9C,CAAC,CACH,CACN,CACG,CAAC,EAGJ,CAAC,CAEV,CAEA,cAAe,CAAAR,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}