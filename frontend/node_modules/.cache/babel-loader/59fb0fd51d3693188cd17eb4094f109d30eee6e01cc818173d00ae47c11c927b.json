{"ast":null,"code":"// horasApi.ts\nimport axios from'axios';const API_BASE_URL='http://backend.yeisonduque.top';export const submitHours=async data=>{try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/hours/\"),data);return response.data;}catch(error){console.error('Error al enviar las horas:',error);throw error;}};export const getProjects=async()=>{try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/projects/\"));return response.data;}catch(error){console.error('Error al obtener proyectos:',error);throw error;}};export const getEmployees=async()=>{try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/employees/\"));return response.data;}catch(error){console.error('Error al obtener empleados:',error);throw error;}};export const getDisciplinesByStage=async(projectCode,stage)=>{try{const params=[encodeURIComponent(projectCode),encodeURIComponent(stage)].join('::');const response=await axios.get(\"\".concat(API_BASE_URL,\"/activities/\").concat(params,\"/disciplines\"));return response.data;}catch(error){console.error(\"Error al obtener disciplinas para el proyecto \".concat(projectCode,\", etapa \").concat(stage,\":\"),error);throw error;}};export const getActivitiesByDiscipline=async(projectCode,stage,discipline)=>{try{const params=[encodeURIComponent(projectCode),encodeURIComponent(stage),encodeURIComponent(discipline)].join('::');const response=await axios.get(\"\".concat(API_BASE_URL,\"/activities/\").concat(params,\"/activities\"));return response.data;}catch(error){console.error(\"Error al obtener actividades para el proyecto \".concat(projectCode,\", etapa \").concat(stage,\", disciplina \").concat(discipline,\":\"),error);throw error;}};export const getDailyActivities=async(date,employeeId)=>{try{// Convertir la fecha a formato YYYY-MM-DD si es un objeto Date\nconst dateStr=date instanceof Date?date.toISOString().split('T')[0]:date;const response=await axios.get(\"\".concat(API_BASE_URL,\"/daily-activities\"),{params:{date:dateStr,employee_id:employeeId}});return response.data;}catch(error){console.error('Error al obtener las actividades del día:',error);throw error;}};// horasApi.ts\nexport const getProjectStages=async projectCode=>{try{const encodedProjectCode=encodeURIComponent(projectCode);// Usa el nuevo endpoint en activities\nconst response=await axios.get(\"\".concat(API_BASE_URL,\"/activities/project/\").concat(encodedProjectCode,\"/stages\"));return response.data;}catch(error){console.error(\"Error al obtener etapas para el proyecto \".concat(projectCode,\":\"),error);throw error;}};export const updateHour=async(hourId,data)=>{try{const response=await axios.put(\"\".concat(API_BASE_URL,\"/hours/\").concat(hourId),data);return response.data;}catch(error){console.error(\"Error al actualizar el registro de horas \".concat(hourId,\":\"),error);throw error;}};export const deleteHour=async hourId=>{try{const response=await axios.delete(\"\".concat(API_BASE_URL,\"/hours/\").concat(hourId));return response.data;}catch(error){console.error(\"Error al eliminar el registro de horas \".concat(hourId,\":\"),error);throw error;}};export const getProjectByCode=async projectCode=>{try{const encodedProjectCode=encodeURIComponent(projectCode);const response=await axios.get(\"\".concat(API_BASE_URL,\"/projects/\").concat(encodedProjectCode));return response.data;}catch(error){console.error(\"Error al obtener proyecto \".concat(projectCode,\":\"),error);throw error;}};export const loginUser=async credentials=>{try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/auth/login\"),credentials);return response.data;}catch(error){console.error('Error en el inicio de sesión:',error);throw error;}};","map":{"version":3,"names":["axios","API_BASE_URL","submitHours","data","response","post","concat","error","console","getProjects","get","getEmployees","getDisciplinesByStage","projectCode","stage","params","encodeURIComponent","join","getActivitiesByDiscipline","discipline","getDailyActivities","date","employeeId","dateStr","Date","toISOString","split","employee_id","getProjectStages","encodedProjectCode","updateHour","hourId","put","deleteHour","delete","getProjectByCode","loginUser","credentials"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/api/horasApi.ts"],"sourcesContent":["// horasApi.ts\nimport axios from 'axios';\n\nconst API_BASE_URL = 'http://backend.yeisonduque.top';\n\nexport const submitHours = async (data: any) => {\n    try {\n        const response = await axios.post(`${API_BASE_URL}/hours/`, data);\n        return response.data;\n    } catch (error) {\n        console.error('Error al enviar las horas:', error);\n        throw error;\n    }\n};\n\nexport const getProjects = async () => {\n    try {\n        const response = await axios.get(`${API_BASE_URL}/projects/`);\n        return response.data;\n    } catch (error) {\n        console.error('Error al obtener proyectos:', error);\n        throw error;\n    }\n};\n\nexport const getEmployees = async () => {\n    try {\n        const response = await axios.get(`${API_BASE_URL}/employees/`);\n        return response.data;\n    } catch (error) {\n        console.error('Error al obtener empleados:', error);\n        throw error;\n    }\n};\n\nexport const getDisciplinesByStage = async (projectCode: string, stage: string) => {\n  try {\n    const params = [\n      encodeURIComponent(projectCode),\n      encodeURIComponent(stage)\n    ].join('::');\n\n    const response = await axios.get(\n      `${API_BASE_URL}/activities/${params}/disciplines`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(`Error al obtener disciplinas para el proyecto ${projectCode}, etapa ${stage}:`, error);\n    throw error;\n  }\n};\n\nexport const getActivitiesByDiscipline = async (\n  projectCode: string, \n  stage: string, \n  discipline: string\n) => {\n  try {\n    const params = [\n      encodeURIComponent(projectCode),\n      encodeURIComponent(stage),\n      encodeURIComponent(discipline)\n    ].join('::');\n    \n    const response = await axios.get(\n      `${API_BASE_URL}/activities/${params}/activities`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(`Error al obtener actividades para el proyecto ${projectCode}, etapa ${stage}, disciplina ${discipline}:`, error);\n    throw error;\n  }\n};\n\nexport const getDailyActivities = async (date: Date | string, employeeId: number | string) => {\n    try {\n        // Convertir la fecha a formato YYYY-MM-DD si es un objeto Date\n        const dateStr = date instanceof Date \n            ? date.toISOString().split('T')[0] \n            : date;\n            \n        const response = await axios.get(`${API_BASE_URL}/daily-activities`, {\n            params: { \n                date: dateStr, \n                employee_id: employeeId \n            }\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Error al obtener las actividades del día:', error);\n        throw error;\n    }\n};\n\n// horasApi.ts\nexport const getProjectStages = async (projectCode: string) => {\n  try {\n    const encodedProjectCode = encodeURIComponent(projectCode);\n    // Usa el nuevo endpoint en activities\n    const response = await axios.get(\n      `${API_BASE_URL}/activities/project/${encodedProjectCode}/stages`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(`Error al obtener etapas para el proyecto ${projectCode}:`, error);\n    throw error;\n  }\n};\n\nexport const updateHour = async (hourId: number, data: any) => {\n  try {\n    const response = await axios.put(`${API_BASE_URL}/hours/${hourId}`, data);\n    return response.data;\n  } catch (error) {\n    console.error(`Error al actualizar el registro de horas ${hourId}:`, error);\n    throw error;\n  }\n};\n\nexport const deleteHour = async (hourId: number) => {\n  try {\n    const response = await axios.delete(`${API_BASE_URL}/hours/${hourId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error al eliminar el registro de horas ${hourId}:`, error);\n    throw error;\n  }\n};\n\nexport const getProjectByCode = async (projectCode: string) => {\n  try {\n    const encodedProjectCode = encodeURIComponent(projectCode);\n    const response = await axios.get(\n      `${API_BASE_URL}/projects/${encodedProjectCode}`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(`Error al obtener proyecto ${projectCode}:`, error);\n    throw error;\n  }\n};\n\nexport const loginUser = async (credentials: any) => {\n    try {\n        const response = await axios.post(`${API_BASE_URL}/auth/login`, credentials);\n        return response.data;\n    } catch (error) {\n        console.error('Error en el inicio de sesión:', error);\n        throw error;\n    }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}