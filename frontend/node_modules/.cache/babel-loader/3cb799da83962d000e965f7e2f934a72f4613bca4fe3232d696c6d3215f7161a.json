{"ast":null,"code":"import axios from'axios';import{API_BASE_URL}from'./horasApi';// Helper functions\nexport const getProjects=async()=>{const res=await axios.get(\"\".concat(API_BASE_URL,\"/projects/\"));return res.data;};export const getProjectStages=async projectCode=>{const res=await axios.get(\"\".concat(API_BASE_URL,\"/projects/\").concat(projectCode,\"/stages\"));return res.data;};export const getDisciplinesByStage=async(projectCode,stage)=>{const res=await axios.get(\"\".concat(API_BASE_URL,\"/projects/\").concat(projectCode,\"/stages/\").concat(stage,\"/disciplines\"));return res.data;};export const getActivitiesByDiscipline=async(projectCode,stage,discipline)=>{const res=await axios.get(\"\".concat(API_BASE_URL,\"/projects/\").concat(projectCode,\"/stages/\").concat(stage,\"/disciplines/\").concat(discipline,\"/activities\"));return res.data;};// Sort helpers\nexport const sortAZ=arr=>[...arr].sort((a,b)=>a.localeCompare(b,'es',{numeric:true,sensitivity:'base'}));export const createPermission=async permission=>{const res=await axios.post(\"\".concat(API_BASE_URL,\"/permissions/\"),permission);return res.data;};export const updatePermission=async(id,permission)=>{const res=await axios.put(\"\".concat(API_BASE_URL,\"/permissions/\").concat(id),permission);return res.data;};export const deletePermission=async id=>{await axios.delete(\"\".concat(API_BASE_URL,\"/permissions/\").concat(id));};export const getPermissions=async(employeeId,startDate,endDate)=>{const params=new URLSearchParams();if(employeeId)params.append('employee_id',employeeId.toString());if(startDate)params.append('start_date',startDate);if(endDate)params.append('end_date',endDate);const res=await axios.get(\"\".concat(API_BASE_URL,\"/permissions/?\").concat(params.toString()));return res.data;};","map":{"version":3,"names":["axios","API_BASE_URL","getProjects","res","get","concat","data","getProjectStages","projectCode","getDisciplinesByStage","stage","getActivitiesByDiscipline","discipline","sortAZ","arr","sort","a","b","localeCompare","numeric","sensitivity","createPermission","permission","post","updatePermission","id","put","deletePermission","delete","getPermissions","employeeId","startDate","endDate","params","URLSearchParams","append","toString"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/api/permissionsApi.ts"],"sourcesContent":["import axios from 'axios';\nimport { API_BASE_URL } from './horasApi';\n\nexport interface Permission {\n  id: string;\n  date: string;\n  employee_id: number;\n  project_code: string;\n  phase: string;\n  discipline: string;\n  activity: string;\n  hours: number;\n  note?: string;\n  status: string;\n  response?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface PermissionCreate {\n  date: string;\n  employee_id: number;\n  project_code: string;\n  phase: string;\n  discipline: string;\n  activity: string;\n  hours: number;\n  note?: string;\n}\n\nexport interface Project {\n  code: string;\n  name: string;\n}\n\n// Helper functions\nexport const getProjects = async (): Promise<Project[]> => {\n  const res = await axios.get(`${API_BASE_URL}/projects/`);\n  return res.data;\n};\n\nexport const getProjectStages = async (projectCode: string): Promise<string[]> => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages`);\n  return res.data;\n};\n\nexport const getDisciplinesByStage = async (projectCode: string, stage: string): Promise<string[]> => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages/${stage}/disciplines`);\n  return res.data;\n};\n\nexport const getActivitiesByDiscipline = async (projectCode: string, stage: string, discipline: string): Promise<string[]> => {\n  const res = await axios.get(`${API_BASE_URL}/projects/${projectCode}/stages/${stage}/disciplines/${discipline}/activities`);\n  return res.data;\n};\n\n// Sort helpers\nexport const sortAZ = (arr: string[]) =>\n  [...arr].sort((a, b) => a.localeCompare(b, 'es', { numeric: true, sensitivity: 'base' }));\n\nexport const createPermission = async (permission: PermissionCreate): Promise<Permission> => {\n  const res = await axios.post(`${API_BASE_URL}/permissions/`, permission);\n  return res.data;\n};\n\nexport const updatePermission = async (id: string, permission: Partial<PermissionCreate>): Promise<Permission> => {\n  const res = await axios.put(`${API_BASE_URL}/permissions/${id}`, permission);\n  return res.data;\n};\n\nexport const deletePermission = async (id: string): Promise<void> => {\n  await axios.delete(`${API_BASE_URL}/permissions/${id}`);\n};\n\nexport const getPermissions = async (employeeId: number, startDate?: string, endDate?: string): Promise<Permission[]> => {\n  const params = new URLSearchParams();\n  if (employeeId) params.append('employee_id', employeeId.toString());\n  if (startDate) params.append('start_date', startDate);\n  if (endDate) params.append('end_date', endDate);\n  \n  const res = await axios.get(`${API_BASE_URL}/permissions/?${params.toString()}`);\n  return res.data;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}