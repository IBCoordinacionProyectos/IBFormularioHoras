{"ast":null,"code":"var _jsxFileName = \"D:\\\\formulario de horas\\\\FormularioHoras Version 1\\\\frontend\\\\src\\\\components\\\\FormularioHoras.tsx\",\n  _s = $RefreshSig$();\n// FormularioHoras.tsx\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport Header from './Header';\nimport { toast } from 'sonner';\nimport { Calendar as CalendarIcon, Briefcase, Save, Pencil, ListChecks, ClipboardList, XCircle, PlusCircle, Loader2, Folder, Star, ArrowUpDown, Minus, Plus, Info, Undo2, Clock } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Calendar } from './ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from './ui/popover';\nimport { cn } from '../lib/utils';\nimport { FormSelect } from './formulario/FormSelect';\nimport { ActivityItem } from './formulario/ActivityItem';\nimport { ActivityListSkeleton } from './formulario/ActivityListSkeleton';\nimport { EmptyState } from './formulario/EmptyState';\nimport { TotalHoursProgress } from './formulario/TotalHoursProgress';\nimport { submitHours, getProjects, getProjectStages, getDisciplinesByStage, getActivitiesByDiscipline, getDailyActivities, deleteHour, updateHour } from '../api/horasApi';\n\n// Props e interfaces\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialFormData = employeeId => ({\n  employee_id: String(employeeId),\n  project_code: '',\n  phase: '',\n  discipline: '',\n  activity: '',\n  hours: '0',\n  note: ''\n});\nconst DRAFT_KEY = 'fh_form_draft_v1';\n\n// Helper: ordenar A-Z / 0-9\nconst sortAZ = arr => [...arr].sort((a, b) => a.localeCompare(b, 'es', {\n  numeric: true,\n  sensitivity: 'base'\n}));\n\n// Comparator: primero letras, luego nÃºmeros\nconst projectComparator = (a, b) => {\n  var _a$code, _b$code;\n  const aCode = ((_a$code = a.code) !== null && _a$code !== void 0 ? _a$code : '').trim();\n  const bCode = ((_b$code = b.code) !== null && _b$code !== void 0 ? _b$code : '').trim();\n  const aStartsWithLetter = /^[A-Za-zÃÃ‰ÃÃ“ÃšÃœÃ‘]/i.test(aCode);\n  const bStartsWithLetter = /^[A-Za-zÃÃ‰ÃÃ“ÃšÃœÃ‘]/i.test(bCode);\n  if (aStartsWithLetter !== bStartsWithLetter) return aStartsWithLetter ? -1 : 1;\n  // dentro del mismo grupo, ordenar natural A-Z/0-9\n  return aCode.localeCompare(bCode, 'es', {\n    numeric: true,\n    sensitivity: 'base'\n  });\n};\nconst FormularioHoras = ({\n  onSuccess,\n  employeeId,\n  employeeName,\n  onLogout\n}) => {\n  _s();\n  const [formData, setFormData] = useState(initialFormData(employeeId));\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [dailyActivities, setDailyActivities] = useState([]);\n  const [projects, setProjects] = useState([]);\n  const [stages, setStages] = useState([]);\n  const [disciplines, setDisciplines] = useState([]);\n  const [activities, setActivities] = useState([]);\n  const [editingActivityId, setEditingActivityId] = useState(null);\n  const FAV_KEY = useMemo(() => `fh_favorites_v1_${employeeId}`, [employeeId]);\n  const [favorites, setFavorites] = useState([]);\n  const [sortDir, setSortDir] = useState('asc');\n  const [isDirty, setIsDirty] = useState(false);\n  const [loading, setLoading] = useState({\n    submit: false,\n    projects: true,\n    stages: false,\n    disciplines: false,\n    activities: false,\n    dailyActivities: true,\n    delete: null\n  });\n  const hoursInputRef = useRef(null);\n  const undoTimerRef = useRef(null);\n  const favScrollRef = useRef(null);\n  const handleFavWheel = useCallback(e => {\n    if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {\n      e.preventDefault();\n      e.stopPropagation();\n      e.currentTarget.scrollLeft += e.deltaY;\n    }\n  }, []);\n  const selectedProjectName = useMemo(() => {\n    var _projects$find;\n    return ((_projects$find = projects.find(p => p.code === formData.project_code)) === null || _projects$find === void 0 ? void 0 : _projects$find.name) || '';\n  }, [formData.project_code, projects]);\n  const hoursNumber = useMemo(() => {\n    var _formData$hours;\n    const raw = String((_formData$hours = formData.hours) !== null && _formData$hours !== void 0 ? _formData$hours : '').replace(',', '.').trim();\n    const n = Number(raw);\n    return Number.isFinite(n) ? n : 0;\n  }, [formData.hours]);\n  const totalHoursToday = useMemo(() => dailyActivities.reduce((sum, a) => sum + (Number(a.hours) || 0), 0), [dailyActivities]);\n  const [errors, setErrors] = useState({});\n  useEffect(() => {\n    const newErrors = {};\n    if (!formData.project_code) newErrors.project_code = 'Selecciona un proyecto';\n    if (!formData.phase) newErrors.phase = 'Selecciona una etapa';\n    if (!formData.discipline) newErrors.discipline = 'Selecciona una disciplina';\n    if (!formData.activity) newErrors.activity = 'Selecciona una actividad';\n    if (!(hoursNumber > 0)) newErrors.hours = 'Ingresa horas vÃ¡lidas (> 0)';\n    setErrors(newErrors);\n  }, [formData, hoursNumber]);\n  useEffect(() => {\n    const raw = localStorage.getItem(DRAFT_KEY);\n    if (raw) {\n      try {\n        const draft = JSON.parse(raw);\n        setFormData(prev => ({\n          ...prev,\n          ...draft,\n          employee_id: String(employeeId)\n        }));\n      } catch {}\n    }\n  }, [employeeId]);\n  useEffect(() => {\n    localStorage.setItem(DRAFT_KEY, JSON.stringify(formData));\n  }, [formData]);\n  useEffect(() => {\n    const raw = localStorage.getItem(FAV_KEY);\n    if (raw) try {\n      setFavorites(JSON.parse(raw));\n    } catch {}\n  }, [FAV_KEY]);\n  const saveFavorites = next => {\n    setFavorites(next);\n    localStorage.setItem(FAV_KEY, JSON.stringify(next));\n  };\n  const currentFavObj = useMemo(() => {\n    if (!formData.project_code || !formData.phase || !formData.discipline || !formData.activity) return null;\n    return {\n      project_code: formData.project_code,\n      phase: formData.phase,\n      discipline: formData.discipline,\n      activity: formData.activity\n    };\n  }, [formData.project_code, formData.phase, formData.discipline, formData.activity]);\n  const isCurrentFavorite = useMemo(() => {\n    if (!currentFavObj) return false;\n    return favorites.some(f => JSON.stringify(f) === JSON.stringify(currentFavObj));\n  }, [favorites, currentFavObj]);\n  const toggleFavorite = () => {\n    if (!currentFavObj) {\n      toast.error('Completa Proyecto, Etapa, Disciplina y Actividad para usar favoritos');\n      return;\n    }\n    if (isCurrentFavorite) {\n      const next = favorites.filter(f => JSON.stringify(f) !== JSON.stringify(currentFavObj));\n      saveFavorites(next);\n      toast.message('Eliminado de favoritos');\n    } else {\n      saveFavorites([...favorites, currentFavObj]);\n      toast.success('Guardado en favoritos');\n    }\n  };\n  const visibleActivities = useMemo(() => {\n    let list = [...dailyActivities];\n    list.sort((a, b) => (a.id || '').localeCompare(b.id || ''));\n    if (sortDir === 'desc') list.reverse();\n    return list;\n  }, [dailyActivities, sortDir]);\n  useEffect(() => {\n    const base = initialFormData(employeeId);\n    const changed = JSON.stringify({\n      ...formData,\n      employee_id: undefined\n    }) !== JSON.stringify({\n      ...base,\n      employee_id: undefined\n    });\n    setIsDirty(changed || Boolean(editingActivityId));\n  }, [formData, editingActivityId, employeeId]);\n  const refreshDailyActivities = useCallback(async (date, id) => {\n    setLoading(p => ({\n      ...p,\n      dailyActivities: true\n    }));\n    try {\n      const dateString = format(date, 'yyyy-MM-dd');\n      const acts = await getDailyActivities(dateString, Number(id));\n      setDailyActivities(acts);\n    } catch (e) {\n      toast.error('Error al cargar las actividades del dÃ­a.');\n      console.error(e);\n    } finally {\n      setLoading(p => ({\n        ...p,\n        dailyActivities: false\n      }));\n    }\n  }, []);\n  const fetchProjects = useCallback(async () => {\n    setLoading(p => ({\n      ...p,\n      projects: true\n    }));\n    try {\n      const data = await getProjects();\n      const sorted = [...data].sort(projectComparator); // letras primero, luego nÃºmeros\n      setProjects(sorted);\n    } catch (e) {\n      toast.error('Error al cargar proyectos.');\n    } finally {\n      setLoading(p => ({\n        ...p,\n        projects: false\n      }));\n    }\n  }, []);\n  const fetchStages = useCallback(async projectCode => {\n    if (!projectCode) return [];\n    setLoading(p => ({\n      ...p,\n      stages: true\n    }));\n    try {\n      const data = await getProjectStages(projectCode);\n      const cleaned = (data || []).filter(v => v != null && String(v).trim() !== '').map(String);\n      const sorted = sortAZ(cleaned);\n      setStages(sorted);\n      return sorted;\n    } catch (e) {\n      toast.error('Error al cargar etapas.');\n      setStages([]);\n      return [];\n    } finally {\n      setLoading(p => ({\n        ...p,\n        stages: false\n      }));\n    }\n  }, []);\n  const fetchDisciplines = useCallback(async (projectCode, stage) => {\n    if (!projectCode || !stage) return [];\n    setLoading(p => ({\n      ...p,\n      disciplines: true\n    }));\n    try {\n      const data = await getDisciplinesByStage(projectCode, stage);\n      const cleaned = (data || []).filter(v => v != null && String(v).trim() !== '').map(String);\n      const sorted = sortAZ(cleaned);\n      setDisciplines(sorted);\n      return sorted;\n    } catch (e) {\n      toast.error('Error al cargar disciplinas.');\n      setDisciplines([]);\n      return [];\n    } finally {\n      setLoading(p => ({\n        ...p,\n        disciplines: false\n      }));\n    }\n  }, []);\n  const fetchActivities = useCallback(async (projectCode, stage, discipline) => {\n    if (!projectCode || !stage || !discipline) return [];\n    setLoading(p => ({\n      ...p,\n      activities: true\n    }));\n    try {\n      const data = await getActivitiesByDiscipline(projectCode, stage, discipline);\n      const cleaned = (data || []).filter(v => v != null && String(v).trim() !== '').map(String);\n      const sorted = sortAZ(cleaned);\n      setActivities(sorted);\n      return sorted;\n    } catch (e) {\n      toast.error('Error al cargar actividades.');\n      setActivities([]);\n      return [];\n    } finally {\n      setLoading(p => ({\n        ...p,\n        activities: false\n      }));\n    }\n  }, []);\n  const applyFavorite = useCallback(async fav => {\n    try {\n      setFormData(prev => ({\n        ...prev,\n        project_code: fav.project_code,\n        phase: '',\n        discipline: '',\n        activity: ''\n      }));\n      const st = await fetchStages(fav.project_code);\n      if (st && st.includes(fav.phase)) {\n        const ds = await fetchDisciplines(fav.project_code, fav.phase);\n        if (ds && ds.includes(fav.discipline)) {\n          const ac = await fetchActivities(fav.project_code, fav.phase, fav.discipline);\n          if (ac && ac.includes(fav.activity)) {\n            setFormData({\n              employee_id: String(employeeId),\n              project_code: fav.project_code,\n              phase: fav.phase,\n              discipline: fav.discipline,\n              activity: fav.activity,\n              hours: '0',\n              note: ''\n            });\n          }\n        }\n      }\n    } catch (e) {\n      console.error(e);\n      toast.error('No se pudo aplicar el favorito');\n    }\n  }, [employeeId, fetchStages, fetchDisciplines, fetchActivities]);\n  useEffect(() => {\n    fetchProjects();\n  }, [fetchProjects]);\n  useEffect(() => {\n    refreshDailyActivities(selectedDate, String(employeeId));\n  }, [selectedDate, employeeId, refreshDailyActivities]);\n  const handleDateChange = date => {\n    if (date) setSelectedDate(date);\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const v = name === 'hours' ? value.replace(',', '.') : value;\n    setFormData(prev => ({\n      ...prev,\n      [name]: v\n    }));\n  };\n  const handleNoteKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) e.preventDefault();\n  };\n  const handleSelectChange = async (name, value) => {\n    const updated = {\n      ...formData,\n      [name]: value\n    };\n    switch (name) {\n      case 'project_code':\n        updated.phase = '';\n        updated.discipline = '';\n        updated.activity = '';\n        setFormData(updated);\n        setStages([]);\n        setDisciplines([]);\n        setActivities([]);\n        if (value) await fetchStages(value);\n        break;\n      case 'phase':\n        updated.discipline = '';\n        updated.activity = '';\n        setFormData(updated);\n        setDisciplines([]);\n        setActivities([]);\n        if (value && updated.project_code) await fetchDisciplines(updated.project_code, value);\n        break;\n      case 'discipline':\n        updated.activity = '';\n        setFormData(updated);\n        setActivities([]);\n        if (value && updated.project_code && updated.phase) await fetchActivities(updated.project_code, updated.phase, value);\n        break;\n      default:\n        setFormData(updated);\n    }\n  };\n  const resetForm = useCallback(() => {\n    setFormData(initialFormData(employeeId));\n    setEditingActivityId(null);\n  }, [employeeId]);\n  const handleEditActivity = useCallback(async activity => {\n    try {\n      var _activity$hours;\n      if (activity.date) {\n        try {\n          const d = typeof activity.date === 'string' ? parseISO(activity.date) : new Date(activity.date);\n          setSelectedDate(d);\n        } catch {}\n      }\n      if (activity.project_code) {\n        await fetchStages(activity.project_code);\n        if (activity.phase) await fetchDisciplines(activity.project_code, activity.phase);\n        if (activity.phase && activity.discipline) await fetchActivities(activity.project_code, activity.phase, activity.discipline);\n      }\n      setFormData({\n        employee_id: String(employeeId),\n        project_code: activity.project_code || '',\n        phase: activity.phase || '',\n        discipline: activity.discipline || '',\n        activity: activity.activity || '',\n        hours: String((_activity$hours = activity.hours) !== null && _activity$hours !== void 0 ? _activity$hours : '0'),\n        note: activity.note || ''\n      });\n      setEditingActivityId(String(activity.id));\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    } catch (e) {\n      console.error(e);\n      toast.error('Error al cargar la actividad para ediciÃ³n');\n    }\n  }, [employeeId, fetchStages, fetchDisciplines, fetchActivities]);\n  const [undoData, setUndoData] = useState(null);\n  const triggerUndoBanner = activity => {\n    setUndoData(activity);\n    if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n    undoTimerRef.current = setTimeout(() => setUndoData(null), 8000);\n  };\n  const handleUndoDelete = async () => {\n    if (!undoData) return;\n    const a = undoData;\n    setUndoData(null);\n    try {\n      await submitHours({\n        project_code: a.project_code,\n        phase: a.phase,\n        discipline: a.discipline,\n        activity: a.activity,\n        hours: a.hours,\n        note: a.note || '',\n        date: format(selectedDate, 'yyyy-MM-dd'),\n        employee_id: employeeId\n      });\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      toast.success('Registro restaurado');\n    } catch (e) {\n      toast.error('No se pudo restaurar');\n    }\n  };\n  const coreSubmit = async () => {\n    const submissionData = {\n      project_code: formData.project_code,\n      phase: formData.phase,\n      discipline: formData.discipline,\n      activity: formData.activity,\n      hours: hoursNumber,\n      note: formData.note || '',\n      date: format(selectedDate, 'yyyy-MM-dd'),\n      employee_id: employeeId\n    };\n    const toastId = toast.loading(editingActivityId ? 'Actualizando actividad...' : 'Guardando actividad...');\n    setLoading(p => ({\n      ...p,\n      submit: true\n    }));\n    try {\n      if (editingActivityId) {\n        await updateHour(editingActivityId, submissionData);\n      } else {\n        await submitHours(submissionData);\n      }\n      toast.success(`Actividad ${editingActivityId ? 'actualizada' : 'guardada'} con Ã©xito.`, {\n        id: toastId,\n        duration: 1800\n      });\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n      return true;\n    } catch (e) {\n      console.error(e);\n      toast.error('OcurriÃ³ un error al guardar.', {\n        id: toastId\n      });\n      return false;\n    } finally {\n      setLoading(p => ({\n        ...p,\n        submit: false\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (Object.keys(errors).length) {\n      toast.error('Revisa los campos marcados');\n      return;\n    }\n    const ok = await coreSubmit();\n    if (ok) resetForm();\n  };\n  const handleDelete = async id => {\n    const prev = dailyActivities.find(a => String(a.id) === String(id));\n    try {\n      setLoading(p => ({\n        ...p,\n        delete: id\n      }));\n      await deleteHour(id);\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      if (prev) triggerUndoBanner(prev);\n      toast.error('Actividad eliminada');\n    } catch (e) {\n      console.error(e);\n      toast.error('No se pudo eliminar');\n    } finally {\n      setLoading(p => ({\n        ...p,\n        delete: null\n      }));\n    }\n  };\n  const adjustHours = delta => {\n    const current = hoursNumber || 0;\n    const next = Math.max(0, Math.round((current + delta) * 2) / 2);\n    setFormData(prev => ({\n      ...prev,\n      hours: String(next)\n    }));\n  };\n  useEffect(() => {\n    const onKey = e => {\n      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'enter') {\n        e.preventDefault();\n        (async () => {\n          if (!loading.submit) {\n            const ok = await coreSubmit();\n            if (ok) resetForm();\n          }\n        })();\n      }\n      if (e.key === 'Escape') {\n        resetForm();\n      }\n    };\n    window.addEventListener('keydown', onKey);\n    return () => window.removeEventListener('keydown', onKey);\n  }, [coreSubmit, loading.submit, resetForm]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-svh overflow-y-auto bg-[#f2f6fd]\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      userName: employeeName,\n      onLogout: onLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\n        .hide-scrollbar::-webkit-scrollbar { display: none; }\n        .fav-strip { overscroll-behavior-y: contain; touch-action: pan-x; }\n\n        /* ðŸ‘‰ Fuerza saltos de lÃ­nea en textos sin espacios y evita desbordes */\n        .text-wrap, .text-wrap *{\n          overflow-wrap: anywhere;\n          word-break: break-word;\n          hyphens: auto;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto container p-4 sm:p-6 lg:p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"main\", {\n          className: cn('lg:col-span-3'),\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"relative z-10 flex flex-col text-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              className: \"relative items-center text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center gap-2\",\n                children: [editingActivityId ? /*#__PURE__*/_jsxDEV(Pencil, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 40\n                }, this) : /*#__PURE__*/_jsxDEV(PlusCircle, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 73\n                }, this), /*#__PURE__*/_jsxDEV(CardTitle, {\n                  className: \"text-center\",\n                  children: editingActivityId ? 'Editar Actividad' : 'Registrar Actividad'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute right-4 top-4 text-xs\",\n                children: editingActivityId ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 rounded-full bg-amber-100 text-amber-800\",\n                  children: \"Editando\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 rounded-full bg-emerald-100 text-emerald-700\",\n                  children: \"Creando\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-2 text-sm text-muted-foreground\",\n                children: \"Registra tus horas del d\\xEDa para el proyecto seleccionado.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 text-xs sm:text-sm text-foreground/80 flex flex-wrap justify-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white border\",\n                  children: [/*#__PURE__*/_jsxDEV(Briefcase, {\n                    className: \"h-3.5 w-3.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 21\n                  }, this), \" \", formData.project_code || 'â€”']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white border\",\n                  children: [/*#__PURE__*/_jsxDEV(ListChecks, {\n                    className: \"h-3.5 w-3.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 21\n                  }, this), \" \", formData.phase || 'â€”']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white border\",\n                  children: [/*#__PURE__*/_jsxDEV(Pencil, {\n                    className: \"h-3.5 w-3.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 21\n                  }, this), \" \", formData.discipline || 'â€”']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white border\",\n                  children: [/*#__PURE__*/_jsxDEV(ClipboardList, {\n                    className: \"h-3.5 w-3.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 531,\n                    columnNumber: 21\n                  }, this), \" \", formData.activity || 'â€”']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 w-full sm:max-w-xs\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-foreground/80 mb-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"inline-flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 541,\n                      columnNumber: 23\n                    }, this), \" Fecha\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 540,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Popover, {\n                  children: [/*#__PURE__*/_jsxDEV(PopoverTrigger, {\n                    asChild: true,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline\",\n                      className: cn('w-full justify-start font-normal h-10', !selectedDate && 'text-muted-foreground'),\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: format(selectedDate, 'PPP', {\n                          locale: es\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 547,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 546,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 545,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(PopoverContent, {\n                    className: \"w-auto p-0\",\n                    align: \"start\",\n                    children: /*#__PURE__*/_jsxDEV(Calendar, {\n                      mode: \"single\",\n                      selected: selectedDate,\n                      onSelect: handleDateChange,\n                      initialFocus: true,\n                      locale: es\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 551,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-[320px_minmax(0,1fr)] gap-6 items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(FormSelect, {\n                    label: \"C\\xF3digo de Proyecto\",\n                    name: \"project_code\",\n                    value: formData.project_code,\n                    onValueChange: handleSelectChange,\n                    options: projects.map(p => ({\n                      value: p.code,\n                      label: p.code,\n                      dropdownLabel: `${p.code} - ${p.name}`\n                    })),\n                    placeholder: \"Seleccione un proyecto\",\n                    loading: loading.projects,\n                    disabled: loading.projects,\n                    icon: /*#__PURE__*/_jsxDEV(Briefcase, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 569,\n                      columnNumber: 29\n                    }, this),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-[12px] text-muted-foreground whitespace-nowrap overflow-hidden text-ellipsis leading-none\",\n                    children: \"Elige el proyecto para cargar los demas campos.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-foreground/80 mb-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"inline-flex items-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Folder, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 580,\n                        columnNumber: 72\n                      }, this), \" Nombre del Proyecto\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 580,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    value: selectedProjectName,\n                    readOnly: true,\n                    className: \"bg-muted/50\",\n                    \"aria-label\": \"Nombre de proyecto seleccionado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(FormSelect, {\n                    label: \"Etapa\",\n                    name: \"phase\",\n                    value: formData.phase,\n                    onValueChange: handleSelectChange,\n                    options: stages.map(s => ({\n                      value: s,\n                      label: s\n                    })),\n                    placeholder: \"Seleccione una etapa\",\n                    loading: loading.stages,\n                    disabled: !formData.project_code || loading.stages,\n                    icon: /*#__PURE__*/_jsxDEV(ListChecks, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 29\n                    }, this),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 587,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-xs text-muted-foreground\",\n                    children: \"Etapas disponibles para el proyecto elegido.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(FormSelect, {\n                    label: \"Disciplina\",\n                    name: \"discipline\",\n                    value: formData.discipline,\n                    onValueChange: handleSelectChange,\n                    options: disciplines.map(d => ({\n                      value: d,\n                      label: d\n                    })),\n                    placeholder: \"Seleccione una disciplina\",\n                    loading: loading.disciplines,\n                    disabled: !formData.phase || loading.disciplines,\n                    icon: /*#__PURE__*/_jsxDEV(Pencil, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 613,\n                      columnNumber: 29\n                    }, this),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-xs text-muted-foreground\",\n                    children: \"Se filtran seg\\xFAn la etapa seleccionada.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 616,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full md:w-[320px] text-wrap\",\n                  children: /*#__PURE__*/_jsxDEV(FormSelect, {\n                    label: \"Actividad\",\n                    name: \"activity\",\n                    value: formData.activity,\n                    onValueChange: handleSelectChange,\n                    options: activities.map(a => ({\n                      value: a,\n                      label: a\n                    })),\n                    placeholder: \"Seleccione una actividad\",\n                    loading: loading.activities,\n                    disabled: !formData.discipline || loading.activities,\n                    icon: /*#__PURE__*/_jsxDEV(ClipboardList, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 630,\n                      columnNumber: 29\n                    }, this),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col text-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"hours\",\n                    className: \"block text-sm font-medium text-foreground/80 mb-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"inline-flex items-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 639,\n                        columnNumber: 25\n                      }, this), \" Horas \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-destructive\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 639,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 638,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      type: \"button\",\n                      variant: \"outline\",\n                      size: \"icon\",\n                      className: \"h-10 w-10 shrink-0\",\n                      onClick: () => adjustHours(-0.5),\n                      \"aria-label\": \"Restar 0.5h\",\n                      children: /*#__PURE__*/_jsxDEV(Minus, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 653,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 645,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"button\",\n                      variant: \"outline\",\n                      size: \"icon\",\n                      className: \"h-10 w-10 shrink-0\",\n                      onClick: () => adjustHours(0.5),\n                      \"aria-label\": \"Sumar 0.5h\",\n                      children: /*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 665,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 657,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"hours\",\n                      name: \"hours\",\n                      type: \"number\",\n                      value: formData.hours,\n                      onChange: handleChange,\n                      min: \"0\",\n                      step: \"0.5\",\n                      ref: hoursInputRef,\n                      className: \"h-10 w-[100px] shrink-0 rounded-md mr-0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 669,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"button\",\n                      variant: isCurrentFavorite ? 'default' : 'outline',\n                      className: \"h-10 shrink-0\",\n                      onClick: toggleFavorite,\n                      title: isCurrentFavorite ? 'Quitar de favoritos' : 'Guardar como favorito',\n                      children: [/*#__PURE__*/_jsxDEV(Star, {\n                        className: \"h-4 w-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 689,\n                        columnNumber: 25\n                      }, this), \" Favorito\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 682,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 636,\n                  columnNumber: 19\n                }, this), favorites.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    ref: favScrollRef,\n                    onWheel: handleFavWheel,\n                    className: \"mt-1 overflow-x-auto whitespace-nowrap hide-scrollbar fav-strip\",\n                    style: {\n                      overscrollBehaviorX: 'contain',\n                      overscrollBehaviorY: 'none',\n                      touchAction: 'pan-x'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex gap-2\",\n                      children: favorites.map((fav, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        onClick: () => applyFavorite(fav),\n                        className: \"inline-flex items-center gap-2 px-3 py-1 rounded-full border bg-white hover:bg-muted text-xs shrink-0\",\n                        title: `${fav.project_code} â€¢ ${fav.phase} â€¢ ${fav.discipline}`,\n                        children: [/*#__PURE__*/_jsxDEV(Star, {\n                          className: \"h-3.5 w-3.5\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 712,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: fav.activity\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 713,\n                          columnNumber: 31\n                        }, this)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 705,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 703,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2 w-full text-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"note\",\n                    className: \"block text-sm font-medium text-foreground/80 mb-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"inline-flex items-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Info, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 725,\n                        columnNumber: 25\n                      }, this), \" Nota (Opcional)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 724,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 723,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"note\",\n                    name: \"note\",\n                    value: formData.note,\n                    onChange: handleChange,\n                    onKeyDown: handleNoteKeyDown,\n                    rows: 2,\n                    className: \"flex h-19 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 whitespace-pre-wrap\",\n                    placeholder: \"Descripci\\xF3n breve del trabajo realizado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 728,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 722,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6 flex items-center justify-end gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  onClick: e => {\n                    e.preventDefault();\n                    handleSubmit(e);\n                  },\n                  disabled: loading.submit || Object.keys(errors).length > 0,\n                  className: \"h-11\",\n                  children: [loading.submit ? /*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"mr-2 h-4 w-4 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 39\n                  }, this) : /*#__PURE__*/_jsxDEV(Save, {\n                    className: \"mr-2 h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 91\n                  }, this), editingActivityId ? 'Actualizar' : 'Guardar']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 743,\n                  columnNumber: 19\n                }, this), editingActivityId && /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  variant: \"outline\",\n                  onClick: resetForm,\n                  className: \"h-11\",\n                  children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                    className: \"mr-2 h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 755,\n                    columnNumber: 23\n                  }, this), \" Cancelar edici\\xF3n\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 754,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"h-full text-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"text-center flex items-center justify-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(ClipboardList, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 768,\n                  columnNumber: 19\n                }, this), \"Actividades del D\\xEDa\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                variant: \"outline\",\n                size: \"icon\",\n                title: \"Ordenar\",\n                onClick: () => setSortDir(d => d === 'asc' ? 'desc' : 'asc'),\n                className: \"absolute right-4 top-4\",\n                children: /*#__PURE__*/_jsxDEV(ArrowUpDown, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-muted-foreground flex items-center justify-center gap-3 mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 784,\n                    columnNumber: 21\n                  }, this), \" \", format(selectedDate, 'PPP', {\n                    locale: es\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 783,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-0.5 rounded-full bg-muted/60 text-foreground/80\",\n                  children: [\"Total registros: \", dailyActivities.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 786,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 782,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: loading.dailyActivities ? /*#__PURE__*/_jsxDEV(ActivityListSkeleton, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 19\n              }, this) : visibleActivities.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-4 max-h-[520px] overflow-y-auto overflow-x-hidden pr-1 text-wrap\",\n                  children: visibleActivities.map(activity => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-wrap\",\n                    children: /*#__PURE__*/_jsxDEV(ActivityItem, {\n                      activity: activity,\n                      onEdit: handleEditActivity,\n                      onDelete: handleDelete\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 801,\n                      columnNumber: 27\n                    }, this)\n                  }, activity.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 800,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 798,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pt-3\",\n                  children: /*#__PURE__*/_jsxDEV(TotalHoursProgress, {\n                    totalHours: totalHoursToday,\n                    selectedDate: selectedDate\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 810,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 809,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(EmptyState, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this), undoData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-3 left-1/2 -translate-x-1/2 z-50 bg-red-50 border border-red-200 text-red-700 shadow rounded-full px-4 py-2 flex items-center gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm\",\n        children: \"Registro eliminado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 824,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"sm\",\n        variant: \"outline\",\n        onClick: handleUndoDelete,\n        children: [/*#__PURE__*/_jsxDEV(Undo2, {\n          className: \"h-4 w-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 13\n        }, this), \" Deshacer\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 823,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 481,\n    columnNumber: 5\n  }, this);\n};\n_s(FormularioHoras, \"papLS3KF8nKWesbd8zKZ+Fvmkw4=\");\n_c = FormularioHoras;\nexport default FormularioHoras;\nvar _c;\n$RefreshReg$(_c, \"FormularioHoras\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useRef","format","parseISO","es","Header","toast","Calendar","CalendarIcon","Briefcase","Save","Pencil","ListChecks","ClipboardList","XCircle","PlusCircle","Loader2","Folder","Star","ArrowUpDown","Minus","Plus","Info","Undo2","Clock","Card","CardContent","CardHeader","CardTitle","Button","Input","Popover","PopoverContent","PopoverTrigger","cn","FormSelect","ActivityItem","ActivityListSkeleton","EmptyState","TotalHoursProgress","submitHours","getProjects","getProjectStages","getDisciplinesByStage","getActivitiesByDiscipline","getDailyActivities","deleteHour","updateHour","jsxDEV","_jsxDEV","Fragment","_Fragment","initialFormData","employeeId","employee_id","String","project_code","phase","discipline","activity","hours","note","DRAFT_KEY","sortAZ","arr","sort","a","b","localeCompare","numeric","sensitivity","projectComparator","_a$code","_b$code","aCode","code","trim","bCode","aStartsWithLetter","test","bStartsWithLetter","FormularioHoras","onSuccess","employeeName","onLogout","_s","formData","setFormData","selectedDate","setSelectedDate","Date","dailyActivities","setDailyActivities","projects","setProjects","stages","setStages","disciplines","setDisciplines","activities","setActivities","editingActivityId","setEditingActivityId","FAV_KEY","favorites","setFavorites","sortDir","setSortDir","isDirty","setIsDirty","loading","setLoading","submit","delete","hoursInputRef","undoTimerRef","favScrollRef","handleFavWheel","e","Math","abs","deltaY","deltaX","preventDefault","stopPropagation","currentTarget","scrollLeft","selectedProjectName","_projects$find","find","p","name","hoursNumber","_formData$hours","raw","replace","n","Number","isFinite","totalHoursToday","reduce","sum","errors","setErrors","newErrors","localStorage","getItem","draft","JSON","parse","prev","setItem","stringify","saveFavorites","next","currentFavObj","isCurrentFavorite","some","f","toggleFavorite","error","filter","message","success","visibleActivities","list","id","reverse","base","changed","undefined","Boolean","refreshDailyActivities","date","dateString","acts","console","fetchProjects","data","sorted","fetchStages","projectCode","cleaned","v","map","fetchDisciplines","stage","fetchActivities","applyFavorite","fav","st","includes","ds","ac","handleDateChange","handleChange","value","target","handleNoteKeyDown","key","shiftKey","handleSelectChange","updated","resetForm","handleEditActivity","_activity$hours","d","window","scrollTo","top","behavior","undoData","setUndoData","triggerUndoBanner","current","clearTimeout","setTimeout","handleUndoDelete","coreSubmit","submissionData","toastId","duration","handleSubmit","Object","keys","length","ok","handleDelete","adjustHours","delta","max","round","onKey","ctrlKey","metaKey","toLowerCase","addEventListener","removeEventListener","className","children","userName","fileName","_jsxFileName","lineNumber","columnNumber","asChild","variant","locale","align","mode","selected","onSelect","initialFocus","label","onValueChange","options","dropdownLabel","placeholder","disabled","icon","required","readOnly","s","htmlFor","type","size","onClick","onChange","min","step","ref","title","onWheel","style","overscrollBehaviorX","overscrollBehaviorY","touchAction","idx","onKeyDown","rows","onEdit","onDelete","totalHours","_c","$RefreshReg$"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/components/FormularioHoras.tsx"],"sourcesContent":["// FormularioHoras.tsx\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport Header from './Header';\n\nimport { toast } from 'sonner';\nimport {\n  Calendar as CalendarIcon,\n  Briefcase,\n  Save,\n  Pencil,\n  ListChecks,\n  ClipboardList,\n  XCircle,\n  PlusCircle,\n  Loader2,\n  Folder,\n  Star,\n  ArrowUpDown,\n  Minus,\n  Plus,\n  Info,\n  Undo2,\n  Clock,\n} from 'lucide-react';\n\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Calendar } from './ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from './ui/popover';\nimport { cn } from '../lib/utils';\n\nimport { FormSelect } from './formulario/FormSelect';\nimport { ActivityItem } from './formulario/ActivityItem';\nimport { ActivityListSkeleton } from './formulario/ActivityListSkeleton';\nimport { EmptyState } from './formulario/EmptyState';\nimport { TotalHoursProgress } from './formulario/TotalHoursProgress';\n\nimport {\n  submitHours,\n  getProjects,\n  getProjectStages,\n  getDisciplinesByStage,\n  getActivitiesByDiscipline,\n  getDailyActivities,\n  deleteHour,\n  updateHour,\n  type DailyActivity,\n} from '../api/horasApi';\n\n// Props e interfaces\ninterface FormularioHorasProps {\n  onSuccess: () => void;\n  employeeId: number;\n  employeeName: string;\n  onLogout: () => void;\n}\n\ninterface Project { code: string; name: string }\n\ntype Activity = DailyActivity;\n\nconst initialFormData = (employeeId: number) => ({\n  employee_id: String(employeeId),\n  project_code: '',\n  phase: '',\n  discipline: '',\n  activity: '',\n  hours: '0',\n  note: '',\n});\n\nconst DRAFT_KEY = 'fh_form_draft_v1';\n\n// Helper: ordenar A-Z / 0-9\nconst sortAZ = (arr: string[]) =>\n  [...arr].sort((a, b) => a.localeCompare(b, 'es', { numeric: true, sensitivity: 'base' }));\n\n// Comparator: primero letras, luego nÃºmeros\nconst projectComparator = (a: Project, b: Project) => {\n  const aCode = (a.code ?? '').trim();\n  const bCode = (b.code ?? '').trim();\n  const aStartsWithLetter = /^[A-Za-zÃÃ‰ÃÃ“ÃšÃœÃ‘]/i.test(aCode);\n  const bStartsWithLetter = /^[A-Za-zÃÃ‰ÃÃ“ÃšÃœÃ‘]/i.test(bCode);\n  if (aStartsWithLetter !== bStartsWithLetter) return aStartsWithLetter ? -1 : 1;\n  // dentro del mismo grupo, ordenar natural A-Z/0-9\n  return aCode.localeCompare(bCode, 'es', { numeric: true, sensitivity: 'base' });\n};\n\nconst FormularioHoras: React.FC<FormularioHorasProps> = ({ onSuccess, employeeId, employeeName, onLogout }) => {\n  const [formData, setFormData] = useState(initialFormData(employeeId));\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [dailyActivities, setDailyActivities] = useState<Activity[]>([]);\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [stages, setStages] = useState<string[]>([]);\n  const [disciplines, setDisciplines] = useState<string[]>([]);\n  const [activities, setActivities] = useState<string[]>([]);\n  const [editingActivityId, setEditingActivityId] = useState<string | null>(null);\n\n  type Favorite = { project_code: string; phase: string; discipline: string; activity: string };\n  const FAV_KEY = useMemo(() => `fh_favorites_v1_${employeeId}`, [employeeId]);\n  const [favorites, setFavorites] = useState<Favorite[]>([]);\n\n  const [sortDir, setSortDir] = useState<'asc' | 'desc'>('asc');\n  const [isDirty, setIsDirty] = useState<boolean>(false);\n  const [loading, setLoading] = useState({\n    submit: false,\n    projects: true,\n    stages: false,\n    disciplines: false,\n    activities: false,\n    dailyActivities: true,\n    delete: null as string | null,\n  });\n\n  const hoursInputRef = useRef<HTMLInputElement | null>(null);\n  const undoTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const favScrollRef = useRef<HTMLDivElement | null>(null);\n  const handleFavWheel = useCallback((e: React.WheelEvent<HTMLDivElement>) => {\n    if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {\n      e.preventDefault();\n      e.stopPropagation();\n      e.currentTarget.scrollLeft += e.deltaY;\n    }\n  }, []);\n\n  const selectedProjectName = useMemo(\n    () => projects.find(p => p.code === formData.project_code)?.name || '',\n    [formData.project_code, projects]\n  );\n  const hoursNumber = useMemo(() => {\n    const raw = String(formData.hours ?? '').replace(',', '.').trim();\n    const n = Number(raw);\n    return Number.isFinite(n) ? n : 0;\n  }, [formData.hours]);\n  const totalHoursToday = useMemo(\n    () => dailyActivities.reduce((sum, a) => sum + (Number(a.hours) || 0), 0),\n    [dailyActivities]\n  );\n\n  const [errors, setErrors] = useState<Partial<Record<keyof ReturnType<typeof initialFormData>, string>>>({});\n  useEffect(() => {\n    const newErrors: typeof errors = {};\n    if (!formData.project_code) newErrors.project_code = 'Selecciona un proyecto';\n    if (!formData.phase) newErrors.phase = 'Selecciona una etapa';\n    if (!formData.discipline) newErrors.discipline = 'Selecciona una disciplina';\n    if (!formData.activity) newErrors.activity = 'Selecciona una actividad';\n    if (!(hoursNumber > 0)) newErrors.hours = 'Ingresa horas vÃ¡lidas (> 0)';\n    setErrors(newErrors);\n  }, [formData, hoursNumber]);\n\n  useEffect(() => {\n    const raw = localStorage.getItem(DRAFT_KEY);\n    if (raw) { try {\n      const draft = JSON.parse(raw);\n      setFormData((prev) => ({ ...prev, ...draft, employee_id: String(employeeId) }));\n    } catch {} }\n  }, [employeeId]);\n  useEffect(() => { localStorage.setItem(DRAFT_KEY, JSON.stringify(formData)); }, [formData]);\n\n  useEffect(() => {\n    const raw = localStorage.getItem(FAV_KEY);\n    if (raw) try { setFavorites(JSON.parse(raw)); } catch {}\n  }, [FAV_KEY]);\n  const saveFavorites = (next: Favorite[]) => { setFavorites(next); localStorage.setItem(FAV_KEY, JSON.stringify(next)); };\n\n  const currentFavObj = useMemo(() => {\n    if (!formData.project_code || !formData.phase || !formData.discipline || !formData.activity) return null;\n    return { project_code: formData.project_code, phase: formData.phase, discipline: formData.discipline, activity: formData.activity } as Favorite;\n  }, [formData.project_code, formData.phase, formData.discipline, formData.activity]);\n  const isCurrentFavorite = useMemo(() => {\n    if (!currentFavObj) return false;\n    return favorites.some(f => JSON.stringify(f) === JSON.stringify(currentFavObj));\n  }, [favorites, currentFavObj]);\n\n  const toggleFavorite = () => {\n    if (!currentFavObj) { toast.error('Completa Proyecto, Etapa, Disciplina y Actividad para usar favoritos'); return; }\n    if (isCurrentFavorite) {\n      const next = favorites.filter(f => JSON.stringify(f) !== JSON.stringify(currentFavObj));\n      saveFavorites(next);\n      toast.message('Eliminado de favoritos');\n    } else {\n      saveFavorites([...favorites, currentFavObj]);\n      toast.success('Guardado en favoritos');\n    }\n  };\n\n  const visibleActivities = useMemo(() => {\n    let list = [...dailyActivities];\n    list.sort((a, b) => (a.id || '').localeCompare(b.id || ''));\n    if (sortDir === 'desc') list.reverse();\n    return list;\n  }, [dailyActivities, sortDir]);\n\n  useEffect(() => {\n    const base = initialFormData(employeeId);\n    const changed = JSON.stringify({ ...formData, employee_id: undefined }) !== JSON.stringify({ ...base, employee_id: undefined });\n    setIsDirty(changed || Boolean(editingActivityId));\n  }, [formData, editingActivityId, employeeId]);\n\n  const refreshDailyActivities = useCallback(async (date: Date, id: string) => {\n    setLoading((p) => ({ ...p, dailyActivities: true }));\n    try {\n      const dateString = format(date, 'yyyy-MM-dd');\n      const acts = await getDailyActivities(dateString, Number(id));\n      setDailyActivities(acts);\n    } catch (e) {\n      toast.error('Error al cargar las actividades del dÃ­a.');\n      console.error(e);\n    } finally {\n      setLoading((p) => ({ ...p, dailyActivities: false }));\n    }\n  }, []);\n\n  const fetchProjects = useCallback(async () => {\n    setLoading((p) => ({ ...p, projects: true }));\n    try {\n      const data = await getProjects();\n      const sorted = [...data].sort(projectComparator); // letras primero, luego nÃºmeros\n      setProjects(sorted);\n    } catch (e) {\n      toast.error('Error al cargar proyectos.');\n    } finally {\n      setLoading((p) => ({ ...p, projects: false }));\n    }\n  }, []);\n\n  const fetchStages = useCallback(async (projectCode: string) => {\n    if (!projectCode) return [] as string[];\n    setLoading((p) => ({ ...p, stages: true }));\n    try {\n      const data = await getProjectStages(projectCode);\n      const cleaned = (data || []).filter((v: any) => v != null && String(v).trim() !== '').map(String);\n      const sorted = sortAZ(cleaned);\n      setStages(sorted);\n      return sorted;\n    } catch (e) {\n      toast.error('Error al cargar etapas.');\n      setStages([]);\n      return [];\n    } finally {\n      setLoading((p) => ({ ...p, stages: false }));\n    }\n  }, []);\n\n  const fetchDisciplines = useCallback(async (projectCode: string, stage: string) => {\n    if (!projectCode || !stage) return [] as string[];\n    setLoading((p) => ({ ...p, disciplines: true }));\n    try {\n      const data = await getDisciplinesByStage(projectCode, stage);\n      const cleaned = (data || []).filter((v: any) => v != null && String(v).trim() !== '').map(String);\n      const sorted = sortAZ(cleaned);\n      setDisciplines(sorted);\n      return sorted;\n    } catch (e) {\n      toast.error('Error al cargar disciplinas.');\n      setDisciplines([]);\n      return [];\n    } finally {\n      setLoading((p) => ({ ...p, disciplines: false }));\n    }\n  }, []);\n\n  const fetchActivities = useCallback(async (projectCode: string, stage: string, discipline: string) => {\n    if (!projectCode || !stage || !discipline) return [] as string[];\n    setLoading((p) => ({ ...p, activities: true }));\n    try {\n      const data = await getActivitiesByDiscipline(projectCode, stage, discipline);\n      const cleaned = (data || []).filter((v: any) => v != null && String(v).trim() !== '').map(String);\n      const sorted = sortAZ(cleaned);\n      setActivities(sorted);\n      return sorted;\n    } catch (e) {\n      toast.error('Error al cargar actividades.');\n      setActivities([]);\n      return [];\n    } finally {\n      setLoading((p) => ({ ...p, activities: false }));\n    }\n  }, []);\n\n  const applyFavorite = useCallback(async (fav: Favorite) => {\n    try {\n      setFormData((prev) => ({ ...prev, project_code: fav.project_code, phase: '', discipline: '', activity: '' }));\n      const st = await fetchStages(fav.project_code);\n      if (st && st.includes(fav.phase)) {\n        const ds = await fetchDisciplines(fav.project_code, fav.phase);\n        if (ds && ds.includes(fav.discipline)) {\n          const ac = await fetchActivities(fav.project_code, fav.phase, fav.discipline);\n          if (ac && ac.includes(fav.activity)) {\n            setFormData({\n              employee_id: String(employeeId),\n              project_code: fav.project_code,\n              phase: fav.phase,\n              discipline: fav.discipline,\n              activity: fav.activity,\n              hours: '0',\n              note: '',\n            });\n          }\n        }\n      }\n    } catch (e) {\n      console.error(e);\n      toast.error('No se pudo aplicar el favorito');\n    }\n  }, [employeeId, fetchStages, fetchDisciplines, fetchActivities]);\n\n  useEffect(() => { fetchProjects(); }, [fetchProjects]);\n  useEffect(() => { refreshDailyActivities(selectedDate, String(employeeId)); }, [selectedDate, employeeId, refreshDailyActivities]);\n\n  const handleDateChange = (date?: Date) => { if (date) setSelectedDate(date); };\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    const v = name === 'hours' ? value.replace(',', '.') : value;\n    setFormData((prev) => ({ ...prev, [name]: v }));\n  };\n  const handleNoteKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => { if (e.key === 'Enter' && !e.shiftKey) e.preventDefault(); };\n\n  const handleSelectChange = async (name: keyof ReturnType<typeof initialFormData>, value: string) => {\n    const updated = { ...formData, [name]: value } as ReturnType<typeof initialFormData>;\n    switch (name) {\n      case 'project_code':\n        updated.phase = ''; updated.discipline = ''; updated.activity = '';\n        setFormData(updated); setStages([]); setDisciplines([]); setActivities([]);\n        if (value) await fetchStages(value);\n        break;\n      case 'phase':\n        updated.discipline = ''; updated.activity = '';\n        setFormData(updated); setDisciplines([]); setActivities([]);\n        if (value && updated.project_code) await fetchDisciplines(updated.project_code, value);\n        break;\n      case 'discipline':\n        updated.activity = '';\n        setFormData(updated); setActivities([]);\n        if (value && updated.project_code && updated.phase) await fetchActivities(updated.project_code, updated.phase, value);\n        break;\n      default:\n        setFormData(updated);\n    }\n  };\n\n  const resetForm = useCallback(() => {\n    setFormData(initialFormData(employeeId));\n    setEditingActivityId(null);\n  }, [employeeId]);\n\n  const handleEditActivity = useCallback(async (activity: Activity) => {\n    try {\n      if (activity.date) {\n        try {\n          const d = typeof activity.date === 'string' ? parseISO(activity.date) : new Date(activity.date);\n          setSelectedDate(d);\n        } catch {}\n      }\n      if (activity.project_code) {\n        await fetchStages(activity.project_code);\n        if (activity.phase) await fetchDisciplines(activity.project_code, activity.phase);\n        if (activity.phase && activity.discipline) await fetchActivities(activity.project_code, activity.phase, activity.discipline);\n      }\n      setFormData({\n        employee_id: String(employeeId),\n        project_code: activity.project_code || '',\n        phase: activity.phase || '',\n        discipline: activity.discipline || '',\n        activity: activity.activity || '',\n        hours: String(activity.hours ?? '0'),\n        note: activity.note || '',\n      });\n      setEditingActivityId(String(activity.id));\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    } catch (e) {\n      console.error(e);\n      toast.error('Error al cargar la actividad para ediciÃ³n');\n    }\n  }, [employeeId, fetchStages, fetchDisciplines, fetchActivities]);\n\n  const [undoData, setUndoData] = useState<Activity | null>(null);\n  const triggerUndoBanner = (activity: Activity) => {\n    setUndoData(activity);\n    if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n    undoTimerRef.current = setTimeout(() => setUndoData(null), 8000);\n  };\n  const handleUndoDelete = async () => {\n    if (!undoData) return;\n    const a = undoData; setUndoData(null);\n    try {\n      await submitHours({\n        project_code: a.project_code,\n        phase: a.phase,\n        discipline: a.discipline,\n        activity: a.activity,\n        hours: a.hours,\n        note: a.note || '',\n        date: format(selectedDate, 'yyyy-MM-dd'),\n        employee_id: employeeId,\n      });\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      toast.success('Registro restaurado');\n    } catch (e) {\n      toast.error('No se pudo restaurar');\n    }\n  };\n\n  const coreSubmit = async () => {\n    const submissionData = {\n      project_code: formData.project_code,\n      phase: formData.phase,\n      discipline: formData.discipline,\n      activity: formData.activity,\n      hours: hoursNumber,\n      note: formData.note || '',\n      date: format(selectedDate, 'yyyy-MM-dd'),\n      employee_id: employeeId,\n    };\n\n    const toastId = toast.loading(editingActivityId ? 'Actualizando actividad...' : 'Guardando actividad...');\n    setLoading((p) => ({ ...p, submit: true }));\n\n    try {\n      if (editingActivityId) { await updateHour(editingActivityId, submissionData); }\n      else { await submitHours(submissionData); }\n\n      toast.success(`Actividad ${editingActivityId ? 'actualizada' : 'guardada'} con Ã©xito.`, { id: toastId, duration: 1800 });\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      onSuccess?.();\n      return true;\n    } catch (e) {\n      console.error(e);\n      toast.error('OcurriÃ³ un error al guardar.', { id: toastId });\n      return false;\n    } finally {\n      setLoading((p) => ({ ...p, submit: false }));\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (Object.keys(errors).length) { toast.error('Revisa los campos marcados'); return; }\n    const ok = await coreSubmit();\n    if (ok) resetForm();\n  };\n\n  const handleDelete = async (id: string) => {\n    const prev = dailyActivities.find(a => String(a.id) === String(id));\n    try {\n      setLoading(p => ({ ...p, delete: id }));\n      await deleteHour(id);\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      if (prev) triggerUndoBanner(prev);\n      toast.error('Actividad eliminada');\n    } catch (e) {\n      console.error(e);\n      toast.error('No se pudo eliminar');\n    } finally {\n      setLoading(p => ({ ...p, delete: null }));\n    }\n  };\n\n  const adjustHours = (delta: number) => {\n    const current = hoursNumber || 0;\n    const next = Math.max(0, Math.round((current + delta) * 2) / 2);\n    setFormData((prev) => ({ ...prev, hours: String(next) }));\n  };\n\n  useEffect(() => {\n    const onKey = (e: KeyboardEvent) => {\n      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'enter') {\n        e.preventDefault();\n        (async () => { if (!loading.submit) { const ok = await coreSubmit(); if (ok) resetForm(); } })();\n      }\n      if (e.key === 'Escape') { resetForm(); }\n    };\n    window.addEventListener('keydown', onKey);\n    return () => window.removeEventListener('keydown', onKey);\n  }, [coreSubmit, loading.submit, resetForm]);\n\n  return (\n    <div className=\"min-h-svh overflow-y-auto bg-[#f2f6fd]\">\n      <Header userName={employeeName} onLogout={onLogout} />\n\n      <style>{`\n        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\n        .hide-scrollbar::-webkit-scrollbar { display: none; }\n        .fav-strip { overscroll-behavior-y: contain; touch-action: pan-x; }\n\n        /* ðŸ‘‰ Fuerza saltos de lÃ­nea en textos sin espacios y evita desbordes */\n        .text-wrap, .text-wrap *{\n          overflow-wrap: anywhere;\n          word-break: break-word;\n          hyphens: auto;\n        }\n      `}</style>\n\n      <div className=\"mx-auto container p-4 sm:p-6 lg:p-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start\">\n          {/* PRINCIPAL */}\n          <main className={cn('lg:col-span-3')}>\n            <Card className=\"relative z-10 flex flex-col text-wrap\">\n              <CardHeader className=\"relative items-center text-center\">\n                <div className=\"flex items-center justify-center gap-2\">\n                  {editingActivityId ? <Pencil className=\"h-5 w-5\" /> : <PlusCircle className=\"h-5 w-5\" />}\n                  <CardTitle className=\"text-center\">\n                    {editingActivityId ? 'Editar Actividad' : 'Registrar Actividad'}\n                  </CardTitle>\n                </div>\n                <div className=\"absolute right-4 top-4 text-xs\">\n                  {editingActivityId ? (\n                    <span className=\"px-2 py-1 rounded-full bg-amber-100 text-amber-800\">Editando</span>\n                  ) : (\n                    <span className=\"px-2 py-1 rounded-full bg-emerald-100 text-emerald-700\">Creando</span>\n                  )}\n                </div>\n                <p className=\"mt-2 text-sm text-muted-foreground\">\n                  Registra tus horas del dÃ­a para el proyecto seleccionado.\n                </p>\n\n                <div className=\"mt-3 text-xs sm:text-sm text-foreground/80 flex flex-wrap justify-center gap-2\">\n                  <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white border\">\n                    <Briefcase className=\"h-3.5 w-3.5\" /> {formData.project_code || 'â€”'}\n                  </span>\n                  <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white border\">\n                    <ListChecks className=\"h-3.5 w-3.5\" /> {formData.phase || 'â€”'}\n                  </span>\n                  <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white border\">\n                    <Pencil className=\"h-3.5 w-3.5\" /> {formData.discipline || 'â€”'}\n                  </span>\n                  <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white border\">\n                    <ClipboardList className=\"h-3.5 w-3.5\" /> {formData.activity || 'â€”'}\n                  </span>\n                </div>\n              </CardHeader>\n\n              <CardContent>\n                {/* Fecha */}\n                <div className=\"mb-4 w-full sm:max-w-xs\">\n                  <label className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                    <span className=\"inline-flex items-center gap-1\">\n                      <CalendarIcon className=\"h-4 w-4\" /> Fecha\n                    </span>\n                  </label>\n                  <Popover>\n                    <PopoverTrigger asChild>\n                      <Button variant=\"outline\" className={cn('w-full justify-start font-normal h-10', !selectedDate && 'text-muted-foreground')}>\n                        <span>{format(selectedDate, 'PPP', { locale: es })}</span>\n                      </Button>\n                    </PopoverTrigger>\n                    <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                      <Calendar mode=\"single\" selected={selectedDate} onSelect={handleDateChange} initialFocus locale={es} />\n                    </PopoverContent>\n                  </Popover>\n                </div>\n\n                {/* GRID: columna izquierda mÃ¡s estrecha */}\n                <div className=\"grid grid-cols-1 md:grid-cols-[320px_minmax(0,1fr)] gap-6 items-start\">\n                  {/* CÃ³digo de Proyecto (col izq) */}\n                  <div className=\"text-wrap\">\n                    <FormSelect\n                      label=\"CÃ³digo de Proyecto\"\n                      name=\"project_code\"\n                      value={formData.project_code}\n                      onValueChange={handleSelectChange as any}\n                      options={projects.map((p) => ({ value: p.code, label: p.code, dropdownLabel: `${p.code} - ${p.name}` }))}\n                      placeholder=\"Seleccione un proyecto\"\n                      loading={loading.projects}\n                      disabled={loading.projects}\n                      icon={<Briefcase className=\"h-4 w-4\" />}\n                      required\n                    />\n                    <p className=\"mt-1 text-[12px] text-muted-foreground whitespace-nowrap overflow-hidden text-ellipsis leading-none\">\n                      Elige el proyecto para cargar los demas campos.\n                    </p>\n                  </div>\n\n                  {/* Nombre del Proyecto (col der) */}\n                  <div className=\"space-y-2 text-wrap\">\n                    <label className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                      <span className=\"inline-flex items-center gap-1\"><Folder className=\"h-4 w-4\" /> Nombre del Proyecto</span>\n                    </label>\n                    <Input value={selectedProjectName} readOnly className=\"bg-muted/50\" aria-label=\"Nombre de proyecto seleccionado\" />\n                  </div>\n\n                  {/* Etapa (izq) */}\n                  <div className=\"text-wrap\">\n                    <FormSelect\n                      label=\"Etapa\"\n                      name=\"phase\"\n                      value={formData.phase}\n                      onValueChange={handleSelectChange as any}\n                      options={stages.map((s) => ({ value: s, label: s }))}\n                      placeholder=\"Seleccione una etapa\"\n                      loading={loading.stages}\n                      disabled={!formData.project_code || loading.stages}\n                      icon={<ListChecks className=\"h-4 w-4\" />}\n                      required\n                    />\n                    <p className=\"mt-1 text-xs text-muted-foreground\">Etapas disponibles para el proyecto elegido.</p>\n                  </div>\n\n                  {/* Disciplina (der) */}\n                  <div className=\"text-wrap\">\n                    <FormSelect\n                      label=\"Disciplina\"\n                      name=\"discipline\"\n                      value={formData.discipline}\n                      onValueChange={handleSelectChange as any}\n                      options={disciplines.map((d) => ({ value: d, label: d }))}\n                      placeholder=\"Seleccione una disciplina\"\n                      loading={loading.disciplines}\n                      disabled={!formData.phase || loading.disciplines}\n                      icon={<Pencil className=\"h-4 w-4\" />}\n                      required\n                    />\n                    <p className=\"mt-1 text-xs text-muted-foreground\">Se filtran segÃºn la etapa seleccionada.</p>\n                  </div>\n\n                  {/* Actividad (izq) */}\n                  <div className=\"w-full md:w-[320px] text-wrap\">\n                    <FormSelect\n                      label=\"Actividad\"\n                      name=\"activity\"\n                      value={formData.activity}\n                      onValueChange={handleSelectChange as any}\n                      options={activities.map((a) => ({ value: a, label: a }))}\n                      placeholder=\"Seleccione una actividad\"\n                      loading={loading.activities}\n                      disabled={!formData.discipline || loading.activities}\n                      icon={<ClipboardList className=\"h-4 w-4\" />}\n                      required\n                    />\n                  </div>\n\n                  {/* Horas (der) â€“ input a la izquierda, botones a la derecha */}\n                  <div className=\"flex flex-col text-wrap\">\n                    <label htmlFor=\"hours\" className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                      <span className=\"inline-flex items-center gap-1\">\n                        <Clock className=\"h-4 w-4\" /> Horas <span className=\"text-destructive\">*</span>\n                      </span>\n                    </label>\n\n                    <div className=\"flex items-center gap-1\">\n                      {/* BotÃ³n Restar */}\n                      <Button\n                        type=\"button\"\n                        variant=\"outline\"\n                        size=\"icon\"\n                        className=\"h-10 w-10 shrink-0\"\n                        onClick={() => adjustHours(-0.5)}\n                        aria-label=\"Restar 0.5h\"\n                      >\n                        <Minus className=\"h-4 w-4\" />\n                      </Button>\n\n                      {/* BotÃ³n Sumar */}\n                      <Button\n                        type=\"button\"\n                        variant=\"outline\"\n                        size=\"icon\"\n                        className=\"h-10 w-10 shrink-0\"\n                        onClick={() => adjustHours(0.5)}\n                        aria-label=\"Sumar 0.5h\"\n                      >\n                        <Plus className=\"h-4 w-4\" />\n                      </Button>\n\n                      {/* Input de horas */}\n                      <Input\n                        id=\"hours\"\n                        name=\"hours\"\n                        type=\"number\"\n                        value={formData.hours}\n                        onChange={handleChange}\n                        min=\"0\"\n                        step=\"0.5\"\n                        ref={hoursInputRef}\n                        className=\"h-10 w-[100px] shrink-0 rounded-md mr-0\"\n                      />\n\n                      {/* BotÃ³n Favorito */}\n                      <Button\n                        type=\"button\"\n                        variant={isCurrentFavorite ? 'default' : 'outline'}\n                        className=\"h-10 shrink-0\"\n                        onClick={toggleFavorite}\n                        title={isCurrentFavorite ? 'Quitar de favoritos' : 'Guardar como favorito'}\n                      >\n                        <Star className=\"h-4 w-4 mr-2\" /> Favorito\n                      </Button>\n                    </div>\n                  </div>\n\n                  {/* Chips de favoritos (ocupa ambas columnas) */}\n                  {favorites.length > 0 && (\n                    <div className=\"md:col-span-2\">\n                      <div\n                        ref={favScrollRef}\n                        onWheel={handleFavWheel}\n                        className=\"mt-1 overflow-x-auto whitespace-nowrap hide-scrollbar fav-strip\"\n                        style={{ overscrollBehaviorX: 'contain', overscrollBehaviorY: 'none', touchAction: 'pan-x' }}\n                      >\n                        <div className=\"flex gap-2\">\n                          {favorites.map((fav, idx) => (\n                            <button\n                              key={idx}\n                              type=\"button\"\n                              onClick={() => applyFavorite(fav)}\n                              className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full border bg-white hover:bg-muted text-xs shrink-0\"\n                              title={`${fav.project_code} â€¢ ${fav.phase} â€¢ ${fav.discipline}`}\n                            >\n                              <Star className=\"h-3.5 w-3.5\" />\n                              <span className=\"font-medium\">{fav.activity}</span>\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Nota (Opcional) â€“ 2 lÃ­neas */}\n                  <div className=\"md:col-span-2 w-full text-wrap\">\n                    <label htmlFor=\"note\" className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                      <span className=\"inline-flex items-center gap-1\">\n                        <Info className=\"h-4 w-4\" /> Nota (Opcional)\n                      </span>\n                    </label>\n                    <textarea\n                      id=\"note\"\n                      name=\"note\"\n                      value={formData.note}\n                      onChange={handleChange}\n                      onKeyDown={handleNoteKeyDown}\n                      rows={2}\n                      className=\"flex h-19 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 whitespace-pre-wrap\"\n                      placeholder=\"DescripciÃ³n breve del trabajo realizado\"\n                    />\n                  </div>\n                </div>\n\n                {/* Acciones */}\n                <div className=\"mt-6 flex items-center justify-end gap-3\">\n                  <Button\n                    type=\"submit\"\n                    onClick={(e) => { e.preventDefault(); handleSubmit(e as any); }}\n                    disabled={loading.submit || Object.keys(errors).length > 0}\n                    className=\"h-11\"\n                  >\n                    {loading.submit ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Save className=\"mr-2 h-4 w-4\" />}\n                    {editingActivityId ? 'Actualizar' : 'Guardar'}\n                  </Button>\n\n                  {editingActivityId && (\n                    <Button type=\"button\" variant=\"outline\" onClick={resetForm} className=\"h-11\">\n                      <XCircle className=\"mr-2 h-4 w-4\" /> Cancelar ediciÃ³n\n                    </Button>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </main>\n\n          {/* LATERAL */}\n          <aside className=\"lg:col-span-2\">\n            <Card className=\"h-full text-wrap\">\n              <CardHeader className=\"relative\">\n                <CardTitle className=\"text-center flex items-center justify-center gap-2\">\n                  <ClipboardList className=\"h-5 w-5\" />\n                  Actividades del DÃ­a\n                </CardTitle>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  size=\"icon\"\n                  title=\"Ordenar\"\n                  onClick={() => setSortDir((d) => (d === 'asc' ? 'desc' : 'asc'))}\n                  className=\"absolute right-4 top-4\"\n                >\n                  <ArrowUpDown className=\"h-4 w-4\" />\n                </Button>\n\n                <div className=\"text-sm text-muted-foreground flex items-center justify-center gap-3 mt-2\">\n                  <span className=\"inline-flex items-center gap-2\">\n                    <CalendarIcon className=\"h-4 w-4\" /> {format(selectedDate, 'PPP', { locale: es })}\n                  </span>\n                  <span className=\"inline-flex items-center px-2 py-0.5 rounded-full bg-muted/60 text-foreground/80\">\n                    Total registros: {dailyActivities.length}\n                  </span>\n                </div>\n              </CardHeader>\n\n              <CardContent>\n                {loading.dailyActivities ? (\n                  <ActivityListSkeleton />\n                ) : visibleActivities.length > 0 ? (\n                  <>\n                    {/* Lista sin overflow horizontal y con saltos de lÃ­nea */}\n                    <div className=\"space-y-4 max-h-[520px] overflow-y-auto overflow-x-hidden pr-1 text-wrap\">\n                      {visibleActivities.map((activity) => (\n                        <div key={activity.id} className=\"text-wrap\">\n                          <ActivityItem\n                            activity={activity}\n                            onEdit={handleEditActivity}\n                            onDelete={handleDelete}\n                          />\n                        </div>\n                      ))}\n                    </div>\n                    <div className=\"pt-3\">\n                      <TotalHoursProgress totalHours={totalHoursToday} selectedDate={selectedDate} />\n                    </div>\n                  </>\n                ) : (\n                  <EmptyState />\n                )}\n              </CardContent>\n            </Card>\n          </aside>\n        </div>\n      </div>\n\n      {undoData && (\n        <div className=\"fixed bottom-3 left-1/2 -translate-x-1/2 z-50 bg-red-50 border border-red-200 text-red-700 shadow rounded-full px-4 py-2 flex items-center gap-3\">\n          <span className=\"text-sm\">Registro eliminado.</span>\n          <Button size=\"sm\" variant=\"outline\" onClick={handleUndoDelete}>\n            <Undo2 className=\"h-4 w-4 mr-1\" /> Deshacer\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FormularioHoras;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}