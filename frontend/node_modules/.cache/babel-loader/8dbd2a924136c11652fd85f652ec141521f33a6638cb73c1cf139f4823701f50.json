{"ast":null,"code":"var _jsxFileName = \"D:\\\\formulario de horas\\\\FormularioHoras Version 1\\\\frontend\\\\src\\\\components\\\\FormularioHoras.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport Header from './Header';\nimport { toast } from 'sonner';\nimport { Calendar as CalendarIcon, Briefcase, Save, Pencil, ListChecks, ClipboardList, XCircle, PlusCircle, Loader2 } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Calendar } from './ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from './ui/popover';\nimport { cn } from '../lib/utils';\nimport { FormSelect } from './formulario/FormSelect';\nimport { ActivityItem } from './formulario/ActivityItem';\nimport { ActivityListSkeleton } from './formulario/ActivityListSkeleton';\nimport { EmptyState } from './formulario/EmptyState';\nimport { TotalHoursProgress } from './formulario/TotalHoursProgress';\nimport { submitHours, getProjects, getProjectStages, getDisciplinesByStage, getActivitiesByDiscipline, getDailyActivities, deleteHour } from '../api/horasApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFormData = employeeId => ({\n  employee_id: String(employeeId),\n  project_code: '',\n  phase: '',\n  discipline: '',\n  activity: '',\n  hours: '',\n  note: ''\n});\nconst FormularioHoras = ({\n  onSuccess,\n  employeeId,\n  employeeName,\n  onLogout\n}) => {\n  _s();\n  const [formData, setFormData] = useState(initialFormData(employeeId));\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [dailyActivities, setDailyActivities] = useState([]);\n  const [projects, setProjects] = useState([]);\n  const [stages, setStages] = useState([]);\n  const [disciplines, setDisciplines] = useState([]);\n  const [activities, setActivities] = useState([]);\n  const [editingActivityId, setEditingActivityId] = useState(null);\n  const [loading, setLoading] = useState({\n    submit: false,\n    projects: true,\n    stages: false,\n    disciplines: false,\n    activities: false,\n    dailyActivities: true\n  });\n  const totalHoursToday = useMemo(() => dailyActivities.reduce((sum, a) => sum + a.hours, 0), [dailyActivities]);\n  const selectedProjectName = useMemo(() => {\n    var _projects$find;\n    return ((_projects$find = projects.find(p => p.code === formData.project_code)) === null || _projects$find === void 0 ? void 0 : _projects$find.name) || '';\n  }, [formData.project_code, projects]);\n  const hoursNumber = useMemo(() => {\n    var _formData$hours;\n    const raw = String((_formData$hours = formData.hours) !== null && _formData$hours !== void 0 ? _formData$hours : '').replace(',', '.').trim();\n    const n = Number(raw);\n    return Number.isFinite(n) ? n : 0;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData.hours]);\n  const isFormValid = useMemo(() => {\n    const required = [formData.project_code, formData.phase, formData.discipline, formData.activity];\n    const allFilled = required.every(v => typeof v === 'string' ? v.trim().length > 0 : Boolean(v));\n    return allFilled && hoursNumber > 0;\n  }, [formData.project_code, formData.phase, formData.discipline, formData.activity, hoursNumber]);\n  const refreshDailyActivities = useCallback(async (date, id) => {\n    setLoading(prev => ({\n      ...prev,\n      dailyActivities: true\n    }));\n    try {\n      const dateString = format(date, 'yyyy-MM-dd');\n      const acts = await getDailyActivities(dateString, Number(id));\n      setDailyActivities(acts);\n    } catch (error) {\n      toast.error('Error al cargar las actividades del día.');\n      console.error(error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        dailyActivities: false\n      }));\n    }\n  }, []);\n  const fetchProjects = useCallback(async () => {\n    setLoading(prev => ({\n      ...prev,\n      projects: true\n    }));\n    try {\n      const projectData = await getProjects();\n      setProjects(projectData);\n    } catch (error) {\n      toast.error('Error al cargar proyectos.');\n      console.error(error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        projects: false\n      }));\n    }\n  }, []);\n  const fetchStages = useCallback(async projectCode => {\n    setLoading(prev => ({\n      ...prev,\n      stages: true\n    }));\n    try {\n      const stageData = await getProjectStages(projectCode);\n      setStages(stageData.map(String));\n    } catch (error) {\n      toast.error('Error al cargar las etapas del proyecto.');\n      console.error(error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        stages: false\n      }));\n    }\n  }, []);\n  const fetchDisciplines = useCallback(async (projectCode, stage) => {\n    setLoading(prev => ({\n      ...prev,\n      disciplines: true\n    }));\n    try {\n      const disciplineData = await getDisciplinesByStage(projectCode, stage);\n      setDisciplines(disciplineData.map(String));\n    } catch (error) {\n      toast.error('Error al cargar las disciplinas.');\n      console.error(error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        disciplines: false\n      }));\n    }\n  }, []);\n  const fetchActivities = useCallback(async (projectCode, stage, discipline) => {\n    setLoading(prev => ({\n      ...prev,\n      activities: true\n    }));\n    try {\n      const activityData = await getActivitiesByDiscipline(projectCode, stage, discipline);\n      setActivities(activityData.map(String));\n    } catch (error) {\n      toast.error('Error al cargar las actividades.');\n      console.error(error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        activities: false\n      }));\n    }\n  }, []);\n  useEffect(() => {\n    fetchProjects();\n  }, [fetchProjects]);\n  useEffect(() => {\n    refreshDailyActivities(selectedDate, String(employeeId));\n  }, [selectedDate, employeeId, refreshDailyActivities]);\n  const handleDateChange = date => {\n    if (date) {\n      setSelectedDate(date);\n      refreshDailyActivities(date, String(employeeId));\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const v = name === 'hours' ? value.replace(',', '.') : value;\n    setFormData(prev => ({\n      ...prev,\n      [name]: v\n    }));\n  };\n  const handleSelectChange = (name, value) => {\n    const newFormData = {\n      ...formData,\n      [name]: value\n    };\n    if (name === 'project_code') {\n      newFormData.phase = '';\n      newFormData.discipline = '';\n      newFormData.activity = '';\n      setStages([]);\n      setDisciplines([]);\n      setActivities([]);\n      if (value) fetchStages(value);\n    } else if (name === 'phase') {\n      newFormData.discipline = '';\n      newFormData.activity = '';\n      setDisciplines([]);\n      setActivities([]);\n      if (value) fetchDisciplines(newFormData.project_code, value);\n    } else if (name === 'discipline') {\n      newFormData.activity = '';\n      setActivities([]);\n      if (value) fetchActivities(newFormData.project_code, newFormData.phase, value);\n    }\n    setFormData(newFormData);\n  };\n  const resetForm = useCallback(() => {\n    setFormData(initialFormData(employeeId));\n    setEditingActivityId(null);\n  }, [employeeId]);\n  const handleEditActivity = useCallback(async activity => {\n    var _activity$project_cod, _activity$phase, _activity$discipline, _activity$activity, _activity$hours;\n    setEditingActivityId(activity.id);\n    if (activity.date) {\n      try {\n        setSelectedDate(parseISO(activity.date));\n      } catch {}\n    }\n    setFormData({\n      employee_id: String(activity.employee_id),\n      project_code: (_activity$project_cod = activity.project_code) !== null && _activity$project_cod !== void 0 ? _activity$project_cod : '',\n      phase: (_activity$phase = activity.phase) !== null && _activity$phase !== void 0 ? _activity$phase : '',\n      discipline: (_activity$discipline = activity.discipline) !== null && _activity$discipline !== void 0 ? _activity$discipline : '',\n      activity: (_activity$activity = activity.activity) !== null && _activity$activity !== void 0 ? _activity$activity : '',\n      hours: String((_activity$hours = activity.hours) !== null && _activity$hours !== void 0 ? _activity$hours : ''),\n      note: activity.note || ''\n    });\n    await fetchStages(activity.project_code);\n    await fetchDisciplines(activity.project_code, activity.phase);\n    await fetchActivities(activity.project_code, activity.phase, activity.discipline);\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, [fetchStages, fetchDisciplines, fetchActivities]);\n  const handleDelete = async idToDelete => {\n    toast.warning('¿Estás seguro de que quieres eliminar esta actividad?', {\n      duration: 5000,\n      action: {\n        label: 'Eliminar',\n        onClick: async () => {\n          try {\n            await deleteHour(idToDelete);\n            toast.error('Actividad eliminada correctamente.', {\n              duration: 3000\n            });\n            refreshDailyActivities(selectedDate, String(employeeId));\n            if (editingActivityId === idToDelete) {\n              resetForm();\n            }\n          } catch (error) {\n            toast.error('Error al eliminar la actividad.', {\n              duration: 3000\n            });\n            console.error(error);\n          }\n        }\n      },\n      cancel: {\n        label: 'Cancelar',\n        onClick: () => toast.dismiss()\n      }\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(prev => ({\n      ...prev,\n      submit: true\n    }));\n    const submissionData = {\n      ...formData,\n      date: format(selectedDate, 'yyyy-MM-dd'),\n      project_name: selectedProjectName,\n      hours: hoursNumber,\n      employee_id: employeeId,\n      id: editingActivityId !== null && editingActivityId !== void 0 ? editingActivityId : undefined\n    };\n    try {\n      await submitHours(submissionData);\n      toast.success(`Actividad ${editingActivityId ? 'actualizada' : 'guardada'} con éxito.`, {\n        duration: 3000,\n        style: {\n          backgroundColor: '#28a745',\n          color: 'white',\n          border: 'none'\n        }\n      });\n      onSuccess();\n      resetForm();\n      refreshDailyActivities(selectedDate, String(employeeId));\n    } catch (error) {\n      toast.error('Error al guardar la actividad.', {\n        duration: 3000\n      });\n      console.error(error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        submit: false\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      userName: employeeName,\n      onLogout: onLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-4 sm:p-6 lg:p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-5 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"lg:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"relative z-10\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"flex items-center justify-center\",\n                children: [editingActivityId ? /*#__PURE__*/_jsxDEV(Pencil, {\n                  className: \"mr-2 h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(PlusCircle, {\n                  className: \"mr-2 h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this), editingActivityId ? 'Editar Actividad' : 'Registrar Actividad']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"space-y-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full md:w-1/3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"date\",\n                    className: \"block text-sm font-medium text-foreground/80 mb-1\",\n                    children: \"Fecha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Popover, {\n                    children: [/*#__PURE__*/_jsxDEV(PopoverTrigger, {\n                      asChild: true,\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline\",\n                        className: cn('w-full justify-start text-left font-normal', !selectedDate && 'text-muted-foreground'),\n                        children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                          className: \"mr-2 h-4 w-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 364,\n                          columnNumber: 27\n                        }, this), selectedDate ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: format(selectedDate, 'PPP', {\n                            locale: es\n                          })\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 365,\n                          columnNumber: 43\n                        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Seleccione una fecha\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 365,\n                          columnNumber: 104\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 360,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(PopoverContent, {\n                      className: \"w-auto p-0\",\n                      children: /*#__PURE__*/_jsxDEV(Calendar, {\n                        mode: \"single\",\n                        selected: selectedDate,\n                        onSelect: handleDateChange,\n                        initialFocus: true,\n                        locale: es\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 369,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n                  children: [/*#__PURE__*/_jsxDEV(FormSelect, {\n                    label: \"C\\xF3digo de Proyecto\",\n                    name: \"project_code\",\n                    value: formData.project_code,\n                    onValueChange: handleSelectChange,\n                    options: projects.filter(p => p.code && p.code.trim() !== '').map(p => ({\n                      value: p.code,\n                      label: p.code,\n                      // Trigger: solo el código\n                      dropdownLabel: `${p.code} - ${p.name}` // Lista: código - nombre\n                    })),\n                    placeholder: \"Seleccione un proyecto\",\n                    loading: loading.projects,\n                    disabled: loading.projects,\n                    icon: /*#__PURE__*/_jsxDEV(Briefcase, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 29\n                    }, this),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-foreground/80 mb-1\",\n                      children: \"Nombre del Proyecto\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      value: selectedProjectName,\n                      readOnly: true,\n                      className: \"bg-muted/50\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                    label: \"Etapa\",\n                    name: \"phase\",\n                    value: formData.phase,\n                    onValueChange: handleSelectChange,\n                    options: stages.filter(s => s && s.trim() !== '').map(s => ({\n                      value: s,\n                      label: s\n                    })),\n                    placeholder: \"Seleccione una etapa\",\n                    loading: loading.stages,\n                    disabled: !formData.project_code || loading.stages,\n                    icon: /*#__PURE__*/_jsxDEV(ListChecks, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 29\n                    }, this),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                    label: \"Disciplina\",\n                    name: \"discipline\",\n                    value: formData.discipline,\n                    onValueChange: handleSelectChange,\n                    options: disciplines.filter(d => d && d.trim() !== '').map(d => ({\n                      value: d,\n                      label: d\n                    })),\n                    placeholder: \"Seleccione una disciplina\",\n                    loading: loading.disciplines,\n                    disabled: !formData.phase || loading.disciplines,\n                    icon: /*#__PURE__*/_jsxDEV(Pencil, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 29\n                    }, this),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                    label: \"Actividad\",\n                    name: \"activity\",\n                    value: formData.activity,\n                    onValueChange: handleSelectChange,\n                    options: activities.filter(a => a && a.trim() !== '').map(a => ({\n                      value: a,\n                      label: a\n                    })),\n                    placeholder: \"Seleccione una actividad\",\n                    loading: loading.activities,\n                    disabled: !formData.discipline || loading.activities,\n                    icon: /*#__PURE__*/_jsxDEV(ClipboardList, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 29\n                    }, this),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"hours\",\n                      className: \"block text-sm font-medium text-foreground/80 mb-1\",\n                      children: [\"Horas \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-destructive\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 449,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"hours\",\n                      name: \"hours\",\n                      type: \"number\",\n                      value: formData.hours,\n                      onChange: handleChange,\n                      min: \"0.5\",\n                      step: \"0.5\",\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"note\",\n                    className: \"block text-sm font-medium text-foreground/80 mb-1\",\n                    children: \"Nota (Opcional)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"note\",\n                    name: \"note\",\n                    type: \"text\",\n                    value: formData.note,\n                    onChange: handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end flex-col items-end gap-2 pt-4\",\n                  children: [editingActivityId && /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"button\",\n                    variant: \"outline\",\n                    onClick: resetForm,\n                    children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                      className: \"mr-2 h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 25\n                    }, this), \"Cancelar Edici\\xF3n\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    disabled: !isFormValid || loading.submit,\n                    className: \"min-w-[150px]\",\n                    children: [loading.submit ? /*#__PURE__*/_jsxDEV(Loader2, {\n                      className: \"mr-2 h-4 w-4 animate-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 41\n                    }, this) : /*#__PURE__*/_jsxDEV(Save, {\n                      className: \"mr-2 h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 93\n                    }, this), editingActivityId ? 'Actualizar' : 'Guardar']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"text-center\",\n                children: \"Actividades del D\\xEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: loading.dailyActivities ? /*#__PURE__*/_jsxDEV(ActivityListSkeleton, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 21\n                }, this) : dailyActivities.length > 0 ? dailyActivities.map(activity => /*#__PURE__*/_jsxDEV(ActivityItem, {\n                  activity: activity,\n                  onEdit: handleEditActivity,\n                  onDelete: handleDelete\n                }, activity.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 23\n                }, this)) : /*#__PURE__*/_jsxDEV(EmptyState, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6\",\n                children: /*#__PURE__*/_jsxDEV(TotalHoursProgress, {\n                  totalHours: totalHoursToday,\n                  selectedDate: selectedDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n};\n_s(FormularioHoras, \"OMNLEma559wS4UhmdJIZ6NeeEBA=\");\n_c = FormularioHoras;\nexport default FormularioHoras;\nvar _c;\n$RefreshReg$(_c, \"FormularioHoras\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","format","parseISO","es","Header","toast","Calendar","CalendarIcon","Briefcase","Save","Pencil","ListChecks","ClipboardList","XCircle","PlusCircle","Loader2","Card","CardContent","CardHeader","CardTitle","Button","Input","Popover","PopoverContent","PopoverTrigger","cn","FormSelect","ActivityItem","ActivityListSkeleton","EmptyState","TotalHoursProgress","submitHours","getProjects","getProjectStages","getDisciplinesByStage","getActivitiesByDiscipline","getDailyActivities","deleteHour","jsxDEV","_jsxDEV","initialFormData","employeeId","employee_id","String","project_code","phase","discipline","activity","hours","note","FormularioHoras","onSuccess","employeeName","onLogout","_s","formData","setFormData","selectedDate","setSelectedDate","Date","dailyActivities","setDailyActivities","projects","setProjects","stages","setStages","disciplines","setDisciplines","activities","setActivities","editingActivityId","setEditingActivityId","loading","setLoading","submit","totalHoursToday","reduce","sum","a","selectedProjectName","_projects$find","find","p","code","name","hoursNumber","_formData$hours","raw","replace","trim","n","Number","isFinite","isFormValid","required","allFilled","every","v","length","Boolean","refreshDailyActivities","date","id","prev","dateString","acts","error","console","fetchProjects","projectData","fetchStages","projectCode","stageData","map","fetchDisciplines","stage","disciplineData","fetchActivities","activityData","handleDateChange","handleChange","e","value","target","handleSelectChange","newFormData","resetForm","handleEditActivity","_activity$project_cod","_activity$phase","_activity$discipline","_activity$activity","_activity$hours","window","scrollTo","top","behavior","handleDelete","idToDelete","warning","duration","action","label","onClick","cancel","dismiss","handleSubmit","preventDefault","submissionData","project_name","undefined","success","style","backgroundColor","color","border","children","userName","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","htmlFor","asChild","variant","locale","mode","selected","onSelect","initialFocus","onValueChange","options","filter","dropdownLabel","placeholder","disabled","icon","readOnly","s","d","type","onChange","min","step","onEdit","onDelete","totalHours","_c","$RefreshReg$"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/components/FormularioHoras.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport Header from './Header';\n\nimport { toast } from 'sonner';\nimport {\n  Calendar as CalendarIcon,\n  Briefcase,\n  Save,\n  Pencil,\n  ListChecks,\n  ClipboardList,\n  XCircle,\n  PlusCircle,\n  Loader2,\n} from 'lucide-react';\n\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Calendar } from './ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from './ui/popover';\nimport { cn } from '../lib/utils';\n\nimport { FormSelect } from './formulario/FormSelect';\nimport { ActivityItem } from './formulario/ActivityItem';\nimport { ActivityListSkeleton } from './formulario/ActivityListSkeleton';\nimport { EmptyState } from './formulario/EmptyState';\nimport { TotalHoursProgress } from './formulario/TotalHoursProgress';\n\nimport {\n  submitHours,\n  getProjects,\n  getProjectStages,\n  getDisciplinesByStage,\n  getActivitiesByDiscipline,\n  getDailyActivities,\n  deleteHour,\n} from '../api/horasApi';\n\ninterface FormularioHorasProps {\n  onSuccess: () => void;\n  employeeId: number;\n  employeeName: string;\n  onLogout: () => void;\n}\n\ninterface Project {\n  code: string;\n  name: string;\n}\n\ninterface Activity {\n  id: number;\n  date: string;\n  employee_id: number;\n  project_code: string;\n  project_name: string;\n  phase: string;\n  discipline: string;\n  activity: string;\n  hours: number;\n  note: string;\n}\n\nconst initialFormData = (employeeId: number) => ({\n  employee_id: String(employeeId),\n  project_code: '',\n  phase: '',\n  discipline: '',\n  activity: '',\n  hours: '',\n  note: '',\n});\n\nconst FormularioHoras: React.FC<FormularioHorasProps> = ({\n  onSuccess,\n  employeeId,\n  employeeName,\n  onLogout,\n}) => {\n  const [formData, setFormData] = useState(initialFormData(employeeId));\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [dailyActivities, setDailyActivities] = useState<Activity[]>([]);\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [stages, setStages] = useState<string[]>([]);\n  const [disciplines, setDisciplines] = useState<string[]>([]);\n  const [activities, setActivities] = useState<string[]>([]);\n  const [editingActivityId, setEditingActivityId] = useState<number | null>(null);\n\n  const [loading, setLoading] = useState({\n    submit: false,\n    projects: true,\n    stages: false,\n    disciplines: false,\n    activities: false,\n    dailyActivities: true,\n  });\n\n  const totalHoursToday = useMemo(\n    () => dailyActivities.reduce((sum, a) => sum + a.hours, 0),\n    [dailyActivities]\n  );\n\n  const selectedProjectName = useMemo(\n    () => projects.find((p) => p.code === formData.project_code)?.name || '',\n    [formData.project_code, projects]\n  );\n\n  const hoursNumber = useMemo(() => {\n    const raw = String(formData.hours ?? '').replace(',', '.').trim();\n    const n = Number(raw);\n    return Number.isFinite(n) ? n : 0;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData.hours]);\n\n  const isFormValid = useMemo(() => {\n    const required = [\n      formData.project_code,\n      formData.phase,\n      formData.discipline,\n      formData.activity,\n    ];\n    const allFilled = required.every((v) =>\n      typeof v === 'string' ? v.trim().length > 0 : Boolean(v)\n    );\n    return allFilled && hoursNumber > 0;\n  }, [formData.project_code, formData.phase, formData.discipline, formData.activity, hoursNumber]);\n\n  const refreshDailyActivities = useCallback(async (date: Date, id: string) => {\n    setLoading((prev) => ({ ...prev, dailyActivities: true }));\n    try {\n      const dateString = format(date, 'yyyy-MM-dd');\n      const acts = await getDailyActivities(dateString, Number(id));\n      setDailyActivities(acts);\n    } catch (error) {\n      toast.error('Error al cargar las actividades del día.');\n      console.error(error);\n    } finally {\n      setLoading((prev) => ({ ...prev, dailyActivities: false }));\n    }\n  }, []);\n\n  const fetchProjects = useCallback(async () => {\n    setLoading((prev) => ({ ...prev, projects: true }));\n    try {\n      const projectData = await getProjects();\n      setProjects(projectData);\n    } catch (error) {\n      toast.error('Error al cargar proyectos.');\n      console.error(error);\n    } finally {\n      setLoading((prev) => ({ ...prev, projects: false }));\n    }\n  }, []);\n\n  const fetchStages = useCallback(async (projectCode: string) => {\n    setLoading((prev) => ({ ...prev, stages: true }));\n    try {\n      const stageData = await getProjectStages(projectCode);\n      setStages(stageData.map(String));\n    } catch (error) {\n      toast.error('Error al cargar las etapas del proyecto.');\n      console.error(error);\n    } finally {\n      setLoading((prev) => ({ ...prev, stages: false }));\n    }\n  }, []);\n\n  const fetchDisciplines = useCallback(async (projectCode: string, stage: string) => {\n    setLoading((prev) => ({ ...prev, disciplines: true }));\n    try {\n      const disciplineData = await getDisciplinesByStage(projectCode, stage);\n      setDisciplines(disciplineData.map(String));\n    } catch (error) {\n      toast.error('Error al cargar las disciplinas.');\n      console.error(error);\n    } finally {\n      setLoading((prev) => ({ ...prev, disciplines: false }));\n    }\n  }, []);\n\n  const fetchActivities = useCallback(\n    async (projectCode: string, stage: string, discipline: string) => {\n      setLoading((prev) => ({ ...prev, activities: true }));\n      try {\n        const activityData = await getActivitiesByDiscipline(projectCode, stage, discipline);\n        setActivities(activityData.map(String));\n      } catch (error) {\n        toast.error('Error al cargar las actividades.');\n        console.error(error);\n      } finally {\n        setLoading((prev) => ({ ...prev, activities: false }));\n      }\n    },\n    []\n  );\n\n  useEffect(() => {\n    fetchProjects();\n  }, [fetchProjects]);\n\n  useEffect(() => {\n    refreshDailyActivities(selectedDate, String(employeeId));\n  }, [selectedDate, employeeId, refreshDailyActivities]);\n\n  const handleDateChange = (date: Date | undefined) => {\n    if (date) {\n      setSelectedDate(date);\n      refreshDailyActivities(date, String(employeeId));\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    const v = name === 'hours' ? value.replace(',', '.') : value;\n    setFormData((prev) => ({ ...prev, [name]: v }));\n  };\n\n  const handleSelectChange = (name: string, value: string) => {\n    const newFormData = { ...formData, [name]: value };\n\n    if (name === 'project_code') {\n      newFormData.phase = '';\n      newFormData.discipline = '';\n      newFormData.activity = '';\n      setStages([]);\n      setDisciplines([]);\n      setActivities([]);\n      if (value) fetchStages(value);\n    } else if (name === 'phase') {\n      newFormData.discipline = '';\n      newFormData.activity = '';\n      setDisciplines([]);\n      setActivities([]);\n      if (value) fetchDisciplines(newFormData.project_code, value);\n    } else if (name === 'discipline') {\n      newFormData.activity = '';\n      setActivities([]);\n      if (value) fetchActivities(newFormData.project_code, newFormData.phase, value);\n    }\n\n    setFormData(newFormData);\n  };\n\n  const resetForm = useCallback(() => {\n    setFormData(initialFormData(employeeId));\n    setEditingActivityId(null);\n  }, [employeeId]);\n\n  const handleEditActivity = useCallback(\n    async (activity: Activity) => {\n      setEditingActivityId(activity.id);\n\n      if (activity.date) {\n        try {\n          setSelectedDate(parseISO(activity.date));\n        } catch {}\n      }\n\n      setFormData({\n        employee_id: String(activity.employee_id),\n        project_code: activity.project_code ?? '',\n        phase: activity.phase ?? '',\n        discipline: activity.discipline ?? '',\n        activity: activity.activity ?? '',\n        hours: String(activity.hours ?? ''),\n        note: activity.note || '',\n      });\n\n      await fetchStages(activity.project_code);\n      await fetchDisciplines(activity.project_code, activity.phase);\n      await fetchActivities(activity.project_code, activity.phase, activity.discipline);\n\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    },\n    [fetchStages, fetchDisciplines, fetchActivities]\n  );\n\n  const handleDelete = async (idToDelete: number) => {\n    toast.warning('¿Estás seguro de que quieres eliminar esta actividad?', {\n      duration: 5000,\n      action: {\n        label: 'Eliminar',\n        onClick: async () => {\n          try {\n            await deleteHour(idToDelete);\n            toast.error('Actividad eliminada correctamente.', { duration: 3000 });\n            refreshDailyActivities(selectedDate, String(employeeId));\n            if (editingActivityId === idToDelete) {\n              resetForm();\n            }\n          } catch (error) {\n            toast.error('Error al eliminar la actividad.', { duration: 3000 });\n            console.error(error);\n          }\n        },\n      },\n      cancel: { label: 'Cancelar', onClick: () => toast.dismiss() },\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading((prev) => ({ ...prev, submit: true }));\n\n    const submissionData = {\n      ...formData,\n      date: format(selectedDate, 'yyyy-MM-dd'),\n      project_name: selectedProjectName,\n      hours: hoursNumber,\n      employee_id: employeeId,\n      id: editingActivityId ?? undefined,\n    };\n\n    try {\n      await submitHours(submissionData);\n      toast.success(\n        `Actividad ${editingActivityId ? 'actualizada' : 'guardada'} con éxito.`,\n        { duration: 3000, style: { backgroundColor: '#28a745', color: 'white', border: 'none' } }\n      );\n      onSuccess();\n      resetForm();\n      refreshDailyActivities(selectedDate, String(employeeId));\n    } catch (error) {\n      toast.error('Error al guardar la actividad.', { duration: 3000 });\n      console.error(error);\n    } finally {\n      setLoading((prev) => ({ ...prev, submit: false }));\n    }\n  };\n\n  return (\n    <div>\n      <Header userName={employeeName} onLogout={onLogout} />\n      <div className=\"container mx-auto p-4 sm:p-6 lg:p-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-8\">\n          <main className=\"lg:col-span-3\">\n            <Card className=\"relative z-10\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-center\">\n                  {editingActivityId ? (\n                    <Pencil className=\"mr-2 h-5 w-5\" />\n                  ) : (\n                    <PlusCircle className=\"mr-2 h-5 w-5\" />\n                  )}\n                  {editingActivityId ? 'Editar Actividad' : 'Registrar Actividad'}\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\n                  <div className=\"w-full md:w-1/3\">\n                    <label htmlFor=\"date\" className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                      Fecha\n                    </label>\n\n                    <Popover>\n                      <PopoverTrigger asChild>\n                        <Button\n                          variant=\"outline\"\n                          className={cn('w-full justify-start text-left font-normal', !selectedDate && 'text-muted-foreground')}\n                        >\n                          <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                          {selectedDate ? <span>{format(selectedDate, 'PPP', { locale: es })}</span> : <span>Seleccione una fecha</span>}\n                        </Button>\n                      </PopoverTrigger>\n\n                      <PopoverContent className=\"w-auto p-0\">\n                        <Calendar mode=\"single\" selected={selectedDate} onSelect={handleDateChange} initialFocus locale={es} />\n                      </PopoverContent>\n                    </Popover>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <FormSelect\n                      label=\"Código de Proyecto\"\n                      name=\"project_code\"\n                      value={formData.project_code}\n                      onValueChange={handleSelectChange}\n                      options={projects\n                        .filter((p) => p.code && p.code.trim() !== '')\n                        .map((p) => ({\n                          value: p.code,\n                          label: p.code, // Trigger: solo el código\n                          dropdownLabel: `${p.code} - ${p.name}`, // Lista: código - nombre\n                        }))}\n                      placeholder=\"Seleccione un proyecto\"\n                      loading={loading.projects}\n                      disabled={loading.projects}\n                      icon={<Briefcase className=\"h-4 w-4\" />}\n                      required\n                    />\n\n                    <div className=\"space-y-2\">\n                      <label className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                        Nombre del Proyecto\n                      </label>\n                      <Input value={selectedProjectName} readOnly className=\"bg-muted/50\" />\n                    </div>\n\n                    <FormSelect\n                      label=\"Etapa\"\n                      name=\"phase\"\n                      value={formData.phase}\n                      onValueChange={handleSelectChange}\n                      options={stages\n                        .filter((s) => s && s.trim() !== '')\n                        .map((s) => ({ value: s, label: s }))}\n                      placeholder=\"Seleccione una etapa\"\n                      loading={loading.stages}\n                      disabled={!formData.project_code || loading.stages}\n                      icon={<ListChecks className=\"h-4 w-4\" />}\n                      required\n                    />\n\n                    <FormSelect\n                      label=\"Disciplina\"\n                      name=\"discipline\"\n                      value={formData.discipline}\n                      onValueChange={handleSelectChange}\n                      options={disciplines\n                        .filter((d) => d && d.trim() !== '')\n                        .map((d) => ({ value: d, label: d }))}\n                      placeholder=\"Seleccione una disciplina\"\n                      loading={loading.disciplines}\n                      disabled={!formData.phase || loading.disciplines}\n                      icon={<Pencil className=\"h-4 w-4\" />}\n                      required\n                    />\n\n                    <FormSelect\n                      label=\"Actividad\"\n                      name=\"activity\"\n                      value={formData.activity}\n                      onValueChange={handleSelectChange}\n                      options={activities\n                        .filter((a) => a && a.trim() !== '')\n                        .map((a) => ({ value: a, label: a }))}\n                      placeholder=\"Seleccione una actividad\"\n                      loading={loading.activities}\n                      disabled={!formData.discipline || loading.activities}\n                      icon={<ClipboardList className=\"h-4 w-4\" />}\n                      required\n                    />\n\n                    <div className=\"space-y-2\">\n                      <label htmlFor=\"hours\" className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                        Horas <span className=\"text-destructive\">*</span>\n                      </label>\n                      <Input\n                        id=\"hours\"\n                        name=\"hours\"\n                        type=\"number\"\n                        value={formData.hours}\n                        onChange={handleChange}\n                        min=\"0.5\"\n                        step=\"0.5\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <label htmlFor=\"note\" className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                      Nota (Opcional)\n                    </label>\n                    <Input id=\"note\" name=\"note\" type=\"text\" value={formData.note} onChange={handleChange} />\n                  </div>\n\n                  <div className=\"flex justify-end flex-col items-end gap-2 pt-4\">\n                    {editingActivityId && (\n                      <Button type=\"button\" variant=\"outline\" onClick={resetForm}>\n                        <XCircle className=\"mr-2 h-4 w-4\" />\n                        Cancelar Edición\n                      </Button>\n                    )}\n\n                    <Button type=\"submit\" disabled={!isFormValid || loading.submit} className=\"min-w-[150px]\">\n                      {loading.submit ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Save className=\"mr-2 h-4 w-4\" />}\n                      {editingActivityId ? 'Actualizar' : 'Guardar'}\n                    </Button>\n                  </div>\n                </form>\n              </CardContent>\n            </Card>\n          </main>\n\n          <aside className=\"lg:col-span-2\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-center\">Actividades del Día</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {loading.dailyActivities ? (\n                    <ActivityListSkeleton />\n                  ) : dailyActivities.length > 0 ? (\n                    dailyActivities.map((activity) => (\n                      <ActivityItem key={activity.id} activity={activity} onEdit={handleEditActivity} onDelete={handleDelete} />\n                    ))\n                  ) : (\n                    <EmptyState />\n                  )}\n                </div>\n                <div className=\"mt-6\">\n                  <TotalHoursProgress totalHours={totalHoursToday} selectedDate={selectedDate} />\n                </div>\n              </CardContent>\n            </Card>\n          </aside>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FormularioHoras;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AACxE,SAASC,MAAM,EAAEC,QAAQ,QAAQ,UAAU;AAC3C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,OAAOC,MAAM,MAAM,UAAU;AAE7B,SAASC,KAAK,QAAQ,QAAQ;AAC9B,SACEC,QAAQ,IAAIC,YAAY,EACxBC,SAAS,EACTC,IAAI,EACJC,MAAM,EACNC,UAAU,EACVC,aAAa,EACbC,OAAO,EACPC,UAAU,EACVC,OAAO,QACF,cAAc;AAErB,SAASC,IAAI,EAAEC,WAAW,EAAEC,UAAU,EAAEC,SAAS,QAAQ,WAAW;AACpE,SAASC,MAAM,QAAQ,aAAa;AACpC,SAASC,KAAK,QAAQ,YAAY;AAClC,SAASf,QAAQ,QAAQ,eAAe;AACxC,SAASgB,OAAO,EAAEC,cAAc,EAAEC,cAAc,QAAQ,cAAc;AACtE,SAASC,EAAE,QAAQ,cAAc;AAEjC,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,YAAY,QAAQ,2BAA2B;AACxD,SAASC,oBAAoB,QAAQ,mCAAmC;AACxE,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,kBAAkB,QAAQ,iCAAiC;AAEpE,SACEC,WAAW,EACXC,WAAW,EACXC,gBAAgB,EAChBC,qBAAqB,EACrBC,yBAAyB,EACzBC,kBAAkB,EAClBC,UAAU,QACL,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AA2BzB,MAAMC,eAAe,GAAIC,UAAkB,KAAM;EAC/CC,WAAW,EAAEC,MAAM,CAACF,UAAU,CAAC;EAC/BG,YAAY,EAAE,EAAE;EAChBC,KAAK,EAAE,EAAE;EACTC,UAAU,EAAE,EAAE;EACdC,QAAQ,EAAE,EAAE;EACZC,KAAK,EAAE,EAAE;EACTC,IAAI,EAAE;AACR,CAAC,CAAC;AAEF,MAAMC,eAA+C,GAAGA,CAAC;EACvDC,SAAS;EACTV,UAAU;EACVW,YAAY;EACZC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG3D,QAAQ,CAAC2C,eAAe,CAACC,UAAU,CAAC,CAAC;EACrE,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAG7D,QAAQ,CAAC,IAAI8D,IAAI,CAAC,CAAC,CAAC;EAC5D,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGhE,QAAQ,CAAa,EAAE,CAAC;EACtE,MAAM,CAACiE,QAAQ,EAAEC,WAAW,CAAC,GAAGlE,QAAQ,CAAY,EAAE,CAAC;EACvD,MAAM,CAACmE,MAAM,EAAEC,SAAS,CAAC,GAAGpE,QAAQ,CAAW,EAAE,CAAC;EAClD,MAAM,CAACqE,WAAW,EAAEC,cAAc,CAAC,GAAGtE,QAAQ,CAAW,EAAE,CAAC;EAC5D,MAAM,CAACuE,UAAU,EAAEC,aAAa,CAAC,GAAGxE,QAAQ,CAAW,EAAE,CAAC;EAC1D,MAAM,CAACyE,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG1E,QAAQ,CAAgB,IAAI,CAAC;EAE/E,MAAM,CAAC2E,OAAO,EAAEC,UAAU,CAAC,GAAG5E,QAAQ,CAAC;IACrC6E,MAAM,EAAE,KAAK;IACbZ,QAAQ,EAAE,IAAI;IACdE,MAAM,EAAE,KAAK;IACbE,WAAW,EAAE,KAAK;IAClBE,UAAU,EAAE,KAAK;IACjBR,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,MAAMe,eAAe,GAAG3E,OAAO,CAC7B,MAAM4D,eAAe,CAACgB,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAKD,GAAG,GAAGC,CAAC,CAAC9B,KAAK,EAAE,CAAC,CAAC,EAC1D,CAACY,eAAe,CAClB,CAAC;EAED,MAAMmB,mBAAmB,GAAG/E,OAAO,CACjC;IAAA,IAAAgF,cAAA;IAAA,OAAM,EAAAA,cAAA,GAAAlB,QAAQ,CAACmB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAK5B,QAAQ,CAACX,YAAY,CAAC,cAAAoC,cAAA,uBAAtDA,cAAA,CAAwDI,IAAI,KAAI,EAAE;EAAA,GACxE,CAAC7B,QAAQ,CAACX,YAAY,EAAEkB,QAAQ,CAClC,CAAC;EAED,MAAMuB,WAAW,GAAGrF,OAAO,CAAC,MAAM;IAAA,IAAAsF,eAAA;IAChC,MAAMC,GAAG,GAAG5C,MAAM,EAAA2C,eAAA,GAAC/B,QAAQ,CAACP,KAAK,cAAAsC,eAAA,cAAAA,eAAA,GAAI,EAAE,CAAC,CAACE,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC;IACjE,MAAMC,CAAC,GAAGC,MAAM,CAACJ,GAAG,CAAC;IACrB,OAAOI,MAAM,CAACC,QAAQ,CAACF,CAAC,CAAC,GAAGA,CAAC,GAAG,CAAC;IACjC;EACF,CAAC,EAAE,CAACnC,QAAQ,CAACP,KAAK,CAAC,CAAC;EAEpB,MAAM6C,WAAW,GAAG7F,OAAO,CAAC,MAAM;IAChC,MAAM8F,QAAQ,GAAG,CACfvC,QAAQ,CAACX,YAAY,EACrBW,QAAQ,CAACV,KAAK,EACdU,QAAQ,CAACT,UAAU,EACnBS,QAAQ,CAACR,QAAQ,CAClB;IACD,MAAMgD,SAAS,GAAGD,QAAQ,CAACE,KAAK,CAAEC,CAAC,IACjC,OAAOA,CAAC,KAAK,QAAQ,GAAGA,CAAC,CAACR,IAAI,CAAC,CAAC,CAACS,MAAM,GAAG,CAAC,GAAGC,OAAO,CAACF,CAAC,CACzD,CAAC;IACD,OAAOF,SAAS,IAAIV,WAAW,GAAG,CAAC;EACrC,CAAC,EAAE,CAAC9B,QAAQ,CAACX,YAAY,EAAEW,QAAQ,CAACV,KAAK,EAAEU,QAAQ,CAACT,UAAU,EAAES,QAAQ,CAACR,QAAQ,EAAEsC,WAAW,CAAC,CAAC;EAEhG,MAAMe,sBAAsB,GAAGrG,WAAW,CAAC,OAAOsG,IAAU,EAAEC,EAAU,KAAK;IAC3E7B,UAAU,CAAE8B,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE3C,eAAe,EAAE;IAAK,CAAC,CAAC,CAAC;IAC1D,IAAI;MACF,MAAM4C,UAAU,GAAGvG,MAAM,CAACoG,IAAI,EAAE,YAAY,CAAC;MAC7C,MAAMI,IAAI,GAAG,MAAMrE,kBAAkB,CAACoE,UAAU,EAAEb,MAAM,CAACW,EAAE,CAAC,CAAC;MAC7DzC,kBAAkB,CAAC4C,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdrG,KAAK,CAACqG,KAAK,CAAC,0CAA0C,CAAC;MACvDC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,SAAS;MACRjC,UAAU,CAAE8B,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAE3C,eAAe,EAAE;MAAM,CAAC,CAAC,CAAC;IAC7D;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMgD,aAAa,GAAG7G,WAAW,CAAC,YAAY;IAC5C0E,UAAU,CAAE8B,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAEzC,QAAQ,EAAE;IAAK,CAAC,CAAC,CAAC;IACnD,IAAI;MACF,MAAM+C,WAAW,GAAG,MAAM7E,WAAW,CAAC,CAAC;MACvC+B,WAAW,CAAC8C,WAAW,CAAC;IAC1B,CAAC,CAAC,OAAOH,KAAK,EAAE;MACdrG,KAAK,CAACqG,KAAK,CAAC,4BAA4B,CAAC;MACzCC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,SAAS;MACRjC,UAAU,CAAE8B,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAEzC,QAAQ,EAAE;MAAM,CAAC,CAAC,CAAC;IACtD;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMgD,WAAW,GAAG/G,WAAW,CAAC,MAAOgH,WAAmB,IAAK;IAC7DtC,UAAU,CAAE8B,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAEvC,MAAM,EAAE;IAAK,CAAC,CAAC,CAAC;IACjD,IAAI;MACF,MAAMgD,SAAS,GAAG,MAAM/E,gBAAgB,CAAC8E,WAAW,CAAC;MACrD9C,SAAS,CAAC+C,SAAS,CAACC,GAAG,CAACtE,MAAM,CAAC,CAAC;IAClC,CAAC,CAAC,OAAO+D,KAAK,EAAE;MACdrG,KAAK,CAACqG,KAAK,CAAC,0CAA0C,CAAC;MACvDC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,SAAS;MACRjC,UAAU,CAAE8B,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAEvC,MAAM,EAAE;MAAM,CAAC,CAAC,CAAC;IACpD;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMkD,gBAAgB,GAAGnH,WAAW,CAAC,OAAOgH,WAAmB,EAAEI,KAAa,KAAK;IACjF1C,UAAU,CAAE8B,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAErC,WAAW,EAAE;IAAK,CAAC,CAAC,CAAC;IACtD,IAAI;MACF,MAAMkD,cAAc,GAAG,MAAMlF,qBAAqB,CAAC6E,WAAW,EAAEI,KAAK,CAAC;MACtEhD,cAAc,CAACiD,cAAc,CAACH,GAAG,CAACtE,MAAM,CAAC,CAAC;IAC5C,CAAC,CAAC,OAAO+D,KAAK,EAAE;MACdrG,KAAK,CAACqG,KAAK,CAAC,kCAAkC,CAAC;MAC/CC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,SAAS;MACRjC,UAAU,CAAE8B,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAErC,WAAW,EAAE;MAAM,CAAC,CAAC,CAAC;IACzD;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMmD,eAAe,GAAGtH,WAAW,CACjC,OAAOgH,WAAmB,EAAEI,KAAa,EAAErE,UAAkB,KAAK;IAChE2B,UAAU,CAAE8B,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAEnC,UAAU,EAAE;IAAK,CAAC,CAAC,CAAC;IACrD,IAAI;MACF,MAAMkD,YAAY,GAAG,MAAMnF,yBAAyB,CAAC4E,WAAW,EAAEI,KAAK,EAAErE,UAAU,CAAC;MACpFuB,aAAa,CAACiD,YAAY,CAACL,GAAG,CAACtE,MAAM,CAAC,CAAC;IACzC,CAAC,CAAC,OAAO+D,KAAK,EAAE;MACdrG,KAAK,CAACqG,KAAK,CAAC,kCAAkC,CAAC;MAC/CC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,SAAS;MACRjC,UAAU,CAAE8B,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAEnC,UAAU,EAAE;MAAM,CAAC,CAAC,CAAC;IACxD;EACF,CAAC,EACD,EACF,CAAC;EAEDtE,SAAS,CAAC,MAAM;IACd8G,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB9G,SAAS,CAAC,MAAM;IACdsG,sBAAsB,CAAC3C,YAAY,EAAEd,MAAM,CAACF,UAAU,CAAC,CAAC;EAC1D,CAAC,EAAE,CAACgB,YAAY,EAAEhB,UAAU,EAAE2D,sBAAsB,CAAC,CAAC;EAEtD,MAAMmB,gBAAgB,GAAIlB,IAAsB,IAAK;IACnD,IAAIA,IAAI,EAAE;MACR3C,eAAe,CAAC2C,IAAI,CAAC;MACrBD,sBAAsB,CAACC,IAAI,EAAE1D,MAAM,CAACF,UAAU,CAAC,CAAC;IAClD;EACF,CAAC;EAED,MAAM+E,YAAY,GAAIC,CAAsC,IAAK;IAC/D,MAAM;MAAErC,IAAI;MAAEsC;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAChC,MAAM1B,CAAC,GAAGb,IAAI,KAAK,OAAO,GAAGsC,KAAK,CAAClC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,GAAGkC,KAAK;IAC5DlE,WAAW,CAAE+C,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE,CAACnB,IAAI,GAAGa;IAAE,CAAC,CAAC,CAAC;EACjD,CAAC;EAED,MAAM2B,kBAAkB,GAAGA,CAACxC,IAAY,EAAEsC,KAAa,KAAK;IAC1D,MAAMG,WAAW,GAAG;MAAE,GAAGtE,QAAQ;MAAE,CAAC6B,IAAI,GAAGsC;IAAM,CAAC;IAElD,IAAItC,IAAI,KAAK,cAAc,EAAE;MAC3ByC,WAAW,CAAChF,KAAK,GAAG,EAAE;MACtBgF,WAAW,CAAC/E,UAAU,GAAG,EAAE;MAC3B+E,WAAW,CAAC9E,QAAQ,GAAG,EAAE;MACzBkB,SAAS,CAAC,EAAE,CAAC;MACbE,cAAc,CAAC,EAAE,CAAC;MAClBE,aAAa,CAAC,EAAE,CAAC;MACjB,IAAIqD,KAAK,EAAEZ,WAAW,CAACY,KAAK,CAAC;IAC/B,CAAC,MAAM,IAAItC,IAAI,KAAK,OAAO,EAAE;MAC3ByC,WAAW,CAAC/E,UAAU,GAAG,EAAE;MAC3B+E,WAAW,CAAC9E,QAAQ,GAAG,EAAE;MACzBoB,cAAc,CAAC,EAAE,CAAC;MAClBE,aAAa,CAAC,EAAE,CAAC;MACjB,IAAIqD,KAAK,EAAER,gBAAgB,CAACW,WAAW,CAACjF,YAAY,EAAE8E,KAAK,CAAC;IAC9D,CAAC,MAAM,IAAItC,IAAI,KAAK,YAAY,EAAE;MAChCyC,WAAW,CAAC9E,QAAQ,GAAG,EAAE;MACzBsB,aAAa,CAAC,EAAE,CAAC;MACjB,IAAIqD,KAAK,EAAEL,eAAe,CAACQ,WAAW,CAACjF,YAAY,EAAEiF,WAAW,CAAChF,KAAK,EAAE6E,KAAK,CAAC;IAChF;IAEAlE,WAAW,CAACqE,WAAW,CAAC;EAC1B,CAAC;EAED,MAAMC,SAAS,GAAG/H,WAAW,CAAC,MAAM;IAClCyD,WAAW,CAAChB,eAAe,CAACC,UAAU,CAAC,CAAC;IACxC8B,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC,EAAE,CAAC9B,UAAU,CAAC,CAAC;EAEhB,MAAMsF,kBAAkB,GAAGhI,WAAW,CACpC,MAAOgD,QAAkB,IAAK;IAAA,IAAAiF,qBAAA,EAAAC,eAAA,EAAAC,oBAAA,EAAAC,kBAAA,EAAAC,eAAA;IAC5B7D,oBAAoB,CAACxB,QAAQ,CAACuD,EAAE,CAAC;IAEjC,IAAIvD,QAAQ,CAACsD,IAAI,EAAE;MACjB,IAAI;QACF3C,eAAe,CAACxD,QAAQ,CAAC6C,QAAQ,CAACsD,IAAI,CAAC,CAAC;MAC1C,CAAC,CAAC,MAAM,CAAC;IACX;IAEA7C,WAAW,CAAC;MACVd,WAAW,EAAEC,MAAM,CAACI,QAAQ,CAACL,WAAW,CAAC;MACzCE,YAAY,GAAAoF,qBAAA,GAAEjF,QAAQ,CAACH,YAAY,cAAAoF,qBAAA,cAAAA,qBAAA,GAAI,EAAE;MACzCnF,KAAK,GAAAoF,eAAA,GAAElF,QAAQ,CAACF,KAAK,cAAAoF,eAAA,cAAAA,eAAA,GAAI,EAAE;MAC3BnF,UAAU,GAAAoF,oBAAA,GAAEnF,QAAQ,CAACD,UAAU,cAAAoF,oBAAA,cAAAA,oBAAA,GAAI,EAAE;MACrCnF,QAAQ,GAAAoF,kBAAA,GAAEpF,QAAQ,CAACA,QAAQ,cAAAoF,kBAAA,cAAAA,kBAAA,GAAI,EAAE;MACjCnF,KAAK,EAAEL,MAAM,EAAAyF,eAAA,GAACrF,QAAQ,CAACC,KAAK,cAAAoF,eAAA,cAAAA,eAAA,GAAI,EAAE,CAAC;MACnCnF,IAAI,EAAEF,QAAQ,CAACE,IAAI,IAAI;IACzB,CAAC,CAAC;IAEF,MAAM6D,WAAW,CAAC/D,QAAQ,CAACH,YAAY,CAAC;IACxC,MAAMsE,gBAAgB,CAACnE,QAAQ,CAACH,YAAY,EAAEG,QAAQ,CAACF,KAAK,CAAC;IAC7D,MAAMwE,eAAe,CAACtE,QAAQ,CAACH,YAAY,EAAEG,QAAQ,CAACF,KAAK,EAAEE,QAAQ,CAACD,UAAU,CAAC;IAEjFuF,MAAM,CAACC,QAAQ,CAAC;MAAEC,GAAG,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EACjD,CAAC,EACD,CAAC1B,WAAW,EAAEI,gBAAgB,EAAEG,eAAe,CACjD,CAAC;EAED,MAAMoB,YAAY,GAAG,MAAOC,UAAkB,IAAK;IACjDrI,KAAK,CAACsI,OAAO,CAAC,uDAAuD,EAAE;MACrEC,QAAQ,EAAE,IAAI;MACdC,MAAM,EAAE;QACNC,KAAK,EAAE,UAAU;QACjBC,OAAO,EAAE,MAAAA,CAAA,KAAY;UACnB,IAAI;YACF,MAAM1G,UAAU,CAACqG,UAAU,CAAC;YAC5BrI,KAAK,CAACqG,KAAK,CAAC,oCAAoC,EAAE;cAAEkC,QAAQ,EAAE;YAAK,CAAC,CAAC;YACrExC,sBAAsB,CAAC3C,YAAY,EAAEd,MAAM,CAACF,UAAU,CAAC,CAAC;YACxD,IAAI6B,iBAAiB,KAAKoE,UAAU,EAAE;cACpCZ,SAAS,CAAC,CAAC;YACb;UACF,CAAC,CAAC,OAAOpB,KAAK,EAAE;YACdrG,KAAK,CAACqG,KAAK,CAAC,iCAAiC,EAAE;cAAEkC,QAAQ,EAAE;YAAK,CAAC,CAAC;YAClEjC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;UACtB;QACF;MACF,CAAC;MACDsC,MAAM,EAAE;QAAEF,KAAK,EAAE,UAAU;QAAEC,OAAO,EAAEA,CAAA,KAAM1I,KAAK,CAAC4I,OAAO,CAAC;MAAE;IAC9D,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOzB,CAAkB,IAAK;IACjDA,CAAC,CAAC0B,cAAc,CAAC,CAAC;IAClB1E,UAAU,CAAE8B,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE7B,MAAM,EAAE;IAAK,CAAC,CAAC,CAAC;IAEjD,MAAM0E,cAAc,GAAG;MACrB,GAAG7F,QAAQ;MACX8C,IAAI,EAAEpG,MAAM,CAACwD,YAAY,EAAE,YAAY,CAAC;MACxC4F,YAAY,EAAEtE,mBAAmB;MACjC/B,KAAK,EAAEqC,WAAW;MAClB3C,WAAW,EAAED,UAAU;MACvB6D,EAAE,EAAEhC,iBAAiB,aAAjBA,iBAAiB,cAAjBA,iBAAiB,GAAIgF;IAC3B,CAAC;IAED,IAAI;MACF,MAAMvH,WAAW,CAACqH,cAAc,CAAC;MACjC/I,KAAK,CAACkJ,OAAO,CACX,aAAajF,iBAAiB,GAAG,aAAa,GAAG,UAAU,aAAa,EACxE;QAAEsE,QAAQ,EAAE,IAAI;QAAEY,KAAK,EAAE;UAAEC,eAAe,EAAE,SAAS;UAAEC,KAAK,EAAE,OAAO;UAAEC,MAAM,EAAE;QAAO;MAAE,CAC1F,CAAC;MACDxG,SAAS,CAAC,CAAC;MACX2E,SAAS,CAAC,CAAC;MACX1B,sBAAsB,CAAC3C,YAAY,EAAEd,MAAM,CAACF,UAAU,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAOiE,KAAK,EAAE;MACdrG,KAAK,CAACqG,KAAK,CAAC,gCAAgC,EAAE;QAAEkC,QAAQ,EAAE;MAAK,CAAC,CAAC;MACjEjC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,SAAS;MACRjC,UAAU,CAAE8B,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAE7B,MAAM,EAAE;MAAM,CAAC,CAAC,CAAC;IACpD;EACF,CAAC;EAED,oBACEnC,OAAA;IAAAqH,QAAA,gBACErH,OAAA,CAACnC,MAAM;MAACyJ,QAAQ,EAAEzG,YAAa;MAACC,QAAQ,EAAEA;IAAS;MAAAyG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACtD1H,OAAA;MAAK2H,SAAS,EAAC,qCAAqC;MAAAN,QAAA,eAClDrH,OAAA;QAAK2H,SAAS,EAAC,uCAAuC;QAAAN,QAAA,gBACpDrH,OAAA;UAAM2H,SAAS,EAAC,eAAe;UAAAN,QAAA,eAC7BrH,OAAA,CAACvB,IAAI;YAACkJ,SAAS,EAAC,eAAe;YAAAN,QAAA,gBAC7BrH,OAAA,CAACrB,UAAU;cAAA0I,QAAA,eACTrH,OAAA,CAACpB,SAAS;gBAAC+I,SAAS,EAAC,kCAAkC;gBAAAN,QAAA,GACpDtF,iBAAiB,gBAChB/B,OAAA,CAAC7B,MAAM;kBAACwJ,SAAS,EAAC;gBAAc;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAEnC1H,OAAA,CAACzB,UAAU;kBAACoJ,SAAS,EAAC;gBAAc;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CACvC,EACA3F,iBAAiB,GAAG,kBAAkB,GAAG,qBAAqB;cAAA;gBAAAwF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtD;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC,eACb1H,OAAA,CAACtB,WAAW;cAAA2I,QAAA,eACVrH,OAAA;gBAAM4H,QAAQ,EAAEjB,YAAa;gBAACgB,SAAS,EAAC,WAAW;gBAAAN,QAAA,gBACjDrH,OAAA;kBAAK2H,SAAS,EAAC,iBAAiB;kBAAAN,QAAA,gBAC9BrH,OAAA;oBAAO6H,OAAO,EAAC,MAAM;oBAACF,SAAS,EAAC,mDAAmD;oBAAAN,QAAA,EAAC;kBAEpF;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAER1H,OAAA,CAACjB,OAAO;oBAAAsI,QAAA,gBACNrH,OAAA,CAACf,cAAc;sBAAC6I,OAAO;sBAAAT,QAAA,eACrBrH,OAAA,CAACnB,MAAM;wBACLkJ,OAAO,EAAC,SAAS;wBACjBJ,SAAS,EAAEzI,EAAE,CAAC,4CAA4C,EAAE,CAACgC,YAAY,IAAI,uBAAuB,CAAE;wBAAAmG,QAAA,gBAEtGrH,OAAA,CAAChC,YAAY;0BAAC2J,SAAS,EAAC;wBAAc;0BAAAJ,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE,CAAC,EACxCxG,YAAY,gBAAGlB,OAAA;0BAAAqH,QAAA,EAAO3J,MAAM,CAACwD,YAAY,EAAE,KAAK,EAAE;4BAAE8G,MAAM,EAAEpK;0BAAG,CAAC;wBAAC;0BAAA2J,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CAAC,gBAAG1H,OAAA;0BAAAqH,QAAA,EAAM;wBAAoB;0BAAAE,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAM,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACxG;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACK,CAAC,eAEjB1H,OAAA,CAAChB,cAAc;sBAAC2I,SAAS,EAAC,YAAY;sBAAAN,QAAA,eACpCrH,OAAA,CAACjC,QAAQ;wBAACkK,IAAI,EAAC,QAAQ;wBAACC,QAAQ,EAAEhH,YAAa;wBAACiH,QAAQ,EAAEnD,gBAAiB;wBAACoD,YAAY;wBAACJ,MAAM,EAAEpK;sBAAG;wBAAA2J,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACzF,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACV,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACP,CAAC,eAEN1H,OAAA;kBAAK2H,SAAS,EAAC,uCAAuC;kBAAAN,QAAA,gBACpDrH,OAAA,CAACb,UAAU;oBACToH,KAAK,EAAC,uBAAoB;oBAC1B1D,IAAI,EAAC,cAAc;oBACnBsC,KAAK,EAAEnE,QAAQ,CAACX,YAAa;oBAC7BgI,aAAa,EAAEhD,kBAAmB;oBAClCiD,OAAO,EAAE/G,QAAQ,CACdgH,MAAM,CAAE5F,CAAC,IAAKA,CAAC,CAACC,IAAI,IAAID,CAAC,CAACC,IAAI,CAACM,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC,CAC7CwB,GAAG,CAAE/B,CAAC,KAAM;sBACXwC,KAAK,EAAExC,CAAC,CAACC,IAAI;sBACb2D,KAAK,EAAE5D,CAAC,CAACC,IAAI;sBAAE;sBACf4F,aAAa,EAAE,GAAG7F,CAAC,CAACC,IAAI,MAAMD,CAAC,CAACE,IAAI,EAAE,CAAE;oBAC1C,CAAC,CAAC,CAAE;oBACN4F,WAAW,EAAC,wBAAwB;oBACpCxG,OAAO,EAAEA,OAAO,CAACV,QAAS;oBAC1BmH,QAAQ,EAAEzG,OAAO,CAACV,QAAS;oBAC3BoH,IAAI,eAAE3I,OAAA,CAAC/B,SAAS;sBAAC0J,SAAS,EAAC;oBAAS;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAE;oBACxCnE,QAAQ;kBAAA;oBAAAgE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT,CAAC,eAEF1H,OAAA;oBAAK2H,SAAS,EAAC,WAAW;oBAAAN,QAAA,gBACxBrH,OAAA;sBAAO2H,SAAS,EAAC,mDAAmD;sBAAAN,QAAA,EAAC;oBAErE;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eACR1H,OAAA,CAAClB,KAAK;sBAACqG,KAAK,EAAE3C,mBAAoB;sBAACoG,QAAQ;sBAACjB,SAAS,EAAC;oBAAa;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnE,CAAC,eAEN1H,OAAA,CAACb,UAAU;oBACToH,KAAK,EAAC,OAAO;oBACb1D,IAAI,EAAC,OAAO;oBACZsC,KAAK,EAAEnE,QAAQ,CAACV,KAAM;oBACtB+H,aAAa,EAAEhD,kBAAmB;oBAClCiD,OAAO,EAAE7G,MAAM,CACZ8G,MAAM,CAAEM,CAAC,IAAKA,CAAC,IAAIA,CAAC,CAAC3F,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC,CACnCwB,GAAG,CAAEmE,CAAC,KAAM;sBAAE1D,KAAK,EAAE0D,CAAC;sBAAEtC,KAAK,EAAEsC;oBAAE,CAAC,CAAC,CAAE;oBACxCJ,WAAW,EAAC,sBAAsB;oBAClCxG,OAAO,EAAEA,OAAO,CAACR,MAAO;oBACxBiH,QAAQ,EAAE,CAAC1H,QAAQ,CAACX,YAAY,IAAI4B,OAAO,CAACR,MAAO;oBACnDkH,IAAI,eAAE3I,OAAA,CAAC5B,UAAU;sBAACuJ,SAAS,EAAC;oBAAS;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAE;oBACzCnE,QAAQ;kBAAA;oBAAAgE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT,CAAC,eAEF1H,OAAA,CAACb,UAAU;oBACToH,KAAK,EAAC,YAAY;oBAClB1D,IAAI,EAAC,YAAY;oBACjBsC,KAAK,EAAEnE,QAAQ,CAACT,UAAW;oBAC3B8H,aAAa,EAAEhD,kBAAmB;oBAClCiD,OAAO,EAAE3G,WAAW,CACjB4G,MAAM,CAAEO,CAAC,IAAKA,CAAC,IAAIA,CAAC,CAAC5F,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC,CACnCwB,GAAG,CAAEoE,CAAC,KAAM;sBAAE3D,KAAK,EAAE2D,CAAC;sBAAEvC,KAAK,EAAEuC;oBAAE,CAAC,CAAC,CAAE;oBACxCL,WAAW,EAAC,2BAA2B;oBACvCxG,OAAO,EAAEA,OAAO,CAACN,WAAY;oBAC7B+G,QAAQ,EAAE,CAAC1H,QAAQ,CAACV,KAAK,IAAI2B,OAAO,CAACN,WAAY;oBACjDgH,IAAI,eAAE3I,OAAA,CAAC7B,MAAM;sBAACwJ,SAAS,EAAC;oBAAS;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAE;oBACrCnE,QAAQ;kBAAA;oBAAAgE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT,CAAC,eAEF1H,OAAA,CAACb,UAAU;oBACToH,KAAK,EAAC,WAAW;oBACjB1D,IAAI,EAAC,UAAU;oBACfsC,KAAK,EAAEnE,QAAQ,CAACR,QAAS;oBACzB6H,aAAa,EAAEhD,kBAAmB;oBAClCiD,OAAO,EAAEzG,UAAU,CAChB0G,MAAM,CAAEhG,CAAC,IAAKA,CAAC,IAAIA,CAAC,CAACW,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC,CACnCwB,GAAG,CAAEnC,CAAC,KAAM;sBAAE4C,KAAK,EAAE5C,CAAC;sBAAEgE,KAAK,EAAEhE;oBAAE,CAAC,CAAC,CAAE;oBACxCkG,WAAW,EAAC,0BAA0B;oBACtCxG,OAAO,EAAEA,OAAO,CAACJ,UAAW;oBAC5B6G,QAAQ,EAAE,CAAC1H,QAAQ,CAACT,UAAU,IAAI0B,OAAO,CAACJ,UAAW;oBACrD8G,IAAI,eAAE3I,OAAA,CAAC3B,aAAa;sBAACsJ,SAAS,EAAC;oBAAS;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAE;oBAC5CnE,QAAQ;kBAAA;oBAAAgE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT,CAAC,eAEF1H,OAAA;oBAAK2H,SAAS,EAAC,WAAW;oBAAAN,QAAA,gBACxBrH,OAAA;sBAAO6H,OAAO,EAAC,OAAO;sBAACF,SAAS,EAAC,mDAAmD;sBAAAN,QAAA,GAAC,QAC7E,eAAArH,OAAA;wBAAM2H,SAAS,EAAC,kBAAkB;wBAAAN,QAAA,EAAC;sBAAC;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC5C,CAAC,eACR1H,OAAA,CAAClB,KAAK;sBACJiF,EAAE,EAAC,OAAO;sBACVlB,IAAI,EAAC,OAAO;sBACZkG,IAAI,EAAC,QAAQ;sBACb5D,KAAK,EAAEnE,QAAQ,CAACP,KAAM;sBACtBuI,QAAQ,EAAE/D,YAAa;sBACvBgE,GAAG,EAAC,KAAK;sBACTC,IAAI,EAAC,KAAK;sBACV3F,QAAQ;oBAAA;sBAAAgE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACT,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eAEN1H,OAAA;kBAAK2H,SAAS,EAAC,WAAW;kBAAAN,QAAA,gBACxBrH,OAAA;oBAAO6H,OAAO,EAAC,MAAM;oBAACF,SAAS,EAAC,mDAAmD;oBAAAN,QAAA,EAAC;kBAEpF;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACR1H,OAAA,CAAClB,KAAK;oBAACiF,EAAE,EAAC,MAAM;oBAAClB,IAAI,EAAC,MAAM;oBAACkG,IAAI,EAAC,MAAM;oBAAC5D,KAAK,EAAEnE,QAAQ,CAACN,IAAK;oBAACsI,QAAQ,EAAE/D;kBAAa;oBAAAsC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtF,CAAC,eAEN1H,OAAA;kBAAK2H,SAAS,EAAC,gDAAgD;kBAAAN,QAAA,GAC5DtF,iBAAiB,iBAChB/B,OAAA,CAACnB,MAAM;oBAACkK,IAAI,EAAC,QAAQ;oBAAChB,OAAO,EAAC,SAAS;oBAACvB,OAAO,EAAEjB,SAAU;oBAAA8B,QAAA,gBACzDrH,OAAA,CAAC1B,OAAO;sBAACqJ,SAAS,EAAC;oBAAc;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,uBAEtC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CACT,eAED1H,OAAA,CAACnB,MAAM;oBAACkK,IAAI,EAAC,QAAQ;oBAACL,QAAQ,EAAE,CAACpF,WAAW,IAAIrB,OAAO,CAACE,MAAO;oBAACwF,SAAS,EAAC,eAAe;oBAAAN,QAAA,GACtFpF,OAAO,CAACE,MAAM,gBAAGnC,OAAA,CAACxB,OAAO;sBAACmJ,SAAS,EAAC;oBAA2B;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,gBAAG1H,OAAA,CAAC9B,IAAI;sBAACyJ,SAAS,EAAC;oBAAc;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,EACtG3F,iBAAiB,GAAG,YAAY,GAAG,SAAS;kBAAA;oBAAAwF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACvC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEP1H,OAAA;UAAO2H,SAAS,EAAC,eAAe;UAAAN,QAAA,eAC9BrH,OAAA,CAACvB,IAAI;YAAA4I,QAAA,gBACHrH,OAAA,CAACrB,UAAU;cAAA0I,QAAA,eACTrH,OAAA,CAACpB,SAAS;gBAAC+I,SAAS,EAAC,aAAa;gBAAAN,QAAA,EAAC;cAAmB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAW;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxD,CAAC,eACb1H,OAAA,CAACtB,WAAW;cAAA2I,QAAA,gBACVrH,OAAA;gBAAK2H,SAAS,EAAC,WAAW;gBAAAN,QAAA,EACvBpF,OAAO,CAACZ,eAAe,gBACtBrB,OAAA,CAACX,oBAAoB;kBAAAkI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,GACtBrG,eAAe,CAACsC,MAAM,GAAG,CAAC,GAC5BtC,eAAe,CAACqD,GAAG,CAAElE,QAAQ,iBAC3BR,OAAA,CAACZ,YAAY;kBAAmBoB,QAAQ,EAAEA,QAAS;kBAAC2I,MAAM,EAAE3D,kBAAmB;kBAAC4D,QAAQ,EAAElD;gBAAa,GAApF1F,QAAQ,CAACuD,EAAE;kBAAAwD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA2E,CAC1G,CAAC,gBAEF1H,OAAA,CAACV,UAAU;kBAAAiI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cACd;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eACN1H,OAAA;gBAAK2H,SAAS,EAAC,MAAM;gBAAAN,QAAA,eACnBrH,OAAA,CAACT,kBAAkB;kBAAC8J,UAAU,EAAEjH,eAAgB;kBAAClB,YAAY,EAAEA;gBAAa;kBAAAqG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5E,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC3G,EAAA,CAvbIJ,eAA+C;AAAA2I,EAAA,GAA/C3I,eAA+C;AAybrD,eAAeA,eAAe;AAAC,IAAA2I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}