{"ast":null,"code":"import _objectSpread from\"C:/Users/YeisonDuqueDiaz/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useMemo}from'react';import{format,parseISO}from'date-fns';import{es}from'date-fns/locale';import Header from'./Header';import{toast}from'sonner';import{Calendar as CalendarIcon,Briefcase,Save,Pencil,ListChecks,ClipboardList,XCircle,PlusCircle,Loader2}from'lucide-react';import{Card,CardContent,CardHeader,CardTitle}from'./ui/card';import{Button}from'./ui/button';import{Input}from'./ui/input';import{Calendar}from'./ui/calendar';import{Popover,PopoverContent,PopoverTrigger}from'./ui/popover';import{cn}from'../lib/utils';import{FormSelect}from'./formulario/FormSelect';import{ActivityItem}from'./formulario/ActivityItem';import{ActivityListSkeleton}from'./formulario/ActivityListSkeleton';import{EmptyState}from'./formulario/EmptyState';import{TotalHoursProgress}from'./formulario/TotalHoursProgress';import{submitHours,getProjects,getProjectStages,getDisciplinesByStage,getActivitiesByDiscipline,getDailyActivities,deleteHour,updateHour}from'../api/horasApi';// Props e interfaces\n// Importar la interfaz DailyActivity desde horasApi\n// Usar la interfaz DailyActivity en lugar de definir Activity\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initialFormData=employeeId=>({employee_id:String(employeeId),project_code:'',phase:'',discipline:'',activity:'',hours:'',note:''});const FormularioHoras=_ref=>{let{onSuccess,employeeId,employeeName,onLogout}=_ref;// State\nconst[formData,setFormData]=useState(initialFormData(employeeId));const[selectedDate,setSelectedDate]=useState(new Date());const[dailyActivities,setDailyActivities]=useState([]);const[projects,setProjects]=useState([]);const[stages,setStages]=useState([]);const[disciplines,setDisciplines]=useState([]);const[activities,setActivities]=useState([]);const[editingActivityId,setEditingActivityId]=useState(null);// Loading\nconst[loading,setLoading]=useState({submit:false,projects:true,stages:false,disciplines:false,activities:false,dailyActivities:true,delete:null// ID de la actividad que se está eliminando o null\n});// Derivados\nconst totalHoursToday=useMemo(()=>dailyActivities.reduce((sum,a)=>sum+a.hours,0),[dailyActivities]);const selectedProjectName=useMemo(()=>{var _projects$find;return((_projects$find=projects.find(p=>p.code===formData.project_code))===null||_projects$find===void 0?void 0:_projects$find.name)||'';},[formData.project_code,projects]);// Normaliza horas: '1,5' -> 1.5\nconst hoursNumber=useMemo(()=>{var _formData$hours;const raw=String((_formData$hours=formData.hours)!==null&&_formData$hours!==void 0?_formData$hours:'').replace(',','.').trim();const n=Number(raw);return Number.isFinite(n)?n:0;},[formData.hours]);// Validación booleana real\nconst isFormValid=useMemo(()=>{const required=[formData.project_code,formData.phase,formData.discipline,formData.activity];const allFilled=required.every(v=>typeof v==='string'?v.trim().length>0:Boolean(v));return allFilled&&hoursNumber>0;},[formData.project_code,formData.phase,formData.discipline,formData.activity,hoursNumber]);// Fetchers\nconst refreshDailyActivities=useCallback(async(date,id)=>{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{dailyActivities:true}));try{const dateString=format(date,'yyyy-MM-dd');const acts=await getDailyActivities(dateString,Number(id));setDailyActivities(acts);}catch(error){toast.error('Error al cargar las actividades del día.');console.error(error);}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{dailyActivities:false}));}},[]);const fetchProjects=useCallback(async()=>{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{projects:true}));try{const projectData=await getProjects();setProjects(projectData);}catch(error){toast.error('Error al cargar proyectos.');console.error(error);}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{projects:false}));}},[]);const fetchStages=useCallback(async projectCode=>{if(!projectCode)return;setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{stages:true}));try{const stageData=await getProjectStages(projectCode);// Filtrar valores nulos o vacíos y convertir a string\nconst validStages=stageData.filter(stage=>stage!=null&&String(stage).trim()!=='').map(String);setStages(validStages);return validStages;}catch(error){console.error('Error al cargar las etapas:',error);toast.error('Error al cargar las etapas del proyecto.');setStages([]);return[];}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{stages:false}));}},[]);const fetchDisciplines=useCallback(async(projectCode,stage)=>{if(!projectCode||!stage){setDisciplines([]);return[];}setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{disciplines:true}));try{const disciplineData=await getDisciplinesByStage(projectCode,stage);// Filtrar valores nulos o vacíos y convertir a string\nconst validDisciplines=disciplineData.filter(discipline=>discipline!=null&&String(discipline).trim()!=='').map(String);setDisciplines(validDisciplines);return validDisciplines;}catch(error){console.error('Error al cargar las disciplinas:',error);toast.error('Error al cargar las disciplinas.');setDisciplines([]);return[];}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{disciplines:false}));}},[]);const fetchActivities=useCallback(async(projectCode,stage,discipline)=>{if(!projectCode||!stage||!discipline){setActivities([]);return[];}setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{activities:true}));try{const activityData=await getActivitiesByDiscipline(projectCode,stage,discipline);// Filtrar valores nulos o vacíos y convertir a string\nconst validActivities=activityData.filter(activity=>activity!=null&&String(activity).trim()!=='').map(String);setActivities(validActivities);return validActivities;}catch(error){console.error('Error al cargar las actividades:',error);toast.error('Error al cargar las actividades.');setActivities([]);return[];}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{activities:false}));}},[]);// Effects\nuseEffect(()=>{fetchProjects();},[fetchProjects]);useEffect(()=>{refreshDailyActivities(selectedDate,String(employeeId));},[selectedDate,employeeId,refreshDailyActivities]);// Handlers\nconst handleDateChange=date=>{if(date){setSelectedDate(date);refreshDailyActivities(date,String(employeeId));}};const handleChange=e=>{const{name,value}=e.target;const v=name==='hours'?value.replace(',','.'):value;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:v}));};// Manejar la tecla Enter en el textarea de notas\nconst handleNoteKeyDown=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();}};const handleSelectChange=async(name,value)=>{// Crear una copia actualizada del formulario\nconst updatedFormData=_objectSpread(_objectSpread({},formData),{},{[name]:value});// Manejar cambios en cascada basados en el campo modificado\nswitch(name){case'project_code':// Limpiar campos dependientes\nupdatedFormData.phase='';updatedFormData.discipline='';updatedFormData.activity='';// Limpiar estados de opciones\nsetStages([]);setDisciplines([]);setActivities([]);// Cargar etapas si hay un proyecto seleccionado\nif(value){await fetchStages(value);}break;case'phase':// Limpiar campos dependientes\nupdatedFormData.discipline='';updatedFormData.activity='';// Limpiar estados de opciones dependientes\nsetDisciplines([]);setActivities([]);// Cargar disciplinas si hay una fase seleccionada\nif(value&&updatedFormData.project_code){await fetchDisciplines(updatedFormData.project_code,value);}break;case'discipline':// Limpiar actividad\nupdatedFormData.activity='';// Limpiar actividades\nsetActivities([]);// Cargar actividades si hay una disciplina seleccionada\nif(value&&updatedFormData.project_code&&updatedFormData.phase){await fetchActivities(updatedFormData.project_code,updatedFormData.phase,value);}break;}// Actualizar el estado del formulario\nsetFormData(updatedFormData);};const resetForm=useCallback(()=>{setFormData(initialFormData(employeeId));setEditingActivityId(null);},[employeeId]);// Precarga dependencias al editar + rellena form\nconst handleEditActivity=useCallback(async activity=>{try{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{form:true}));// 1. Primero actualizamos la fecha si es necesario\nif(activity.date){try{const activityDate=parseISO(activity.date);// Solo actualizar la fecha si es diferente a la actual\nif(format(activityDate,'yyyy-MM-dd')!==format(selectedDate,'yyyy-MM-dd')){setSelectedDate(activityDate);// Esperamos un momento para que se actualice la fecha\nawait new Promise(resolve=>setTimeout(resolve,100));}}catch(error){console.error('Error al analizar la fecha:',error);}}// 2. Establecer el ID de edición y datos iniciales del formulario\nsetEditingActivityId(activity.id);// 3. Crear un objeto con los datos iniciales\nconst initialData=_objectSpread(_objectSpread({},initialFormData(employeeId)),{},{project_code:activity.project_code||'',phase:activity.phase||'',discipline:activity.discipline||'',activity:activity.activity||'',hours:activity.hours?String(activity.hours).replace('.',','):'',note:activity.note||''});// 4. Actualizar el formulario con los datos iniciales\nsetFormData(initialData);// 5. Si hay proyecto, cargar etapas\nif(activity.project_code){await fetchStages(activity.project_code);// 6. Si hay fase, cargar disciplinas\nif(activity.phase){await fetchDisciplines(activity.project_code,activity.phase);// 7. Si hay disciplina, cargar actividades\nif(activity.discipline){await fetchActivities(activity.project_code,activity.phase,activity.discipline);}}}// Desplazar al formulario\nwindow.scrollTo({top:0,behavior:'smooth'});}catch(error){console.error('Error al cargar la actividad para edición:',error);toast.error('Error al cargar la actividad para edición',{duration:2000});}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{form:false}));}},[fetchStages,fetchDisciplines,fetchActivities,selectedDate,formData,employeeId]);const handleDelete=async idToDelete=>{if(!idToDelete){console.error('handleDelete: ID de actividad no proporcionado');toast.error('No se pudo eliminar: ID de actividad no válido');return;}try{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{delete:idToDelete}));// Mostrar mensaje de carga\nconst toastId=toast.loading('Eliminando actividad...',{duration:2000});// Pasar el ID como string, sin convertirlo a número\nawait deleteHour(idToDelete);// Actualizar la lista de actividades\nawait refreshDailyActivities(selectedDate,String(employeeId));// Si la actividad eliminada es la que se estaba editando, limpiar el formulario\nif(editingActivityId===idToDelete){resetForm();}// Mostrar mensaje de éxito\ntoast.success('Actividad eliminada correctamente',{id:toastId,duration:2000});}catch(error){console.error('Error al eliminar la actividad:',error);const errorMessage=error.message||'Error al eliminar la actividad. Por favor, intente nuevamente.';toast.error(errorMessage,{duration:2000});}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{delete:null}));}};const handleSubmit=async e=>{e.preventDefault();// Validar campos requeridos\nconst requiredFields=['project_code','phase','discipline','activity','hours'];const missingFields=requiredFields.filter(field=>{const value=formData[field];// Considerar el campo como faltante si es undefined, null, string vacío o array/objeto vacío\nreturn value===undefined||value===null||value===''||Array.isArray(value)&&value.length===0||typeof value==='object'&&Object.keys(value).length===0;});if(missingFields.length>0){toast.error('Por favor complete todos los campos requeridos.',{duration:2000});return;}// Validar formato de horas\nconst hoursValue=typeof formData.hours==='string'?parseFloat(formData.hours.replace(',','.')):formData.hours;if(isNaN(hoursValue)||hoursValue<=0){toast.error('Por favor ingrese un número válido de horas.',{duration:2000});return;}setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{submit:true}));try{// Buscar el nombre del proyecto\nconst project=projects.find(p=>p.code===formData.project_code);// Preparar datos para enviar\nconst submissionData={project_code:formData.project_code,phase:formData.phase,discipline:formData.discipline,activity:formData.activity,hours:hoursValue,note:formData.note||'',date:format(selectedDate,'yyyy-MM-dd'),employee_id:employeeId};console.log('Datos a enviar:',submissionData);// Mostrar mensaje de carga\nconst loadingMessage=editingActivityId?'Actualizando actividad...':'Guardando actividad...';const toastId=toast.loading(loadingMessage);try{// Usar submitHours que maneja tanto CREATE como UPDATE basado en el ID\nif(editingActivityId){await updateHour(editingActivityId,submissionData);}else{await submitHours(submissionData);}// Mostrar mensaje de éxito\ntoast.success(\"Actividad \".concat(editingActivityId?'actualizada':'guardada',\" con \\xE9xito.\"),{id:toastId,duration:2000,style:{backgroundColor:'#28a745',color:'white',border:'none',fontSize:'14px',padding:'12px 20px',borderRadius:'4px'}});// Limpiar formulario y actualizar lista de actividades\nresetForm();await refreshDailyActivities(selectedDate,String(employeeId));// Llamar a la función de éxito si existe\nif(onSuccess){onSuccess();}}catch(error){// Mostrar mensaje de error específico\ntoast.error(\"Error al \".concat(editingActivityId?'actualizar':'guardar',\" la actividad.\"),{id:toastId,duration:2000});throw error;// Relanzar el error para que sea capturado por el catch externo\n}}catch(error){console.error('Error al guardar la actividad:',error);toast.error('Error al guardar la actividad. Por favor, intente nuevamente.',{duration:4000,style:{backgroundColor:'#dc3545',color:'white',fontSize:'14px',padding:'12px 20px',borderRadius:'4px'}});}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{submit:false}));}};// Render\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{userName:employeeName,onLogout:onLogout}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-4 sm:p-6 lg:p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-5 gap-8\",children:[/*#__PURE__*/_jsx(\"main\",{className:\"lg:col-span-3\",children:/*#__PURE__*/_jsxs(Card,{className:\"relative z-10\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center justify-center\",children:[editingActivityId?/*#__PURE__*/_jsx(Pencil,{className:\"mr-2 h-5 w-5\"}):/*#__PURE__*/_jsx(PlusCircle,{className:\"mr-2 h-5 w-5\"}),editingActivityId?'Editar Actividad':'Registrar Actividad']})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:\"block text-sm font-medium text-foreground/80 mb-1\",children:\"Fecha\"}),/*#__PURE__*/_jsxs(Popover,{children:[/*#__PURE__*/_jsx(PopoverTrigger,{asChild:true,children:/*#__PURE__*/_jsxs(Button,{variant:\"outline\",className:cn('w-full justify-start text-left font-normal',!selectedDate&&'text-muted-foreground'),children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"mr-2 h-4 w-4\"}),selectedDate?/*#__PURE__*/_jsx(\"span\",{children:format(selectedDate,'PPP',{locale:es})}):/*#__PURE__*/_jsx(\"span\",{children:\"Seleccione una fecha\"})]})}),/*#__PURE__*/_jsx(PopoverContent,{className:\"w-auto p-0\",children:/*#__PURE__*/_jsx(Calendar,{mode:\"single\",selected:selectedDate,onSelect:handleDateChange,initialFocus:true,locale:es})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(FormSelect,{label:\"C\\xF3digo de Proyecto\",name:\"project_code\",value:formData.project_code,onValueChange:handleSelectChange,options:projects.map(p=>({value:p.code,label:p.code,// En el trigger solo se ve el código\ndropdownLabel:\"\".concat(p.code,\" - \").concat(p.name)// En la lista: código - nombre\n})),placeholder:\"Seleccione un proyecto\",loading:loading.projects,disabled:loading.projects,icon:/*#__PURE__*/_jsx(Briefcase,{className:\"h-4 w-4\"}),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-foreground/80 mb-1\",children:\"Nombre del Proyecto\"}),/*#__PURE__*/_jsx(Input,{value:selectedProjectName,readOnly:true,className:\"bg-muted/50\"})]}),/*#__PURE__*/_jsx(FormSelect,{label:\"Etapa\",name:\"phase\",value:formData.phase,onValueChange:handleSelectChange,options:stages.map(s=>({value:s,label:s})),placeholder:\"Seleccione una etapa\",loading:loading.stages,disabled:!formData.project_code||loading.stages,icon:/*#__PURE__*/_jsx(ListChecks,{className:\"h-4 w-4\"}),required:true}),/*#__PURE__*/_jsx(FormSelect,{label:\"Disciplina\",name:\"discipline\",value:formData.discipline,onValueChange:handleSelectChange,options:disciplines.map(d=>({value:d,label:d})),placeholder:\"Seleccione una disciplina\",loading:loading.disciplines,disabled:!formData.phase||loading.disciplines,icon:/*#__PURE__*/_jsx(Pencil,{className:\"h-4 w-4\"}),required:true}),/*#__PURE__*/_jsx(FormSelect,{label:\"Actividad\",name:\"activity\",value:formData.activity,onValueChange:handleSelectChange,options:activities.map(a=>({value:a,label:a})),placeholder:\"Seleccione una actividad\",loading:loading.activities,disabled:!formData.discipline||loading.activities,icon:/*#__PURE__*/_jsx(ClipboardList,{className:\"h-4 w-4\"}),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"hours\",className:\"block text-sm font-medium text-foreground/80 mb-1\",children:[\"Horas \",/*#__PURE__*/_jsx(\"span\",{className:\"text-destructive\",children:\"*\"})]}),/*#__PURE__*/_jsx(Input,{id:\"hours\",name:\"hours\",type:\"number\",value:formData.hours,onChange:handleChange,min:\"0.5\",step:\"0.5\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"note\",className:\"block text-sm font-medium text-foreground/80 mb-1\",children:\"Nota (Opcional)\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"note\",name:\"note\",value:formData.note,onChange:handleChange,onKeyDown:handleNoteKeyDown,rows:3,className:\"flex h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",placeholder:\"Escriba una nota (opcional)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center gap-3 pt-4\",children:[editingActivityId&&/*#__PURE__*/_jsxs(Button,{type:\"button\",variant:\"outline\",onClick:resetForm,children:[/*#__PURE__*/_jsx(XCircle,{className:\"mr-2 h-4 w-4\"}),\"Cancelar Edici\\xF3n\"]}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",disabled:!isFormValid||loading.submit,className:\"min-w-[150px]\",children:[loading.submit?/*#__PURE__*/_jsx(Loader2,{className:\"mr-2 h-4 w-4 animate-spin\"}):/*#__PURE__*/_jsx(Save,{className:\"mr-2 h-4 w-4\"}),editingActivityId?'Actualizar':'Guardar']})]})]})})]})}),/*#__PURE__*/_jsx(\"aside\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-center\",children:\"Actividades del D\\xEDa\"})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:loading.dailyActivities?/*#__PURE__*/_jsx(ActivityListSkeleton,{}):dailyActivities.length>0?dailyActivities.map(activity=>/*#__PURE__*/_jsx(ActivityItem,{activity:activity,onEdit:handleEditActivity,onDelete:handleDelete},activity.id)):/*#__PURE__*/_jsx(EmptyState,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(TotalHoursProgress,{totalHours:totalHoursToday,selectedDate:selectedDate})})]})]})})]})})]});};export default FormularioHoras;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","format","parseISO","es","Header","toast","Calendar","CalendarIcon","Briefcase","Save","Pencil","ListChecks","ClipboardList","XCircle","PlusCircle","Loader2","Card","CardContent","CardHeader","CardTitle","Button","Input","Popover","PopoverContent","PopoverTrigger","cn","FormSelect","ActivityItem","ActivityListSkeleton","EmptyState","TotalHoursProgress","submitHours","getProjects","getProjectStages","getDisciplinesByStage","getActivitiesByDiscipline","getDailyActivities","deleteHour","updateHour","jsx","_jsx","jsxs","_jsxs","initialFormData","employeeId","employee_id","String","project_code","phase","discipline","activity","hours","note","FormularioHoras","_ref","onSuccess","employeeName","onLogout","formData","setFormData","selectedDate","setSelectedDate","Date","dailyActivities","setDailyActivities","projects","setProjects","stages","setStages","disciplines","setDisciplines","activities","setActivities","editingActivityId","setEditingActivityId","loading","setLoading","submit","delete","totalHoursToday","reduce","sum","a","selectedProjectName","_projects$find","find","p","code","name","hoursNumber","_formData$hours","raw","replace","trim","n","Number","isFinite","isFormValid","required","allFilled","every","v","length","Boolean","refreshDailyActivities","date","id","prev","_objectSpread","dateString","acts","error","console","fetchProjects","projectData","fetchStages","projectCode","stageData","validStages","filter","stage","map","fetchDisciplines","disciplineData","validDisciplines","fetchActivities","activityData","validActivities","handleDateChange","handleChange","e","value","target","handleNoteKeyDown","key","shiftKey","preventDefault","handleSelectChange","updatedFormData","resetForm","handleEditActivity","form","activityDate","Promise","resolve","setTimeout","initialData","window","scrollTo","top","behavior","duration","handleDelete","idToDelete","toastId","success","errorMessage","message","handleSubmit","requiredFields","missingFields","field","undefined","Array","isArray","Object","keys","hoursValue","parseFloat","isNaN","project","submissionData","log","loadingMessage","concat","style","backgroundColor","color","border","fontSize","padding","borderRadius","children","userName","className","onSubmit","htmlFor","asChild","variant","locale","mode","selected","onSelect","initialFocus","label","onValueChange","options","dropdownLabel","placeholder","disabled","icon","readOnly","s","d","type","onChange","min","step","onKeyDown","rows","onClick","onEdit","onDelete","totalHours"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/components/FormularioHoras.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport Header from './Header';\n\nimport { toast } from 'sonner';\nimport {\n  Calendar as CalendarIcon,\n  Briefcase,\n  Save,\n  Pencil,\n  ListChecks,\n  ClipboardList,\n  XCircle,\n  PlusCircle,\n  Loader2,\n} from 'lucide-react';\n\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Calendar } from './ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from './ui/popover';\nimport { cn } from '../lib/utils';\n\nimport { FormSelect } from './formulario/FormSelect';\nimport { ActivityItem } from './formulario/ActivityItem';\nimport { ActivityListSkeleton } from './formulario/ActivityListSkeleton';\nimport { EmptyState } from './formulario/EmptyState';\nimport { TotalHoursProgress } from './formulario/TotalHoursProgress';\n\nimport {\n  submitHours,\n  getProjects,\n  getProjectStages,\n  getDisciplinesByStage,\n  getActivitiesByDiscipline,\n  getDailyActivities,\n  deleteHour,\n  updateHour,\n} from '../api/horasApi';\n\n// Props e interfaces\ninterface FormularioHorasProps {\n  onSuccess: () => void;\n  employeeId: number;\n  employeeName: string;\n  onLogout: () => void;\n}\n\ninterface Project {\n  code: string;\n  name: string;\n}\n\n// Importar la interfaz DailyActivity desde horasApi\nimport { DailyActivity } from '../api/horasApi';\n\n// Usar la interfaz DailyActivity en lugar de definir Activity\ntype Activity = DailyActivity;\n\nconst initialFormData = (employeeId: number) => ({\n  employee_id: String(employeeId),\n  project_code: '',\n  phase: '',\n  discipline: '',\n  activity: '',\n  hours: '',\n  note: '',\n});\n\nconst FormularioHoras: React.FC<FormularioHorasProps> = ({\n  onSuccess,\n  employeeId,\n  employeeName,\n  onLogout,\n}) => {\n  // State\n  const [formData, setFormData] = useState(initialFormData(employeeId));\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [dailyActivities, setDailyActivities] = useState<Activity[]>([]);\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [stages, setStages] = useState<string[]>([]);\n  const [disciplines, setDisciplines] = useState<string[]>([]);\n  const [activities, setActivities] = useState<string[]>([]);\n  const [editingActivityId, setEditingActivityId] = useState<string | null>(null);\n\n  // Loading\n  const [loading, setLoading] = useState({\n    submit: false,\n    projects: true,\n    stages: false,\n    disciplines: false,\n    activities: false,\n    dailyActivities: true,\n    delete: null as string | null, // ID de la actividad que se está eliminando o null\n  });\n\n  // Derivados\n  const totalHoursToday = useMemo(\n    () => dailyActivities.reduce((sum, a) => sum + a.hours, 0),\n    [dailyActivities]\n  );\n\n  const selectedProjectName = useMemo(\n    () => projects.find((p) => p.code === formData.project_code)?.name || '',\n    [formData.project_code, projects]\n  );\n\n  // Normaliza horas: '1,5' -> 1.5\n  const hoursNumber = useMemo(() => {\n    const raw = String(formData.hours ?? '').replace(',', '.').trim();\n    const n = Number(raw);\n    return Number.isFinite(n) ? n : 0;\n  }, [formData.hours]);\n\n  // Validación booleana real\n  const isFormValid = useMemo(() => {\n    const required = [\n      formData.project_code,\n      formData.phase,\n      formData.discipline,\n      formData.activity,\n    ];\n    const allFilled = required.every((v) =>\n      typeof v === 'string' ? v.trim().length > 0 : Boolean(v)\n    );\n    return allFilled && hoursNumber > 0;\n  }, [formData.project_code, formData.phase, formData.discipline, formData.activity, hoursNumber]);\n\n  // Fetchers\n  const refreshDailyActivities = useCallback(async (date: Date, id: string) => {\n    setLoading((prev) => ({ ...prev, dailyActivities: true }));\n    try {\n      const dateString = format(date, 'yyyy-MM-dd');\n      const acts = await getDailyActivities(dateString, Number(id));\n      setDailyActivities(acts);\n    } catch (error) {\n      toast.error('Error al cargar las actividades del día.');\n      console.error(error);\n    } finally {\n      setLoading((prev) => ({ ...prev, dailyActivities: false }));\n    }\n  }, []);\n\n  const fetchProjects = useCallback(async () => {\n    setLoading((prev) => ({ ...prev, projects: true }));\n    try {\n      const projectData = await getProjects();\n      setProjects(projectData);\n    } catch (error) {\n      toast.error('Error al cargar proyectos.');\n      console.error(error);\n    } finally {\n      setLoading((prev) => ({ ...prev, projects: false }));\n    }\n  }, []);\n\n  const fetchStages = useCallback(async (projectCode: string) => {\n    if (!projectCode) return;\n    \n    setLoading((prev) => ({ ...prev, stages: true }));\n    try {\n      const stageData = await getProjectStages(projectCode);\n      // Filtrar valores nulos o vacíos y convertir a string\n      const validStages = stageData\n        .filter((stage: any) => stage != null && String(stage).trim() !== '')\n        .map(String);\n      \n      setStages(validStages);\n      return validStages;\n    } catch (error) {\n      console.error('Error al cargar las etapas:', error);\n      toast.error('Error al cargar las etapas del proyecto.');\n      setStages([]);\n      return [];\n    } finally {\n      setLoading((prev) => ({ ...prev, stages: false }));\n    }\n  }, []);\n\n  const fetchDisciplines = useCallback(async (projectCode: string, stage: string) => {\n    if (!projectCode || !stage) {\n      setDisciplines([]);\n      return [];\n    }\n    \n    setLoading((prev) => ({ ...prev, disciplines: true }));\n    try {\n      const disciplineData = await getDisciplinesByStage(projectCode, stage);\n      // Filtrar valores nulos o vacíos y convertir a string\n      const validDisciplines = disciplineData\n        .filter((discipline: any) => discipline != null && String(discipline).trim() !== '')\n        .map(String);\n      \n      setDisciplines(validDisciplines);\n      return validDisciplines;\n    } catch (error) {\n      console.error('Error al cargar las disciplinas:', error);\n      toast.error('Error al cargar las disciplinas.');\n      setDisciplines([]);\n      return [];\n    } finally {\n      setLoading((prev) => ({ ...prev, disciplines: false }));\n    }\n  }, []);\n\n  const fetchActivities = useCallback(\n    async (projectCode: string, stage: string, discipline: string) => {\n      if (!projectCode || !stage || !discipline) {\n        setActivities([]);\n        return [];\n      }\n      \n      setLoading((prev) => ({ ...prev, activities: true }));\n      try {\n        const activityData = await getActivitiesByDiscipline(projectCode, stage, discipline);\n        // Filtrar valores nulos o vacíos y convertir a string\n        const validActivities = activityData\n          .filter((activity: any) => activity != null && String(activity).trim() !== '')\n          .map(String);\n        \n        setActivities(validActivities);\n        return validActivities;\n      } catch (error) {\n        console.error('Error al cargar las actividades:', error);\n        toast.error('Error al cargar las actividades.');\n        setActivities([]);\n        return [];\n      } finally {\n        setLoading((prev) => ({ ...prev, activities: false }));\n      }\n    },\n    []\n  );\n\n  // Effects\n  useEffect(() => {\n    fetchProjects();\n  }, [fetchProjects]);\n\n  useEffect(() => {\n    refreshDailyActivities(selectedDate, String(employeeId));\n  }, [selectedDate, employeeId, refreshDailyActivities]);\n\n  // Handlers\n  const handleDateChange = (date: Date | undefined) => {\n    if (date) {\n      setSelectedDate(date);\n      refreshDailyActivities(date, String(employeeId));\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    const v = name === 'hours' ? value.replace(',', '.') : value;\n    setFormData((prev) => ({ ...prev, [name]: v }));\n  };\n\n  // Manejar la tecla Enter en el textarea de notas\n  const handleNoteKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n    }\n  };\n\n  const handleSelectChange = async (name: string, value: string) => {\n    // Crear una copia actualizada del formulario\n    const updatedFormData = { ...formData, [name]: value };\n\n    // Manejar cambios en cascada basados en el campo modificado\n    switch (name) {\n      case 'project_code':\n        // Limpiar campos dependientes\n        updatedFormData.phase = '';\n        updatedFormData.discipline = '';\n        updatedFormData.activity = '';\n        \n        // Limpiar estados de opciones\n        setStages([]);\n        setDisciplines([]);\n        setActivities([]);\n        \n        // Cargar etapas si hay un proyecto seleccionado\n        if (value) {\n          await fetchStages(value);\n        }\n        break;\n        \n      case 'phase':\n        // Limpiar campos dependientes\n        updatedFormData.discipline = '';\n        updatedFormData.activity = '';\n        \n        // Limpiar estados de opciones dependientes\n        setDisciplines([]);\n        setActivities([]);\n        \n        // Cargar disciplinas si hay una fase seleccionada\n        if (value && updatedFormData.project_code) {\n          await fetchDisciplines(updatedFormData.project_code, value);\n        }\n        break;\n        \n      case 'discipline':\n        // Limpiar actividad\n        updatedFormData.activity = '';\n        \n        // Limpiar actividades\n        setActivities([]);\n        \n        // Cargar actividades si hay una disciplina seleccionada\n        if (value && updatedFormData.project_code && updatedFormData.phase) {\n          await fetchActivities(\n            updatedFormData.project_code, \n            updatedFormData.phase, \n            value\n          );\n        }\n        break;\n    }\n\n    // Actualizar el estado del formulario\n    setFormData(updatedFormData);\n  };\n\n  const resetForm = useCallback(() => {\n    setFormData(initialFormData(employeeId));\n    setEditingActivityId(null);\n  }, [employeeId]);\n\n  // Precarga dependencias al editar + rellena form\n  const handleEditActivity = useCallback(\n    async (activity: Activity) => {\n      try {\n        setLoading(prev => ({ ...prev, form: true }));\n        \n        // 1. Primero actualizamos la fecha si es necesario\n        if (activity.date) {\n          try {\n            const activityDate = parseISO(activity.date);\n            // Solo actualizar la fecha si es diferente a la actual\n            if (format(activityDate, 'yyyy-MM-dd') !== format(selectedDate, 'yyyy-MM-dd')) {\n              setSelectedDate(activityDate);\n              // Esperamos un momento para que se actualice la fecha\n              await new Promise(resolve => setTimeout(resolve, 100));\n            }\n          } catch (error) {\n            console.error('Error al analizar la fecha:', error);\n          }\n        }\n\n        // 2. Establecer el ID de edición y datos iniciales del formulario\n        setEditingActivityId(activity.id);\n        \n        // 3. Crear un objeto con los datos iniciales\n        const initialData = {\n          ...initialFormData(employeeId),\n          project_code: activity.project_code || '',\n          phase: activity.phase || '',\n          discipline: activity.discipline || '',\n          activity: activity.activity || '',\n          hours: activity.hours ? String(activity.hours).replace('.', ',') : '',\n          note: activity.note || '',\n        };\n        \n        // 4. Actualizar el formulario con los datos iniciales\n        setFormData(initialData);\n        \n        // 5. Si hay proyecto, cargar etapas\n        if (activity.project_code) {\n          await fetchStages(activity.project_code);\n          \n          // 6. Si hay fase, cargar disciplinas\n          if (activity.phase) {\n            await fetchDisciplines(activity.project_code, activity.phase);\n            \n            // 7. Si hay disciplina, cargar actividades\n            if (activity.discipline) {\n              await fetchActivities(\n                activity.project_code, \n                activity.phase, \n                activity.discipline\n              );\n            }\n          }\n        }\n\n        // Desplazar al formulario\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n        \n      } catch (error) {\n        console.error('Error al cargar la actividad para edición:', error);\n        toast.error('Error al cargar la actividad para edición', { duration: 2000 });\n      } finally {\n        setLoading(prev => ({ ...prev, form: false }));\n      }\n    },\n    [fetchStages, fetchDisciplines, fetchActivities, selectedDate, formData, employeeId]\n  );\n\n  const handleDelete = async (idToDelete: string) => {\n    if (!idToDelete) {\n      console.error('handleDelete: ID de actividad no proporcionado');\n      toast.error('No se pudo eliminar: ID de actividad no válido');\n      return;\n    }\n\n    try {\n      setLoading(prev => ({ ...prev, delete: idToDelete }));\n      \n      // Mostrar mensaje de carga\n      const toastId = toast.loading('Eliminando actividad...', { duration: 2000 });\n      \n      // Pasar el ID como string, sin convertirlo a número\n      await deleteHour(idToDelete);\n      \n      // Actualizar la lista de actividades\n      await refreshDailyActivities(selectedDate, String(employeeId));\n      \n      // Si la actividad eliminada es la que se estaba editando, limpiar el formulario\n      if (editingActivityId === idToDelete) {\n        resetForm();\n      }\n      \n      // Mostrar mensaje de éxito\n      toast.success('Actividad eliminada correctamente', { \n        id: toastId,\n        duration: 2000,\n      });\n      \n    } catch (error: any) {\n      console.error('Error al eliminar la actividad:', error);\n      const errorMessage = error.message || 'Error al eliminar la actividad. Por favor, intente nuevamente.';\n      toast.error(errorMessage, { \n        duration: 2000,\n      });\n    } finally {\n      setLoading(prev => ({ ...prev, delete: null }));\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Validar campos requeridos\n    const requiredFields: (keyof typeof formData)[] = ['project_code', 'phase', 'discipline', 'activity', 'hours'];\n    const missingFields = requiredFields.filter(field => {\n      const value = formData[field];\n      // Considerar el campo como faltante si es undefined, null, string vacío o array/objeto vacío\n      return value === undefined || value === null || value === '' || \n             (Array.isArray(value) && value.length === 0) ||\n             (typeof value === 'object' && Object.keys(value).length === 0);\n    });\n    \n    if (missingFields.length > 0) {\n      toast.error('Por favor complete todos los campos requeridos.', { duration: 2000 });\n      return;\n    }\n\n    // Validar formato de horas\n    const hoursValue = typeof formData.hours === 'string' \n      ? parseFloat(formData.hours.replace(',', '.')) \n      : formData.hours;\n      \n    if (isNaN(hoursValue) || hoursValue <= 0) {\n      toast.error('Por favor ingrese un número válido de horas.', { duration: 2000 });\n      return;\n    }\n\n    setLoading((prev) => ({ ...prev, submit: true }));\n\n    try {\n      // Buscar el nombre del proyecto\n      const project = projects.find(p => p.code === formData.project_code);\n      \n      // Preparar datos para enviar\n      const submissionData = {\n        project_code: formData.project_code,\n        phase: formData.phase,\n        discipline: formData.discipline,\n        activity: formData.activity,\n        hours: hoursValue,\n        note: formData.note || '',\n        date: format(selectedDate, 'yyyy-MM-dd'),\n        employee_id: employeeId,\n      };\n      \n      console.log('Datos a enviar:', submissionData);\n\n      // Mostrar mensaje de carga\n      const loadingMessage = editingActivityId \n        ? 'Actualizando actividad...' \n        : 'Guardando actividad...';\n      \n      const toastId = toast.loading(loadingMessage);\n\n      try {\n        // Usar submitHours que maneja tanto CREATE como UPDATE basado en el ID\n        if (editingActivityId) {\n          await updateHour(editingActivityId, submissionData);\n        } else {\n          await submitHours(submissionData);\n        }\n        \n        // Mostrar mensaje de éxito\n        toast.success(\n          `Actividad ${editingActivityId ? 'actualizada' : 'guardada'} con éxito.`,\n          { \n            id: toastId,\n            duration: 2000,\n            style: { \n              backgroundColor: '#28a745', \n              color: 'white', \n              border: 'none',\n              fontSize: '14px',\n              padding: '12px 20px',\n              borderRadius: '4px'\n            }\n          }\n        );\n        \n        // Limpiar formulario y actualizar lista de actividades\n        resetForm();\n        await refreshDailyActivities(selectedDate, String(employeeId));\n        \n        // Llamar a la función de éxito si existe\n        if (onSuccess) {\n          onSuccess();\n        }\n      } catch (error) {\n        // Mostrar mensaje de error específico\n        toast.error(\n          `Error al ${editingActivityId ? 'actualizar' : 'guardar'} la actividad.`, \n          { id: toastId, duration: 2000 }\n        );\n        throw error; // Relanzar el error para que sea capturado por el catch externo\n      }\n      \n    } catch (error) {\n      console.error('Error al guardar la actividad:', error);\n      toast.error(\n        'Error al guardar la actividad. Por favor, intente nuevamente.', \n        { \n          duration: 4000,\n          style: { \n            backgroundColor: '#dc3545', \n            color: 'white',\n            fontSize: '14px',\n            padding: '12px 20px',\n            borderRadius: '4px'\n          } \n        }\n      );\n    } finally {\n      setLoading((prev) => ({ ...prev, submit: false }));\n    }\n  };\n\n  // Render\n  return (\n    <div>\n      <Header userName={employeeName} onLogout={onLogout} />\n      <div className=\"container mx-auto p-4 sm:p-6 lg:p-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-8\">\n          <main className=\"lg:col-span-3\">\n            {/* z-10 evita que el Popover tape el botón */}\n            <Card className=\"relative z-10\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-center\">\n                  {editingActivityId ? (\n                    <Pencil className=\"mr-2 h-5 w-5\" />\n                  ) : (\n                    <PlusCircle className=\"mr-2 h-5 w-5\" />\n                  )}\n                  {editingActivityId ? 'Editar Actividad' : 'Registrar Actividad'}\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\n                  <div className=\"w-full md:w-1/3\">\n                    <label\n                      htmlFor=\"date\"\n                      className=\"block text-sm font-medium text-foreground/80 mb-1\"\n                    >\n                      Fecha\n                    </label>\n\n                    <Popover>\n                      <PopoverTrigger asChild>\n                        <Button\n                          variant=\"outline\"\n                          className={cn(\n                            'w-full justify-start text-left font-normal',\n                            !selectedDate && 'text-muted-foreground'\n                          )}\n                        >\n                          <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                          {selectedDate ? (\n                            <span>{format(selectedDate, 'PPP', { locale: es })}</span>\n                          ) : (\n                            <span>Seleccione una fecha</span>\n                          )}\n                        </Button>\n                      </PopoverTrigger>\n\n                      <PopoverContent className=\"w-auto p-0\">\n                        <Calendar\n                          mode=\"single\"\n                          selected={selectedDate}\n                          onSelect={handleDateChange}\n                          initialFocus\n                          locale={es}\n                        />\n                      </PopoverContent>\n                    </Popover>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <FormSelect\n                      label=\"Código de Proyecto\"\n                      name=\"project_code\"\n                      value={formData.project_code}\n                      onValueChange={handleSelectChange}\n                      options={projects.map((p) => ({\n                        value: p.code,\n                        label: p.code, // En el trigger solo se ve el código\n                        dropdownLabel: `${p.code} - ${p.name}`, // En la lista: código - nombre\n                      }))}\n                      placeholder=\"Seleccione un proyecto\"\n                      loading={loading.projects}\n                      disabled={loading.projects}\n                      icon={<Briefcase className=\"h-4 w-4\" />}\n                      required\n                    />\n\n                    <div className=\"space-y-2\">\n                      <label className=\"block text-sm font-medium text-foreground/80 mb-1\">\n                        Nombre del Proyecto\n                      </label>\n                      <Input value={selectedProjectName} readOnly className=\"bg-muted/50\" />\n                    </div>\n\n                    <FormSelect\n                      label=\"Etapa\"\n                      name=\"phase\"\n                      value={formData.phase}\n                      onValueChange={handleSelectChange}\n                      options={stages.map((s) => ({ value: s, label: s }))}\n                      placeholder=\"Seleccione una etapa\"\n                      loading={loading.stages}\n                      disabled={!formData.project_code || loading.stages}\n                      icon={<ListChecks className=\"h-4 w-4\" />}\n                      required\n                    />\n\n                    <FormSelect\n                      label=\"Disciplina\"\n                      name=\"discipline\"\n                      value={formData.discipline}\n                      onValueChange={handleSelectChange}\n                      options={disciplines.map((d) => ({ value: d, label: d }))}\n                      placeholder=\"Seleccione una disciplina\"\n                      loading={loading.disciplines}\n                      disabled={!formData.phase || loading.disciplines}\n                      icon={<Pencil className=\"h-4 w-4\" />}\n                      required\n                    />\n\n                    <FormSelect\n                      label=\"Actividad\"\n                      name=\"activity\"\n                      value={formData.activity}\n                      onValueChange={handleSelectChange}\n                      options={activities.map((a) => ({ value: a, label: a }))}\n                      placeholder=\"Seleccione una actividad\"\n                      loading={loading.activities}\n                      disabled={!formData.discipline || loading.activities}\n                      icon={<ClipboardList className=\"h-4 w-4\" />}\n                      required\n                    />\n\n                    <div className=\"space-y-2\">\n                      <label\n                        htmlFor=\"hours\"\n                        className=\"block text-sm font-medium text-foreground/80 mb-1\"\n                      >\n                        Horas <span className=\"text-destructive\">*</span>\n                      </label>\n                      <Input\n                        id=\"hours\"\n                        name=\"hours\"\n                        type=\"number\"\n                        value={formData.hours}\n                        onChange={handleChange}\n                        min=\"0.5\"\n                        step=\"0.5\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <label\n                      htmlFor=\"note\"\n                      className=\"block text-sm font-medium text-foreground/80 mb-1\"\n                    >\n                      Nota (Opcional)\n                    </label>\n                    <textarea\n                      id=\"note\"\n                      name=\"note\"\n                      value={formData.note}\n                      onChange={handleChange}\n                      onKeyDown={handleNoteKeyDown}\n                      rows={3}\n                      className=\"flex h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                      placeholder=\"Escriba una nota (opcional)\"\n                    />\n                  </div>\n\n                  <div className=\"flex justify-end items-center gap-3 pt-4\">\n                    {editingActivityId && (\n                      <Button type=\"button\" variant=\"outline\" onClick={resetForm}>\n                        <XCircle className=\"mr-2 h-4 w-4\" />\n                        Cancelar Edición\n                      </Button>\n                    )}\n\n                    <Button\n                      type=\"submit\"\n                      disabled={!isFormValid || loading.submit}\n                      className=\"min-w-[150px]\"\n                    >\n                      {loading.submit ? (\n                        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      ) : (\n                        <Save className=\"mr-2 h-4 w-4\" />\n                      )}\n                      {editingActivityId ? 'Actualizar' : 'Guardar'}\n                    </Button>\n                  </div>\n                </form>\n              </CardContent>\n            </Card>\n          </main>\n\n          <aside className=\"lg:col-span-2\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-center\">Actividades del Día</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {loading.dailyActivities ? (\n                    <ActivityListSkeleton />\n                  ) : dailyActivities.length > 0 ? (\n                    dailyActivities.map((activity) => (\n                      <ActivityItem\n                        key={activity.id}\n                        activity={activity}\n                        onEdit={handleEditActivity}\n                        onDelete={handleDelete}\n                      />\n                    ))\n                  ) : (\n                    <EmptyState />\n                  )}\n                </div>\n                <div className=\"mt-6\">\n                  <TotalHoursProgress totalHours={totalHoursToday} selectedDate={selectedDate} />\n                </div>\n              </CardContent>\n            </Card>\n          </aside>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FormularioHoras;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}