{"ast":null,"code":"import React from'react';import{Select,SelectContent,SelectItem,SelectTrigger}from'../ui/select';import{Loader2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const FormSelect=_ref=>{let{label,name,value,onValueChange,options,placeholder,loading,disabled,icon,required}=_ref;const selected=React.useMemo(()=>options.find(opt=>opt.value===value),[options,value]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:name,className:\"text-sm font-medium flex items-center\",children:[icon,/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[label,required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-destructive ml-1\",children:\"*\"})]}),loading&&/*#__PURE__*/_jsx(Loader2,{className:\"ml-2 h-4 w-4 animate-spin\"})]}),/*#__PURE__*/_jsxs(Select,{value:value,onValueChange:val=>onValueChange(name,val),disabled:disabled||loading,children:[/*#__PURE__*/_jsx(SelectTrigger,{id:name,className:\"w-full\",children:/*#__PURE__*/_jsx(\"span\",{className:selected?undefined:'text-muted-foreground',children:selected?selected.label:placeholder})}),/*#__PURE__*/_jsx(SelectContent,{children:loading?/*#__PURE__*/// IMPORTANT: no usar value=\"\" — Radix lo prohíbe\n_jsx(SelectItem,{value:\"__loading__\",disabled:true,children:\"Cargando...\"}):options.length>0?options.map(option=>{var _option$dropdownLabel;return/*#__PURE__*/_jsx(SelectItem,{value:option.value,children:(_option$dropdownLabel=option.dropdownLabel)!==null&&_option$dropdownLabel!==void 0?_option$dropdownLabel:option.label},option.value);}):/*#__PURE__*/_jsx(SelectItem,{value:\"__empty__\",disabled:true,children:\"Sin opciones\"})})]})]});};","map":{"version":3,"names":["React","Select","SelectContent","SelectItem","SelectTrigger","Loader2","jsx","_jsx","jsxs","_jsxs","FormSelect","_ref","label","name","value","onValueChange","options","placeholder","loading","disabled","icon","required","selected","useMemo","find","opt","className","children","htmlFor","val","id","undefined","length","map","option","_option$dropdownLabel","dropdownLabel"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/components/formulario/FormSelect.tsx"],"sourcesContent":["import React from 'react';\nimport { Select, SelectContent, SelectItem, SelectTrigger } from '../ui/select';\nimport { Loader2 } from 'lucide-react';\n\ntype Option = {\n  value: string;\n  /** Texto que se muestra en el trigger (lo que queda visible tras seleccionar). */\n  label: string;\n  /** Texto opcional solo para el dropdown; si no se provee, usa label. */\n  dropdownLabel?: string;\n};\n\ninterface FormSelectProps {\n  label: string;\n  name: string;\n  value: string;\n  onValueChange: (name: string, value: string) => void;\n  options: Option[];\n  placeholder: string;\n  loading: boolean;\n  disabled: boolean;\n  icon: React.ReactNode;\n  required?: boolean;\n}\n\nexport const FormSelect: React.FC<FormSelectProps> = ({\n  label,\n  name,\n  value,\n  onValueChange,\n  options,\n  placeholder,\n  loading,\n  disabled,\n  icon,\n  required,\n}) => {\n  const selected = React.useMemo(\n    () => options.find((opt) => opt.value === value),\n    [options, value]\n  );\n\n  return (\n    <div className=\"space-y-2\">\n      <label htmlFor={name} className=\"text-sm font-medium flex items-center\">\n        {icon}\n        <span className=\"ml-2\">\n          {label}\n          {required && <span className=\"text-destructive ml-1\">*</span>}\n        </span>\n        {loading && <Loader2 className=\"ml-2 h-4 w-4 animate-spin\" />}\n      </label>\n\n      <Select\n        value={value}\n        onValueChange={(val) => onValueChange(name, val)}\n        disabled={disabled || loading}\n      >\n        <SelectTrigger id={name} className=\"w-full\">\n          {/* Trigger: si hay seleccionado mostramos su label; si no, el placeholder */}\n          <span className={selected ? undefined : 'text-muted-foreground'}>\n            {selected ? selected.label : placeholder}\n          </span>\n        </SelectTrigger>\n\n        <SelectContent>\n          {loading ? (\n            // IMPORTANT: no usar value=\"\" — Radix lo prohíbe\n            <SelectItem value=\"__loading__\" disabled>\n              Cargando...\n            </SelectItem>\n          ) : options.length > 0 ? (\n            options.map((option) => (\n              <SelectItem key={option.value} value={option.value}>\n                {option.dropdownLabel ?? option.label}\n              </SelectItem>\n            ))\n          ) : (\n            <SelectItem value=\"__empty__\" disabled>\n              Sin opciones\n            </SelectItem>\n          )}\n        </SelectContent>\n      </Select>\n    </div>\n  );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,aAAa,CAAEC,UAAU,CAAEC,aAAa,KAAQ,cAAc,CAC/E,OAASC,OAAO,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAuBvC,MAAO,MAAM,CAAAC,UAAqC,CAAGC,IAAA,EAW/C,IAXgD,CACpDC,KAAK,CACLC,IAAI,CACJC,KAAK,CACLC,aAAa,CACbC,OAAO,CACPC,WAAW,CACXC,OAAO,CACPC,QAAQ,CACRC,IAAI,CACJC,QACF,CAAC,CAAAV,IAAA,CACC,KAAM,CAAAW,QAAQ,CAAGtB,KAAK,CAACuB,OAAO,CAC5B,IAAMP,OAAO,CAACQ,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACX,KAAK,GAAKA,KAAK,CAAC,CAChD,CAACE,OAAO,CAAEF,KAAK,CACjB,CAAC,CAED,mBACEL,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlB,KAAA,UAAOmB,OAAO,CAAEf,IAAK,CAACa,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EACpEP,IAAI,cACLX,KAAA,SAAMiB,SAAS,CAAC,MAAM,CAAAC,QAAA,EACnBf,KAAK,CACLS,QAAQ,eAAId,IAAA,SAAMmB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACzD,CAAC,CACNT,OAAO,eAAIX,IAAA,CAACF,OAAO,EAACqB,SAAS,CAAC,2BAA2B,CAAE,CAAC,EACxD,CAAC,cAERjB,KAAA,CAACR,MAAM,EACLa,KAAK,CAAEA,KAAM,CACbC,aAAa,CAAGc,GAAG,EAAKd,aAAa,CAACF,IAAI,CAAEgB,GAAG,CAAE,CACjDV,QAAQ,CAAEA,QAAQ,EAAID,OAAQ,CAAAS,QAAA,eAE9BpB,IAAA,CAACH,aAAa,EAAC0B,EAAE,CAAEjB,IAAK,CAACa,SAAS,CAAC,QAAQ,CAAAC,QAAA,cAEzCpB,IAAA,SAAMmB,SAAS,CAAEJ,QAAQ,CAAGS,SAAS,CAAG,uBAAwB,CAAAJ,QAAA,CAC7DL,QAAQ,CAAGA,QAAQ,CAACV,KAAK,CAAGK,WAAW,CACpC,CAAC,CACM,CAAC,cAEhBV,IAAA,CAACL,aAAa,EAAAyB,QAAA,CACXT,OAAO,cACN;AACAX,IAAA,CAACJ,UAAU,EAACW,KAAK,CAAC,aAAa,CAACK,QAAQ,MAAAQ,QAAA,CAAC,aAEzC,CAAY,CAAC,CACXX,OAAO,CAACgB,MAAM,CAAG,CAAC,CACpBhB,OAAO,CAACiB,GAAG,CAAEC,MAAM,OAAAC,qBAAA,oBACjB5B,IAAA,CAACJ,UAAU,EAAoBW,KAAK,CAAEoB,MAAM,CAACpB,KAAM,CAAAa,QAAA,EAAAQ,qBAAA,CAChDD,MAAM,CAACE,aAAa,UAAAD,qBAAA,UAAAA,qBAAA,CAAID,MAAM,CAACtB,KAAK,EADtBsB,MAAM,CAACpB,KAEZ,CAAC,EACd,CAAC,cAEFP,IAAA,CAACJ,UAAU,EAACW,KAAK,CAAC,WAAW,CAACK,QAAQ,MAAAQ,QAAA,CAAC,cAEvC,CAAY,CACb,CACY,CAAC,EACV,CAAC,EACN,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}