{"ast":null,"code":"var _jsxFileName = \"D:\\\\formulario de horas\\\\FormularioHoras Version 1\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Toaster } from 'sonner';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\n\n// Application components\nimport FormularioHoras from './components/FormularioHoras';\nimport FormularioPermisos from './components/FormularioPermisos';\nimport LoginPage from './components/LoginPage';\nimport PowerBIPage from './components/PowerBIPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Wrapper component for FormularioHoras that provides navigation\nconst FormularioHorasWrapper = ({\n  onSuccess,\n  employeeId,\n  employeeName,\n  onLogout,\n  onShowPowerBI\n}) => {\n  _s();\n  const navigate = useNavigate();\n  return /*#__PURE__*/_jsxDEV(FormularioHoras, {\n    onSuccess: onSuccess,\n    employeeId: employeeId,\n    employeeName: employeeName,\n    onLogout: onLogout,\n    onShowPowerBI: onShowPowerBI,\n    onNavigateToHours: () => navigate('/horas'),\n    onNavigateToPermissions: () => navigate('/permisos')\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n\n// Wrapper component for FormularioPermisos that provides navigation\n_s(FormularioHorasWrapper, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = FormularioHorasWrapper;\nconst FormularioPermisosWrapper = ({\n  onSuccess,\n  employeeId,\n  employeeName,\n  onLogout,\n  onShowPowerBI\n}) => {\n  _s2();\n  const navigate = useNavigate();\n  return /*#__PURE__*/_jsxDEV(FormularioPermisos, {\n    onSuccess: onSuccess,\n    employeeId: employeeId,\n    employeeName: employeeName,\n    onLogout: onLogout,\n    onShowPowerBI: onShowPowerBI,\n    onNavigateToHours: () => navigate('/horas')\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s2(FormularioPermisosWrapper, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = FormularioPermisosWrapper;\nfunction App() {\n  _s3();\n  const [authenticatedUser, setAuthenticatedUser] = useState(() => {\n    // Comprueba la variable de entorno para saltar el login en modo de desarrollo.\n    if (process.env.REACT_APP_SKIP_LOGIN === 'true') {\n      return {\n        id: 999,\n        name: 'Usuario de Desarrollo'\n      }; // Usuario de prueba\n    }\n    return null;\n  });\n  const [showPowerBI, setShowPowerBI] = useState(false);\n  const handleLoginSuccess = userData => {\n    setAuthenticatedUser({\n      id: userData.employee_id,\n      name: userData.employee_name\n    });\n  };\n  const handleLogout = () => {\n    setAuthenticatedUser(null);\n  };\n  const handleSuccess = () => {\n    console.log(\"Operation successful, summary update might be needed.\");\n  };\n  const handleShowPowerBI = () => {\n    setShowPowerBI(true);\n  };\n  const handleHidePowerBI = () => {\n    setShowPowerBI(false);\n  };\n\n  // If showing Power BI page, render it exclusively\n  if (showPowerBI && authenticatedUser) {\n    return /*#__PURE__*/_jsxDEV(PowerBIPage, {\n      onBack: handleHidePowerBI\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-background text-foreground flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(Toaster, {\n        position: \"top-right\",\n        richColors: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 w-full\",\n        children: !authenticatedUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-screen\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full max-w-md p-4\",\n            children: /*#__PURE__*/_jsxDEV(LoginPage, {\n              onLoginSuccess: handleLoginSuccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/horas\",\n            element: /*#__PURE__*/_jsxDEV(FormularioHorasWrapper, {\n              onSuccess: handleSuccess,\n              employeeId: authenticatedUser.id,\n              employeeName: authenticatedUser.name,\n              onLogout: handleLogout,\n              onShowPowerBI: handleShowPowerBI\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/permisos\",\n            element: /*#__PURE__*/_jsxDEV(FormularioPermisosWrapper, {\n              onSuccess: handleSuccess,\n              employeeId: authenticatedUser.id,\n              employeeName: authenticatedUser.name,\n              onLogout: handleLogout,\n              onShowPowerBI: handleShowPowerBI\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/horas\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 26\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"2uV2De2pWrv9Scjdgj/AI+c1vNs=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"FormularioHorasWrapper\");\n$RefreshReg$(_c2, \"FormularioPermisosWrapper\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","Toaster","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","FormularioHoras","FormularioPermisos","LoginPage","PowerBIPage","jsxDEV","_jsxDEV","FormularioHorasWrapper","onSuccess","employeeId","employeeName","onLogout","onShowPowerBI","_s","navigate","onNavigateToHours","onNavigateToPermissions","fileName","_jsxFileName","lineNumber","columnNumber","_c","FormularioPermisosWrapper","_s2","_c2","App","_s3","authenticatedUser","setAuthenticatedUser","process","env","REACT_APP_SKIP_LOGIN","id","name","showPowerBI","setShowPowerBI","handleLoginSuccess","userData","employee_id","employee_name","handleLogout","handleSuccess","console","log","handleShowPowerBI","handleHidePowerBI","onBack","children","className","position","richColors","onLoginSuccess","path","element","to","replace","_c3","$RefreshReg$"],"sources":["D:/formulario de horas/FormularioHoras Version 1/frontend/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Toaster } from 'sonner';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\n\n// Application components\nimport FormularioHoras from './components/FormularioHoras';\nimport FormularioPermisos from './components/FormularioPermisos';\nimport LoginPage from './components/LoginPage';\nimport PowerBIPage from './components/PowerBIPage';\n\ninterface AuthenticatedUser {\n  id: number;\n  name: string;\n}\n\n// Wrapper component for FormularioHoras that provides navigation\nconst FormularioHorasWrapper: React.FC<{\n  onSuccess: () => void;\n  employeeId: number;\n  employeeName: string;\n  onLogout: () => void;\n  onShowPowerBI: () => void;\n}> = ({ onSuccess, employeeId, employeeName, onLogout, onShowPowerBI }) => {\n  const navigate = useNavigate();\n  \n  return (\n    <FormularioHoras\n      onSuccess={onSuccess}\n      employeeId={employeeId}\n      employeeName={employeeName}\n      onLogout={onLogout}\n      onShowPowerBI={onShowPowerBI}\n      onNavigateToHours={() => navigate('/horas')}\n      onNavigateToPermissions={() => navigate('/permisos')}\n    />\n  );\n};\n\n// Wrapper component for FormularioPermisos that provides navigation\nconst FormularioPermisosWrapper: React.FC<{\n  onSuccess: () => void;\n  employeeId: number;\n  employeeName: string;\n  onLogout: () => void;\n  onShowPowerBI: () => void;\n}> = ({ onSuccess, employeeId, employeeName, onLogout, onShowPowerBI }) => {\n  const navigate = useNavigate();\n  \n  return (\n    <FormularioPermisos\n      onSuccess={onSuccess}\n      employeeId={employeeId}\n      employeeName={employeeName}\n      onLogout={onLogout}\n      onShowPowerBI={onShowPowerBI}\n      onNavigateToHours={() => navigate('/horas')}\n    />\n  );\n};\n\nfunction App() {\n const [authenticatedUser, setAuthenticatedUser] = useState<AuthenticatedUser | null>(() => {\n    // Comprueba la variable de entorno para saltar el login en modo de desarrollo.\n    if (process.env.REACT_APP_SKIP_LOGIN === 'true') {\n      return { id: 999, name: 'Usuario de Desarrollo' }; // Usuario de prueba\n    }\n    return null;\n  });\n  \n  const [showPowerBI, setShowPowerBI] = useState(false);\n\n  const handleLoginSuccess = (userData: { employee_id: number; employee_name: string }) => {\n    setAuthenticatedUser({ \n      id: userData.employee_id, \n      name: userData.employee_name \n    });\n  };\n\n  const handleLogout = () => {\n    setAuthenticatedUser(null);\n  };\n\n const handleSuccess = () => {\n    console.log(\"Operation successful, summary update might be needed.\");\n  };\n\n  const handleShowPowerBI = () => {\n    setShowPowerBI(true);\n  };\n\n  const handleHidePowerBI = () => {\n    setShowPowerBI(false);\n  };\n\n  // If showing Power BI page, render it exclusively\n  if (showPowerBI && authenticatedUser) {\n    return <PowerBIPage onBack={handleHidePowerBI} />;\n  }\n\n  return (\n    <Router>\n      <div className=\"min-h-screen bg-background text-foreground flex flex-col\">\n        <Toaster position=\"top-right\" richColors />\n        \n        <main className=\"flex-1 w-full\">\n          {!authenticatedUser ? (\n            <div className=\"flex items-center justify-center h-screen\">\n              <div className=\"w-full max-w-md p-4\">\n                <LoginPage onLoginSuccess={handleLoginSuccess} />\n              </div>\n            </div>\n          ) : (\n            <Routes>\n              <Route \n                path=\"/horas\" \n                element={\n                  <FormularioHorasWrapper\n                    onSuccess={handleSuccess}\n                    employeeId={authenticatedUser.id}\n                    employeeName={authenticatedUser.name}\n                    onLogout={handleLogout}\n                    onShowPowerBI={handleShowPowerBI}\n                  />\n                } \n              />\n              <Route \n                path=\"/permisos\" \n                element={\n                  <FormularioPermisosWrapper\n                    onSuccess={handleSuccess}\n                    employeeId={authenticatedUser.id}\n                    employeeName={authenticatedUser.name}\n                    onLogout={handleLogout}\n                    onShowPowerBI={handleShowPowerBI}\n                  />\n                } \n              />\n              <Route \n                path=\"/\" \n                element={<Navigate to=\"/horas\" replace />} \n              />\n            </Routes>\n          )}\n        </main>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}